import{j as e,H as f,L as l,a as u}from"./app--oLSQgjR.js";import{A as g}from"./app-layout-aOGxd_q2.js";import{H as N}from"./heading-BgWctNm7.js";import{B as d}from"./button-BN7WC3q7.js";import{B as b}from"./badge-CWF5cg5q.js";import{C as t,a,b as i,d as n,c as v}from"./card-v20oQSZV.js";import{T as y,a as C,b as c,c as o,d as _,e as m}from"./table-EvS7vjaJ.js";import{f as H,a as w}from"./format-BCEI6t3r.js";import{A as S}from"./arrow-left-Bou7GuG7.js";import{S as T}from"./square-pen-CLQxDy0b.js";import{C as k}from"./clock-CK9u35Hn.js";import{M as A}from"./map-pin-Cqr5hK28.js";import{C as D}from"./app-header-Bo-FFvph.js";import{U as E}from"./users-D87iwE3x.js";import{c as I}from"./createLucideIcon-BfRBFJrZ.js";import"./app-dy3UidUM.js";import"./utils-CBfrqCZ4.js";import"./index-DspzWAaE.js";import"./index-q7SesbL1.js";import"./index-DnquCMmM.js";import"./toaster-C48dRa5L.js";import"./index-YEfPdCwI.js";import"./wayfinder-FFrBTblC.js";import"./house-ci8uoh7Q.js";import"./credit-card-C4ufIze6.js";import"./lock-DmDY4a2H.js";import"./shield-Bk3COgPA.js";import"./music-D1IzBeR_.js";import"./mail-m8j6SE7_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$=I("UserMinus",B);function ce({schedule:s}){const x=r=>{confirm(`¿Estás seguro de desinscribir a ${r.name} de este horario?`)&&u.delete(`/horarios/${s.id}/students/${r.id}`,{preserveScroll:!0})},j=r=>{const p={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",completed:"bg-blue-100 text-blue-800"},h={active:"Activo",inactive:"Inactivo",completed:"Completado"};return e.jsx(b,{className:p[r],children:h[r]})};return e.jsxs(g,{children:[e.jsx(f,{title:`Horario: ${s.name}`}),e.jsx(N,{title:"Detalle del Horario",description:s.name}),e.jsxs("div",{className:"mb-6 flex gap-3",children:[e.jsx(l,{href:"/horarios",children:e.jsxs(d,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),"Volver a Horarios"]})}),e.jsx(l,{href:`/horarios/${s.id}/edit`,children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Editar Horario"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(i,{className:"text-base",children:"Información General"})}),e.jsxs(n,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Programa Académico"}),e.jsx("p",{className:"text-sm font-semibold",children:s.academic_program.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Profesor"}),e.jsx("p",{className:"text-sm font-semibold",children:s.professor?e.jsxs(e.Fragment,{children:[s.professor.name,e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.professor.email})]}):e.jsx("span",{className:"text-muted-foreground",children:"Sin asignar"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Estado"}),e.jsx("div",{className:"mt-1",children:j(s.status)})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(i,{className:"text-base flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Horario"]})}),e.jsxs(n,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Días"}),e.jsx("p",{className:"text-sm font-semibold",children:s.days_of_week})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Hora"}),e.jsx("p",{className:"text-sm font-semibold",children:H(s.start_time,s.end_time)})]}),s.classroom&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"Aula"]}),e.jsx("p",{className:"text-sm font-semibold",children:s.classroom})]}),s.semester&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),"Semestre"]}),e.jsx("p",{className:"text-sm font-semibold",children:s.semester})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(i,{className:"text-base flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Cupo de Estudiantes"]})}),e.jsxs(n,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inscritos"}),e.jsxs("p",{className:"text-2xl font-bold",children:[s.enrolled_count," / ",s.max_students]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cupos disponibles"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:s.available_slots})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${s.enrolled_count/s.max_students*100}%`}})})]})]})]}),s.description&&e.jsxs(t,{className:"mb-6",children:[e.jsx(a,{children:e.jsx(i,{className:"text-base",children:"Descripción"})}),e.jsx(n,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(i,{children:"Estudiantes Inscritos"}),e.jsxs(v,{children:[s.enrolled_count," estudiante(s) inscrito(s). Para inscribir nuevos estudiantes, use el módulo de Inscripciones."]})]}),e.jsx(n,{children:s.enrollments.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay estudiantes inscritos en este horario"}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(c,{children:[e.jsx(o,{children:"Nombre"}),e.jsx(o,{children:"Email"}),e.jsx(o,{children:"Fecha de Inscripción"}),e.jsx(o,{className:"text-right",children:"Acciones"})]})}),e.jsx(_,{children:s.enrollments.map(r=>e.jsxs(c,{children:[e.jsx(m,{className:"font-medium",children:r.student.name}),e.jsx(m,{children:r.student.email}),e.jsx(m,{children:w(r.enrollment_date,{short:!0})}),e.jsx(m,{className:"text-right",children:e.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>x(r.student),className:"flex items-center gap-2 text-destructive hover:text-destructive",children:[e.jsx($,{className:"w-4 h-4"}),"Desinscribir"]})})]},r.id))})]})})})]})]})}export{ce as default};
