import{u as x,j as e,H as h}from"./app-BTsTmNHL.js";import{H as m}from"./heading-small-Be1fECO3.js";import{I as o}from"./input-error-Blcm3Ic-.js";import{B as v}from"./button-DHWy1sMZ.js";import{I as n}from"./input-ByQX7EgY.js";import{L as i}from"./label-DpgAQGE0.js";import{S as g,a as j,b,c as _,d}from"./select-BFiwholf.js";import{S as f}from"./switch-BXCVvAM-.js";import{A as y}from"./app-layout-DvED1s6G.js";import{b as N,S as k}from"./layout-8zOXShlT.js";import{C}from"./credit-card-hBcSXXah.js";import"./app-wl4OcAi7.js";import"./utils-DH-wF4ET.js";import"./index-LpK5PVwZ.js";import"./index-dA5djur3.js";import"./index-CJAUbtvd.js";import"./index-14eEdcO_.js";import"./index-CW1ToYuC.js";import"./createLucideIcon-BpBpuwpV.js";import"./check-D869P5tu.js";import"./index-DxuDvd6X.js";import"./app-header-D2Oz5n03.js";import"./chevron-right-0jzdpj9F.js";import"./index-uKizCvsm.js";import"./index-CE4OBYY8.js";import"./wayfinder-Bf9OnZdi.js";import"./index-DRJGpeji.js";import"./graduation-cap-Trlp4gyO.js";import"./users-h2wBCBD3.js";import"./calendar-DDc1qb2p.js";import"./file-text-3tdMIzFQ.js";import"./lock-DcjRt7_U.js";import"./shield-BBMlsM4L.js";import"./mail-CoNFoU7a.js";import"./toaster-CwE1Un-Z.js";import"./heading-CIKz1naE.js";import"./index-BbeadLAU.js";import"./index-DmHkLzld.js";const S=[{title:"Configuración Wompi",href:N().url}];function de({wompiSetting:r}){const{data:s,setData:t,patch:p,processing:c,errors:l}=x({environment:r?.environment??"test",public_key:r?.public_key??"",private_key:"",events_secret:"",integrity_secret:"",api_url:r?.api_url??"https://sandbox.wompi.co/v1",is_active:r?.is_active??!1}),u=a=>{a.preventDefault(),p("/settings/wompi",{preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:S,children:[e.jsx(h,{title:"Configuración Wompi"}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(m,{title:"Pasarela de Pago Wompi",description:"Configura las credenciales de Wompi para procesar pagos en línea"}),e.jsx("form",{onSubmit:u,className:"space-y-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"environment",children:"Ambiente"}),e.jsxs(g,{value:s.environment,onValueChange:a=>{t({...s,environment:a,api_url:a==="production"?"https://production.wompi.co/v1":"https://sandbox.wompi.co/v1"})},children:[e.jsx(j,{className:"w-full",children:e.jsx(b,{placeholder:"Seleccionar ambiente"})}),e.jsxs(_,{children:[e.jsx(d,{value:"test",children:"Pruebas (Sandbox)"}),e.jsx(d,{value:"production",children:"Producción"})]})]}),e.jsx(o,{className:"mt-2",message:l.environment})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"public_key",children:"Llave Pública (Public Key)"}),e.jsx(n,{id:"public_key",name:"public_key",type:"text",className:"mt-1 block w-full font-mono text-sm",value:s.public_key,onChange:a=>t("public_key",a.target.value),placeholder:"pub_test_...",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"La llave pública se usa en el frontend"}),e.jsx(o,{className:"mt-2",message:l.public_key})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"private_key",children:"Llave Privada (Private Key)"}),e.jsx(n,{id:"private_key",name:"private_key",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.private_key,onChange:a=>t("private_key",a.target.value),placeholder:"prv_test_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener la llave actual":"La llave privada se usa para operaciones del servidor"}),e.jsx(o,{className:"mt-2",message:l.private_key})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"events_secret",children:"Secreto de Eventos (Events Secret)"}),e.jsx(n,{id:"events_secret",name:"events_secret",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.events_secret,onChange:a=>t("events_secret",a.target.value),placeholder:"test_events_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener el secreto actual":"Se usa para validar webhooks de Wompi"}),e.jsx(o,{className:"mt-2",message:l.events_secret})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"integrity_secret",children:"Secreto de Integridad (Integrity Secret)"}),e.jsx(n,{id:"integrity_secret",name:"integrity_secret",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.integrity_secret,onChange:a=>t("integrity_secret",a.target.value),placeholder:"test_integrity_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener el secreto actual":"Se usa para generar firmas de integridad en el widget"}),e.jsx(o,{className:"mt-2",message:l.integrity_secret})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"api_url",children:"URL de la API"}),e.jsx(n,{id:"api_url",name:"api_url",type:"url",className:"mt-1 block w-full font-mono text-sm",value:s.api_url,onChange:a=>t("api_url",a.target.value),placeholder:"https://sandbox.wompi.co/v1",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Se actualiza automáticamente al cambiar el ambiente"}),e.jsx(o,{className:"mt-2",message:l.api_url})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"is_active",children:"Configuración activa"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita esta configuración para procesar pagos"})]}),e.jsx(f,{id:"is_active",checked:s.is_active,onCheckedChange:a=>t("is_active",a)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(v,{type:"submit",disabled:c,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),c?"Guardando...":"Guardar Configuración"]})})]})}),e.jsxs("div",{className:"rounded-lg border bg-muted/50 p-6 space-y-4",children:[e.jsx(m,{title:"¿Cómo obtener las credenciales?",description:"Sigue estos pasos para obtener tus claves de Wompi"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:["Inicia sesión en"," ",e.jsx("a",{href:"https://comercios.sandbox.wompi.co/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"comercios.sandbox.wompi.co"})," ","(para pruebas)"]}),e.jsx("li",{children:'Ve a la sección "Developers" o "Desarrolladores"'}),e.jsx("li",{children:"Copia todas las claves y pégalas en los campos correspondientes"}),e.jsx("li",{children:"Guarda la configuración y actívala cuando estés listo"})]}),e.jsx("div",{className:"mt-4 rounded-md bg-blue-50 dark:bg-blue-950/20 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Nota:"})," Las claves de prueba empiezan con"," ",e.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded",children:"test_"})," ","y las de producción con"," ",e.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded",children:"prod_"})]})})]})]})})]})}export{de as default};
