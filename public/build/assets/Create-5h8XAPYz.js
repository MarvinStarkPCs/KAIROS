import{r as u,j as e,u as ie,H as te}from"./app-CCy7W__U.js";import{u as T,B as M}from"./button-BPe5EzVr.js";import{I as c}from"./input-fxUu1f-f.js";import{L as i}from"./label-yFtup6Gn.js";import{T as q}from"./textarea-Dxw2yNos.js";import{g as B,e as oe,u as le,c as O,R as de,I as ce,a as G,P as me,b as ue,d as pe,t as he}from"./index-m7oUW3f4.js";import{P as L}from"./index-B9GwPkn3.js";import{c as H}from"./utils-CBfrqCZ4.js";import{c as xe}from"./createLucideIcon-CmQENsVl.js";import{C as V}from"./checkbox-DvxXS5Tw.js";import{C,a as R,b as F,c as S,d as w}from"./card-wEqWHHWF.js";import{S as I,a as A,b as P,c as k,d as f}from"./select-VKW6tq9v.js";import{I as t}from"./input-error-C5SFlxyP.js";import{C as je}from"./chevron-left-C4HqK5DG.js";import{C as ge}from"./circle-check-big-BmU4oyw_.js";import"./app-C6vnqMAD.js";import"./index-Drvm0ZTs.js";import"./check-DzagFdTk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],be=xe("Circle",_e);var z="Radio",[ve,K]=O(z),[fe,ye]=ve(z),$=u.forwardRef((o,l)=>{const{__scopeRadio:d,name:m,checked:a=!1,required:r,disabled:p,value:x="on",onCheck:n,form:j,..._}=o,[g,v]=u.useState(null),s=T(l,N=>v(N)),h=u.useRef(!1),y=g?j||!!g.closest("form"):!0;return e.jsxs(fe,{scope:d,checked:a,disabled:p,children:[e.jsx(L.button,{type:"button",role:"radio","aria-checked":a,"data-state":Y(a),"data-disabled":p?"":void 0,disabled:p,value:x,..._,ref:s,onClick:G(o.onClick,N=>{a||n?.(),y&&(h.current=N.isPropagationStopped(),h.current||N.stopPropagation())})}),y&&e.jsx(X,{control:g,bubbles:!h.current,name:m,value:x,checked:a,required:r,disabled:p,form:j,style:{transform:"translateX(-100%)"}})]})});$.displayName=z;var U="RadioIndicator",J=u.forwardRef((o,l)=>{const{__scopeRadio:d,forceMount:m,...a}=o,r=ye(U,d);return e.jsx(me,{present:m||r.checked,children:e.jsx(L.span,{"data-state":Y(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:l})})});J.displayName=U;var Ne="RadioBubbleInput",X=u.forwardRef(({__scopeRadio:o,control:l,checked:d,bubbles:m=!0,...a},r)=>{const p=u.useRef(null),x=T(p,r),n=ue(d),j=pe(l);return u.useEffect(()=>{const _=p.current;if(!_)return;const g=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(g,"checked").set;if(n!==d&&s){const h=new Event("click",{bubbles:m});s.call(_,d),_.dispatchEvent(h)}},[n,d,m]),e.jsx(L.input,{type:"radio","aria-hidden":!0,defaultChecked:d,...a,tabIndex:-1,ref:x,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});X.displayName=Ne;function Y(o){return o?"checked":"unchecked"}var Ce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D="RadioGroup",[Re,Je]=O(D,[B,K]),W=B(),Z=K(),[Fe,Se]=Re(D),Q=u.forwardRef((o,l)=>{const{__scopeRadioGroup:d,name:m,defaultValue:a,value:r,required:p=!1,disabled:x=!1,orientation:n,dir:j,loop:_=!0,onValueChange:g,...v}=o,s=W(d),h=oe(j),[y,N]=le({prop:r,defaultProp:a??null,onChange:g,caller:D});return e.jsx(Fe,{scope:d,name:m,required:p,disabled:x,value:y,onValueChange:N,children:e.jsx(de,{asChild:!0,...s,orientation:n,dir:h,loop:_,children:e.jsx(L.div,{role:"radiogroup","aria-required":p,"aria-orientation":n,"data-disabled":x?"":void 0,dir:h,...v,ref:l})})})});Q.displayName=D;var ee="RadioGroupItem",se=u.forwardRef((o,l)=>{const{__scopeRadioGroup:d,disabled:m,...a}=o,r=Se(ee,d),p=r.disabled||m,x=W(d),n=Z(d),j=u.useRef(null),_=T(l,j),g=r.value===a.value,v=u.useRef(!1);return u.useEffect(()=>{const s=y=>{Ce.includes(y.key)&&(v.current=!0)},h=()=>v.current=!1;return document.addEventListener("keydown",s),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",h)}},[]),e.jsx(ce,{asChild:!0,...x,focusable:!p,active:g,children:e.jsx($,{disabled:p,required:r.required,checked:g,...n,...a,name:r.name,ref:_,onCheck:()=>r.onValueChange(a.value),onKeyDown:G(s=>{s.key==="Enter"&&s.preventDefault()}),onFocus:G(a.onFocus,()=>{v.current&&j.current?.click()})})})});se.displayName=ee;var we="RadioGroupIndicator",ae=u.forwardRef((o,l)=>{const{__scopeRadioGroup:d,...m}=o,a=Z(d);return e.jsx(J,{...a,...m,ref:l})});ae.displayName=we;var re=Q,ne=se,Ee=ae;const E=u.forwardRef(({className:o,...l},d)=>e.jsx(re,{className:H("grid gap-2",o),...l,ref:d}));E.displayName=re.displayName;const b=u.forwardRef(({className:o,...l},d)=>e.jsx(ne,{ref:d,className:H("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),...l,children:e.jsx(Ee,{className:"flex items-center justify-center",children:e.jsx(be,{className:"h-2.5 w-2.5 fill-current text-current"})})}));b.displayName=ne.displayName;function Xe({programs:o}){const[l,d]=u.useState(1),m=6,{data:a,setData:r,post:p,processing:x,errors:n}=ie({responsable:{name:"",last_name:"",email:"",password:"",password_confirmation:"",document_type:"CC",document_number:"",birth_place:"",birth_date:"",gender:"M",address:"",neighborhood:"",phone:"",mobile:"",city:"",department:""},is_minor:!1,estudiante:{name:"",last_name:"",email:"",document_type:"TI",document_number:"",birth_place:"",birth_date:"",gender:"M"},datos_musicales:{plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",desired_instrument:"",modality:"",current_level:1},program_id:"",schedule_id:"",parental_authorization:!1,payment_commitment:!1}),j=()=>{l<m&&d(l+1)},_=()=>{l>1&&d(l-1)},g=s=>{s.preventDefault(),console.log("Enviando formulario con datos:",a),p("/matricula",{onError:h=>{console.log("Errores de validación:",h),window.scrollTo({top:0,behavior:"smooth"})},onSuccess:()=>{console.log("Matrícula completada exitosamente")}})},v=()=>{switch(l){case 1:return e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Datos del Responsable"}),e.jsx(S,{children:"Ingrese los datos de la persona responsable de la matrícula"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_name",children:"Nombre *"}),e.jsx(c,{id:"responsable_name",value:a.responsable.name,onChange:s=>r("responsable",{...a.responsable,name:s.target.value}),placeholder:"Nombre"}),e.jsx(t,{message:n["responsable.name"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_last_name",children:"Apellidos *"}),e.jsx(c,{id:"responsable_last_name",value:a.responsable.last_name,onChange:s=>r("responsable",{...a.responsable,last_name:s.target.value}),placeholder:"Apellidos"}),e.jsx(t,{message:n["responsable.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_document_type",children:"Tipo de Documento *"}),e.jsxs(I,{value:a.responsable.document_type,onValueChange:s=>r("responsable",{...a.responsable,document_type:s}),children:[e.jsx(A,{children:e.jsx(P,{placeholder:"Seleccione"})}),e.jsxs(k,{children:[e.jsx(f,{value:"TI",children:"T.I"}),e.jsx(f,{value:"CC",children:"C.C"})]})]}),e.jsx(t,{message:n["responsable.document_type"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"responsable_document_number",children:"Número de Documento *"}),e.jsx(c,{id:"responsable_document_number",value:a.responsable.document_number,onChange:s=>r("responsable",{...a.responsable,document_number:s.target.value}),placeholder:"Número de documento"}),e.jsx(t,{message:n["responsable.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_birth_place",children:"Lugar de Nacimiento"}),e.jsx(c,{id:"responsable_birth_place",value:a.responsable.birth_place,onChange:s=>r("responsable",{...a.responsable,birth_place:s.target.value}),placeholder:"Ciudad o Municipio"}),e.jsx(t,{message:n["responsable.birth_place"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(c,{id:"responsable_birth_date",type:"date",value:a.responsable.birth_date,onChange:s=>r("responsable",{...a.responsable,birth_date:s.target.value})}),e.jsx(t,{message:n["responsable.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Género *"}),e.jsxs(E,{value:a.responsable.gender,onValueChange:s=>r("responsable",{...a.responsable,gender:s}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"M",id:"gender_m"}),e.jsx(i,{htmlFor:"gender_m",children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"F",id:"gender_f"}),e.jsx(i,{htmlFor:"gender_f",children:"Femenino"})]})]}),e.jsx(t,{message:n["responsable.gender"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_email",children:"Correo Electrónico *"}),e.jsx(c,{id:"responsable_email",type:"email",value:a.responsable.email,onChange:s=>r("responsable",{...a.responsable,email:s.target.value}),placeholder:"correo@ejemplo.com"}),e.jsx(t,{message:n["responsable.email"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_mobile",children:"Celular *"}),e.jsx(c,{id:"responsable_mobile",value:a.responsable.mobile,onChange:s=>r("responsable",{...a.responsable,mobile:s.target.value}),placeholder:"300 123 4567"}),e.jsx(t,{message:n["responsable.mobile"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_password",children:"Contraseña *"}),e.jsx(c,{id:"responsable_password",type:"password",value:a.responsable.password,onChange:s=>r("responsable",{...a.responsable,password:s.target.value}),placeholder:"Mínimo 8 caracteres"}),e.jsx(t,{message:n["responsable.password"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_password_confirmation",children:"Confirmar Contraseña *"}),e.jsx(c,{id:"responsable_password_confirmation",type:"password",value:a.responsable.password_confirmation,onChange:s=>r("responsable",{...a.responsable,password_confirmation:s.target.value}),placeholder:"Repita la contraseña"}),e.jsx(t,{message:n["responsable.password_confirmation"]})]})]})]})]});case 2:return e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Datos de Localización"}),e.jsx(S,{children:"Ingrese la dirección de residencia del responsable"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_address",children:"Dirección *"}),e.jsx(c,{id:"responsable_address",value:a.responsable.address,onChange:s=>r("responsable",{...a.responsable,address:s.target.value}),placeholder:"Calle 123 #45-67"}),e.jsx(t,{message:n["responsable.address"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_neighborhood",children:"Barrio"}),e.jsx(c,{id:"responsable_neighborhood",value:a.responsable.neighborhood,onChange:s=>r("responsable",{...a.responsable,neighborhood:s.target.value}),placeholder:"Nombre del barrio"}),e.jsx(t,{message:n["responsable.neighborhood"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_phone",children:"Teléfono"}),e.jsx(c,{id:"responsable_phone",value:a.responsable.phone,onChange:s=>r("responsable",{...a.responsable,phone:s.target.value}),placeholder:"601 234 5678"}),e.jsx(t,{message:n["responsable.phone"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_city",children:"Ciudad *"}),e.jsx(c,{id:"responsable_city",value:a.responsable.city,onChange:s=>r("responsable",{...a.responsable,city:s.target.value}),placeholder:"Ciudad"}),e.jsx(t,{message:n["responsable.city"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_department",children:"Departamento *"}),e.jsx(c,{id:"responsable_department",value:a.responsable.department,onChange:s=>r("responsable",{...a.responsable,department:s.target.value}),placeholder:"Departamento"}),e.jsx(t,{message:n["responsable.department"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(i,{className:"text-lg font-semibold",children:"¿La matrícula es para un menor de edad?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:"Si la matrícula es para un menor de edad, deberá ingresar los datos del estudiante en el siguiente paso."}),e.jsxs(E,{value:a.is_minor?"yes":"no",onValueChange:s=>r("is_minor",s==="yes"),className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"is_minor_no"}),e.jsx(i,{htmlFor:"is_minor_no",children:"No, soy yo quien estudiará"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"is_minor_yes"}),e.jsx(i,{htmlFor:"is_minor_yes",children:"Sí, es para un menor de edad"})]})]}),e.jsx(t,{message:n.is_minor})]})]})]});case 3:return a.is_minor?e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Datos del Estudiante"}),e.jsx(S,{children:"Ingrese los datos del estudiante menor de edad"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_name",children:"Nombre del Estudiante *"}),e.jsx(c,{id:"estudiante_name",value:a.estudiante.name,onChange:s=>r("estudiante",{...a.estudiante,name:s.target.value}),placeholder:"Nombre"}),e.jsx(t,{message:n["estudiante.name"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_last_name",children:"Apellidos *"}),e.jsx(c,{id:"estudiante_last_name",value:a.estudiante.last_name,onChange:s=>r("estudiante",{...a.estudiante,last_name:s.target.value}),placeholder:"Apellidos"}),e.jsx(t,{message:n["estudiante.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_document_type",children:"Tipo de Documento *"}),e.jsxs(I,{value:a.estudiante.document_type,onValueChange:s=>r("estudiante",{...a.estudiante,document_type:s}),children:[e.jsx(A,{children:e.jsx(P,{placeholder:"Seleccione"})}),e.jsxs(k,{children:[e.jsx(f,{value:"TI",children:"T.I"}),e.jsx(f,{value:"CC",children:"C.C"})]})]}),e.jsx(t,{message:n["estudiante.document_type"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"estudiante_document_number",children:"Número de Documento *"}),e.jsx(c,{id:"estudiante_document_number",value:a.estudiante.document_number,onChange:s=>r("estudiante",{...a.estudiante,document_number:s.target.value}),placeholder:"Número de documento"}),e.jsx(t,{message:n["estudiante.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_birth_place",children:"Lugar de Nacimiento"}),e.jsx(c,{id:"estudiante_birth_place",value:a.estudiante.birth_place,onChange:s=>r("estudiante",{...a.estudiante,birth_place:s.target.value}),placeholder:"Ciudad o Municipio"}),e.jsx(t,{message:n["estudiante.birth_place"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(c,{id:"estudiante_birth_date",type:"date",value:a.estudiante.birth_date,onChange:s=>r("estudiante",{...a.estudiante,birth_date:s.target.value})}),e.jsx(t,{message:n["estudiante.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Género *"}),e.jsxs(E,{value:a.estudiante.gender,onValueChange:s=>r("estudiante",{...a.estudiante,gender:s}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"M",id:"estudiante_gender_m"}),e.jsx(i,{htmlFor:"estudiante_gender_m",children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"F",id:"estudiante_gender_f"}),e.jsx(i,{htmlFor:"estudiante_gender_f",children:"Femenino"})]})]}),e.jsx(t,{message:n["estudiante.gender"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"estudiante_email",children:"Correo Electrónico del Estudiante (Opcional)"}),e.jsx(c,{id:"estudiante_email",type:"email",value:a.estudiante.email,onChange:s=>r("estudiante",{...a.estudiante,email:s.target.value}),placeholder:"correo@ejemplo.com"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Si el estudiante tiene correo, podrá acceder para ver su avance. Los pagos y facturas siempre se enviarán al correo del responsable."}),e.jsx(t,{message:n["estudiante.email"]})]})]})]}):(j(),null);case 4:return e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Datos Musicales"}),e.jsxs(S,{children:["Información sobre experiencia musical ",a.is_minor?"del estudiante":""]})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"¿Ejecuta algún instrumento? (Considere Voz/Canto como instrumento)"}),e.jsxs(E,{value:a.datos_musicales.plays_instrument?"yes":"no",onValueChange:s=>r("datos_musicales",{...a.datos_musicales,plays_instrument:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"plays_yes"}),e.jsx(i,{htmlFor:"plays_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"plays_no"}),e.jsx(i,{htmlFor:"plays_no",children:"No"})]})]}),e.jsx(t,{message:n["datos_musicales.plays_instrument"]})]}),a.datos_musicales.plays_instrument&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"instruments_played",children:"Indique cuál o cuáles instrumentos"}),e.jsx(q,{id:"instruments_played",value:a.datos_musicales.instruments_played,onChange:s=>r("datos_musicales",{...a.datos_musicales,instruments_played:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto",rows:2}),e.jsx(t,{message:n["datos_musicales.instruments_played"]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"¿Tiene estudios formales de música?"}),e.jsxs(E,{value:a.datos_musicales.has_music_studies?"yes":"no",onValueChange:s=>r("datos_musicales",{...a.datos_musicales,has_music_studies:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"studies_yes"}),e.jsx(i,{htmlFor:"studies_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"studies_no"}),e.jsx(i,{htmlFor:"studies_no",children:"No"})]})]}),e.jsx(t,{message:n["datos_musicales.has_music_studies"]})]}),a.datos_musicales.has_music_studies&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"music_schools",children:"Nombre(s) de escuela(s) de estudios musicales"}),e.jsx(q,{id:"music_schools",value:a.datos_musicales.music_schools,onChange:s=>r("datos_musicales",{...a.datos_musicales,music_schools:s.target.value}),placeholder:"Ej: Conservatorio Nacional, Academia XYZ",rows:2}),e.jsx(t,{message:n["datos_musicales.music_schools"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"desired_instrument",children:"Instrumento que desea estudiar *"}),e.jsx(c,{id:"desired_instrument",value:a.datos_musicales.desired_instrument,onChange:s=>r("datos_musicales",{...a.datos_musicales,desired_instrument:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto, Batería, Bajo"}),e.jsx(t,{message:n["datos_musicales.desired_instrument"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"modality",children:"Modalidad según edad *"}),e.jsxs(I,{value:a.datos_musicales.modality,onValueChange:s=>r("datos_musicales",{...a.datos_musicales,modality:s}),children:[e.jsx(A,{children:e.jsx(P,{placeholder:"Seleccione una modalidad"})}),e.jsxs(k,{children:[e.jsx(f,{value:"Linaje Kids",children:"Linaje Kids - Niños (4 - 9 años)"}),e.jsx(f,{value:"Linaje Teens",children:"Linaje Teens - Adolescentes (10 - 17 años)"}),e.jsx(f,{value:"Linaje Big",children:"Linaje Big - Mayores de 18 años"})]})]}),e.jsx(t,{message:n["datos_musicales.modality"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"current_level",children:"Nivel a inscribirse *"}),e.jsx(c,{id:"current_level",type:"number",min:"1",value:a.datos_musicales.current_level,onChange:s=>r("datos_musicales",{...a.datos_musicales,current_level:parseInt(s.target.value)||1}),placeholder:"Ej: 1"}),e.jsx(t,{message:n["datos_musicales.current_level"]})]})]})]});case 5:return e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Selección de Programa"}),e.jsx(S,{children:"Elija el programa académico al que desea inscribirse"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"program",children:"Programa Académico *"}),e.jsxs(I,{value:a.program_id,onValueChange:s=>r("program_id",s),children:[e.jsx(A,{children:e.jsx(P,{placeholder:"Seleccione un programa"})}),e.jsx(k,{children:o.map(s=>e.jsx(f,{value:s.id.toString(),children:s.name},s.id))})]}),n.program_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.program_id})]}),a.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:o.find(s=>s.id.toString()===a.program_id)?.name}),e.jsx("p",{className:"text-sm text-gray-700",children:o.find(s=>s.id.toString()===a.program_id)?.description})]}),o.find(s=>s.id.toString()===a.program_id)?.schedules&&o.find(s=>s.id.toString()===a.program_id).schedules.length>0&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"schedule",children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Selecciona un horario si deseas inscribirte en una clase específica"}),e.jsxs(I,{value:a.schedule_id||void 0,onValueChange:s=>r("schedule_id",s||""),children:[e.jsx(A,{children:e.jsx(P,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(k,{children:o.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>s.has_capacity).map(s=>e.jsxs(f,{value:s.id.toString(),children:[s.days_of_week," | ",s.start_time," - ",s.end_time," |"," ","Prof. ",s.professor.name," | Cupos: ",s.available_slots]},s.id))})]}),e.jsx(t,{message:n.schedule_id}),a.schedule_id&&e.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>r("schedule_id",""),className:"text-xs text-gray-600 hover:text-gray-900",children:"Limpiar selección"}),o.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>!s.has_capacity).length>0&&e.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-xs text-red-800 font-semibold mb-1",children:"Horarios sin cupos disponibles:"}),o.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>!s.has_capacity).map(s=>e.jsxs("p",{className:"text-xs text-red-700",children:["• ",s.days_of_week," ",s.start_time," - ",s.end_time," (Prof."," ",s.professor.name,")"]},s.id))]})]})]})]})]});case 6:return e.jsxs(C,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Autorizaciones y Compromiso"}),e.jsx(S,{children:"Lea y acepte los términos antes de completar la matrícula"})]}),e.jsxs(w,{className:"space-y-6",children:[a.is_minor&&e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Autorización para Menores de Edad"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Por medio de la presente doy la autorización a mi hijo(a)"," ",e.jsxs("strong",{children:[a.estudiante.name," ",a.estudiante.last_name]})," ","para que estudie y desarrolle en el programa de"," ",e.jsx("strong",{children:o.find(s=>s.id.toString()===a.program_id)?.name})," bajo la modalidad de ",e.jsx("strong",{children:a.datos_musicales.modality})," en la Academia de formación Musical y Espiritual LINAJE. Estoy de acuerdo en la completa aplicación del reglamento de la academia."]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(V,{id:"parental_authorization",checked:a.parental_authorization,onCheckedChange:s=>r("parental_authorization",s)}),e.jsx(i,{htmlFor:"parental_authorization",className:"text-sm font-medium",children:"Acepto y autorizo como responsable legal"})]}),n.parental_authorization&&e.jsx("p",{className:"text-sm text-red-600",children:n.parental_authorization})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Compromiso de Pago"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["La Academia de formación Musical y Espiritual LINAJE, desea tener constancia del compromiso de pago que hace usted como ",a.is_minor?"padre, madre o encargado del estudiante menor de edad":"estudiante inscrito",". Este compromiso se extiende desde que el estudiante es aceptado hasta que el mismo termina el programa escogido o decide no continuar con sus estudios en la Academia."]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Mediante este documento usted deja constado todo lo que involucra en los Pagos de Inscripciones y Matrículas. Entiéndase que en caso de que una de las partes no cumpla con dicho acuerdo, es usted quien tiene la responsabilidad final de los pagos con la Academia."}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Nombre del Estudiante:"})," ",a.is_minor?`${a.estudiante.name} ${a.estudiante.last_name}`:`${a.responsable.name} ${a.responsable.last_name}`]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Modalidad:"})," ",a.datos_musicales.modality]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Programa:"})," ",o.find(s=>s.id.toString()===a.program_id)?.name]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(V,{id:"payment_commitment",checked:a.payment_commitment,onCheckedChange:s=>r("payment_commitment",s)}),e.jsx(i,{htmlFor:"payment_commitment",className:"text-sm font-medium",children:"Acepto el compromiso de pago"})]}),n.payment_commitment&&e.jsx("p",{className:"text-sm text-red-600",children:n.payment_commitment})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[e.jsx(ge,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-semibold text-green-900",children:"¡Todo listo!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:'Haz clic en "Completar Matrícula" para finalizar el proceso'})]})]})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"Matrícula - Academia Linaje"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Formato de Ingreso"}),e.jsx("p",{className:"text-gray-600",children:"Academia de Formación Musical y Espiritual LINAJE"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5,6].map(s=>e.jsx("div",{className:`flex-1 h-2 mx-1 rounded-full ${s<=l?"bg-amber-600":"bg-gray-200"}`},s))}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Paso ",l," de ",m]})]}),e.jsxs("form",{onSubmit:g,children:[Object.keys(n).length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Hay errores en el formulario:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:Object.entries(n).map(([s,h])=>e.jsxs("li",{children:[s,": ",h]},s))})]}),v(),e.jsxs("div",{className:"flex justify-between mt-6",children:[l>1&&e.jsxs(M,{type:"button",onClick:_,variant:"outline",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Anterior"]}),l<m&&e.jsxs(M,{type:"button",onClick:j,className:"ml-auto",children:["Siguiente",e.jsx(he,{className:"h-4 w-4 ml-2"})]}),l===m&&e.jsx(M,{type:"submit",disabled:x||!a.payment_commitment||a.is_minor&&!a.parental_authorization,className:"ml-auto bg-green-600 hover:bg-green-700",children:x?"Procesando...":"Completar Matrícula"})]})]})]})})]})}export{Xe as default};
