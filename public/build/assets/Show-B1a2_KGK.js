import{u as J,r as P,j as t,c as fe,H as ge,L as re,a as L}from"./app-B85toirr.js";import{B as u}from"./button-V5I046Om.js";import{p as ie}from"./program_academy-DHrmKVwx.js";import{a as q,q as k}from"./wayfinder-Bf9OnZdi.js";import{A as be}from"./app-layout-uaa7LMg4.js";import{D as K,a as W,b as X,c as Y,d as Z,f as ee}from"./dialog-DlXGhP6W.js";import{I as S}from"./input-DwwiTAjL.js";import{L as v}from"./label-xRujv7VM.js";import{T as te}from"./textarea-iXieiYRO.js";import{A as $,b as M,c as H,d as U,e as B,f as G,g as O,h as R}from"./alert-dialog-rASfoqc_.js";import{A as Ne}from"./arrow-left-CRPvm8Ea.js";import{P as I}from"./plus-sbbb07kg.js";import{c as ae}from"./createLucideIcon-COpZNn89.js";import{T as V}from"./trash-2-CiRTKiT6.js";import{A as Ae}from"./index-DGFuwtWj.js";import"./app-C6Vy-nmo.js";import"./utils-CXWJhbrE.js";import"./index-BfJaSvo0.js";import"./index-BKdeqJ9g.js";import"./index-CQRKOrpE.js";import"./index-B4YQdnni.js";import"./index-MRgZvhks.js";import"./index-B_OyAaor.js";import"./app-header-BoSKnCjG.js";import"./chevron-right-ZeX9EP49.js";import"./index-YL3iSs7e.js";import"./index-BGHOW37F.js";import"./graduation-cap-CMb3OYv1.js";import"./users-CPQ58gqB.js";import"./credit-card-C6xjWlW1.js";import"./calendar-DoTJ9WpJ.js";import"./file-text-CDbcMrsE.js";import"./lock-DvBGh-ba.js";import"./shield-CkMlCz6n.js";import"./mail-80QjdHWr.js";import"./toaster-BP8DQWEf.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],se=ae("Book",Ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],_e=ae("ListChecks",Ee),g=(e,r)=>({url:g.url(e,r),method:"post"});g.definition={methods:["post"],url:"/programas_academicos/{program}/study-plans"};g.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=q(e);const l={program:typeof e.program=="object"?e.program.id:e.program};return g.definition.url.replace("{program}",l.program.toString()).replace(/\/+$/,"")+k(r)};g.post=(e,r)=>({url:g.url(e,r),method:"post"});const le=(e,r)=>({action:g.url(e,r),method:"post"});le.post=(e,r)=>({action:g.url(e,r),method:"post"});g.form=le;const b=(e,r)=>({url:b.url(e,r),method:"put"});b.definition={methods:["put"],url:"/study-plans/{studyPlan}"};b.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const l={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return b.definition.url.replace("{studyPlan}",l.studyPlan.toString()).replace(/\/+$/,"")+k(r)};b.put=(e,r)=>({url:b.url(e,r),method:"put"});const de=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});de.put=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});b.form=de;const N=(e,r)=>({url:N.url(e,r),method:"delete"});N.definition={methods:["delete"],url:"/study-plans/{studyPlan}"};N.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const l={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return N.definition.url.replace("{studyPlan}",l.studyPlan.toString()).replace(/\/+$/,"")+k(r)};N.delete=(e,r)=>({url:N.url(e,r),method:"delete"});const oe=(e,r)=>({action:N.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});oe.delete=(e,r)=>({action:N.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});N.form=oe;const A=(e,r)=>({url:A.url(e,r),method:"post"});A.definition={methods:["post"],url:"/study-plans/{studyPlan}/activities"};A.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const l={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return A.definition.url.replace("{studyPlan}",l.studyPlan.toString()).replace(/\/+$/,"")+k(r)};A.post=(e,r)=>({url:A.url(e,r),method:"post"});const ne=(e,r)=>({action:A.url(e,r),method:"post"});ne.post=(e,r)=>({action:A.url(e,r),method:"post"});A.form=ne;const C=(e,r)=>({url:C.url(e,r),method:"put"});C.definition={methods:["put"],url:"/activities/{activity}"};C.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const l={activity:typeof e.activity=="object"?e.activity.id:e.activity};return C.definition.url.replace("{activity}",l.activity.toString()).replace(/\/+$/,"")+k(r)};C.put=(e,r)=>({url:C.url(e,r),method:"put"});const ce=(e,r)=>({action:C.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});ce.put=(e,r)=>({action:C.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});C.form=ce;const E=(e,r)=>({url:E.url(e,r),method:"delete"});E.definition={methods:["delete"],url:"/activities/{activity}"};E.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const l={activity:typeof e.activity=="object"?e.activity.id:e.activity};return E.definition.url.replace("{activity}",l.activity.toString()).replace(/\/+$/,"")+k(r)};E.delete=(e,r)=>({url:E.url(e,r),method:"delete"});const me=(e,r)=>({action:E.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});me.delete=(e,r)=>({action:E.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});E.form=me;const _=(e,r)=>({url:_.url(e,r),method:"post"});_.definition={methods:["post"],url:"/activities/{activity}/criteria"};_.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const l={activity:typeof e.activity=="object"?e.activity.id:e.activity};return _.definition.url.replace("{activity}",l.activity.toString()).replace(/\/+$/,"")+k(r)};_.post=(e,r)=>({url:_.url(e,r),method:"post"});const ue=(e,r)=>({action:_.url(e,r),method:"post"});ue.post=(e,r)=>({action:_.url(e,r),method:"post"});_.form=ue;const w=(e,r)=>({url:w.url(e,r),method:"put"});w.definition={methods:["put"],url:"/criteria/{criteria}"};w.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=q(e);const l={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return w.definition.url.replace("{criteria}",l.criteria.toString()).replace(/\/+$/,"")+k(r)};w.put=(e,r)=>({url:w.url(e,r),method:"put"});const pe=(e,r)=>({action:w.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});pe.put=(e,r)=>({action:w.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});w.form=pe;const D=(e,r)=>({url:D.url(e,r),method:"delete"});D.definition={methods:["delete"],url:"/criteria/{criteria}"};D.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=q(e);const l={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return D.definition.url.replace("{criteria}",l.criteria.toString()).replace(/\/+$/,"")+k(r)};D.delete=(e,r)=>({url:D.url(e,r),method:"delete"});const he=(e,r)=>({action:D.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});he.delete=(e,r)=>({action:D.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});D.form=he;const Q={store:g,update:b,destroy:N,storeActivity:A,updateActivity:C,destroyActivity:E,storeCriteria:_,updateCriteria:w,destroyCriteria:D};function we({open:e,onOpenChange:r,programId:l,studyPlan:i}){const h=!!i,{data:p,setData:c,post:n,put:f,processing:y,errors:o,reset:s}=J({module_name:i?.module_name||"",description:i?.description||"",hours:i?.hours||1,level:i?.level||1});P.useEffect(()=>{i?c({module_name:i.module_name,description:i.description||"",hours:i.hours,level:i.level}):s()},[i,e]);const j=m=>{m.preventDefault(),h?f(Q.update({studyPlan:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}}):n(Q.store({program:l}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}})};return t.jsx(K,{open:e,onOpenChange:r,children:t.jsx(W,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:j,children:[t.jsxs(X,{children:[t.jsx(Y,{children:h?"Editar Módulo":"Agregar Módulo"}),t.jsx(Z,{children:h?"Actualiza la información del módulo del plan de estudios.":"Agrega un nuevo módulo al plan de estudios del programa."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"module_name",children:"Nombre del Módulo *"}),t.jsx(S,{id:"module_name",value:p.module_name,onChange:m=>c("module_name",m.target.value),placeholder:"Ej: Introducción a la Programación",className:o.module_name?"border-red-500":""}),o.module_name&&t.jsx("p",{className:"text-sm text-red-600",children:o.module_name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"description",children:"Descripción"}),t.jsx(te,{id:"description",value:p.description,onChange:m=>c("description",m.target.value),placeholder:"Describe el contenido y objetivos del módulo",rows:3,className:o.description?"border-red-500":""}),o.description&&t.jsx("p",{className:"text-sm text-red-600",children:o.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"hours",children:"Horas *"}),t.jsx(S,{id:"hours",type:"number",min:"1",value:p.hours,onChange:m=>c("hours",parseInt(m.target.value)||1),className:o.hours?"border-red-500":""}),o.hours&&t.jsx("p",{className:"text-sm text-red-600",children:o.hours})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"level",children:"Nivel *"}),t.jsx(S,{id:"level",type:"number",min:"1",value:p.level,onChange:m=>c("level",parseInt(m.target.value)||1),className:o.level?"border-red-500":""}),o.level&&t.jsx("p",{className:"text-sm text-red-600",children:o.level})]})]})]}),t.jsxs(ee,{children:[t.jsx(u,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:y,children:"Cancelar"}),t.jsx(u,{type:"submit",disabled:y,children:y?"Guardando...":h?"Actualizar":"Crear"})]})]})})})}function De({open:e,onOpenChange:r,studyPlanId:l,activity:i,nextOrder:h=0}){const p=!!i,{data:c,setData:n,post:f,put:y,processing:o,errors:s,reset:j}=J({name:i?.name||"",description:i?.description||"",order:i?.order??h,weight:i?.weight||0,status:i?.status||"active"});P.useEffect(()=>{i?n({name:i.name,description:i.description||"",order:i.order,weight:i.weight,status:i.status}):(j(),n("order",h))},[i,e,h]);const m=d=>{d.preventDefault(),p?y(Q.updateActivity({activity:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),j()}}):f(Q.storeActivity({studyPlan:l}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),j()}})};return t.jsx(K,{open:e,onOpenChange:r,children:t.jsx(W,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:m,children:[t.jsxs(X,{children:[t.jsx(Y,{children:p?"Editar Actividad":"Agregar Actividad"}),t.jsx(Z,{children:p?"Actualiza la información de la actividad.":"Agrega una nueva actividad al módulo del plan de estudios."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"name",children:"Nombre de la Actividad *"}),t.jsx(S,{id:"name",value:c.name,onChange:d=>n("name",d.target.value),placeholder:"Ej: Proyecto Final",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"description",children:"Descripción"}),t.jsx(te,{id:"description",value:c.description,onChange:d=>n("description",d.target.value),placeholder:"Describe la actividad y sus objetivos",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"order",children:"Orden *"}),t.jsx(S,{id:"order",type:"number",min:"0",value:c.order,onChange:d=>n("order",parseInt(d.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"weight",children:"Peso (%) *"}),t.jsx(S,{id:"weight",type:"number",min:"0",max:"100",step:"0.01",value:c.weight,onChange:d=>n("weight",parseFloat(d.target.value)||0),className:s.weight?"border-red-500":""}),s.weight&&t.jsx("p",{className:"text-sm text-red-600",children:s.weight})]})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"status",children:"Estado *"}),t.jsxs("select",{id:"status",value:c.status,onChange:d=>n("status",d.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[t.jsx("option",{value:"active",children:"Activa"}),t.jsx("option",{value:"inactive",children:"Inactiva"})]}),s.status&&t.jsx("p",{className:"text-sm text-red-600",children:s.status})]})]}),t.jsxs(ee,{children:[t.jsx(u,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:o,children:"Cancelar"}),t.jsx(u,{type:"submit",disabled:o,children:o?"Guardando...":p?"Actualizar":"Crear"})]})]})})})}function Pe({open:e,onOpenChange:r,activityId:l,criteria:i,nextOrder:h=0}){const p=!!i,{data:c,setData:n,post:f,put:y,processing:o,errors:s,reset:j}=J({name:i?.name||"",description:i?.description||"",max_points:i?.max_points||10,order:i?.order??h});P.useEffect(()=>{i?n({name:i.name,description:i.description||"",max_points:i.max_points,order:i.order}):(j(),n("order",h))},[i,e,h]);const m=d=>{d.preventDefault(),p?y(Q.updateCriteria({criteria:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),j()}}):f(Q.storeCriteria({activity:l}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),j()}})};return t.jsx(K,{open:e,onOpenChange:r,children:t.jsx(W,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:m,children:[t.jsxs(X,{children:[t.jsx(Y,{children:p?"Editar Criterio de Evaluación":"Agregar Criterio de Evaluación"}),t.jsx(Z,{children:p?"Actualiza la información del criterio de evaluación.":"Agrega un nuevo criterio de evaluación a la actividad."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"name",children:"Nombre del Criterio *"}),t.jsx(S,{id:"name",value:c.name,onChange:d=>n("name",d.target.value),placeholder:"Ej: Calidad del código",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"description",children:"Descripción"}),t.jsx(te,{id:"description",value:c.description,onChange:d=>n("description",d.target.value),placeholder:"Describe qué se evaluará en este criterio",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"max_points",children:"Puntuación Máxima *"}),t.jsx(S,{id:"max_points",type:"number",min:"0",step:"0.01",value:c.max_points,onChange:d=>n("max_points",parseFloat(d.target.value)||0),className:s.max_points?"border-red-500":""}),s.max_points&&t.jsx("p",{className:"text-sm text-red-600",children:s.max_points})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(v,{htmlFor:"order",children:"Orden *"}),t.jsx(S,{id:"order",type:"number",min:"0",value:c.order,onChange:d=>n("order",parseInt(d.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]})]})]}),t.jsxs(ee,{children:[t.jsx(u,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:o,children:"Cancelar"}),t.jsx(u,{type:"submit",disabled:o,children:o?"Guardando...":p?"Actualizar":"Crear"})]})]})})})}function ut({program:e,studyPlans:r}){const{auth:l}=fe().props,i=l?.permissions??[],h=a=>i.includes(a),[p,c]=P.useState({open:!1}),[n,f]=P.useState({open:!1}),[y,o]=P.useState({open:!1}),[s,j]=P.useState({open:!1}),[m,d]=P.useState({open:!1}),[z,T]=P.useState({open:!1}),xe=()=>{s.studyPlan&&L.delete(Q.destroy(s.studyPlan.id).url,{preserveScroll:!0,onSuccess:()=>j({open:!1})})},ye=()=>{m.activity&&L.delete(Q.destroyActivity(m.activity.id).url,{preserveScroll:!0,onSuccess:()=>d({open:!1})})},je=()=>{z.criteria&&L.delete(Q.destroyCriteria(z.criteria.id).url,{preserveScroll:!0,onSuccess:()=>T({open:!1})})};return t.jsxs(be,{children:[t.jsx(ge,{title:`${e.name} - Plan de Estudios`}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs(re,{href:ie.index().url,className:"mb-3 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[t.jsx(Ne,{className:"mr-1 h-4 w-4"}),"Volver a programas"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),e.description&&t.jsx("p",{className:"mt-2 text-gray-600",children:e.description}),t.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[e.duration_months," meses"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status==="active"?"Activo":"Inactivo"})]})]}),t.jsx(re,{href:ie.edit({program:e.id}).url,children:t.jsx(u,{variant:"outline",children:"Editar Programa"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plan de Estudios"}),t.jsxs(u,{onClick:()=>c({open:!0}),children:[t.jsx(I,{className:"mr-2 h-4 w-4"}),"Agregar Módulo"]})]}),r.length>0?t.jsx("div",{className:"space-y-4",children:r.map((a,ve)=>t.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:t.jsx(se,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Módulo ",ve+1,": ",a.module_name]}),a.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:a.description}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[a.hours," horas"]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Nivel ",a.level]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(u,{variant:"outline",size:"sm",onClick:()=>c({open:!0,studyPlan:a}),children:"Editar"}),t.jsx(u,{variant:"outline",size:"sm",onClick:()=>f({open:!0,studyPlanId:a.id,nextOrder:a.activities.length}),children:t.jsx(I,{className:"h-4 w-4"})}),h("eliminar_plan_estudio")&&t.jsx(u,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>j({open:!0,studyPlan:a}),children:t.jsx(V,{className:"h-4 w-4"})})]})]}),a.activities.length>0?t.jsxs("div",{className:"ml-14 space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Actividades:"}),a.activities.map(x=>t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-purple-100",children:t.jsx(_e,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900",children:x.name}),x.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:x.description}),t.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500",children:[t.jsxs("span",{children:["Peso: ",x.weight,"%"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2 py-0.5 ${x.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:x.status==="active"?"Activa":"Inactiva"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(u,{variant:"ghost",size:"sm",onClick:()=>f({open:!0,studyPlanId:a.id,activity:x}),children:"Editar"}),t.jsx(u,{variant:"ghost",size:"sm",onClick:()=>o({open:!0,activityId:x.id,nextOrder:x.evaluation_criteria.length}),children:t.jsx(I,{className:"h-4 w-4"})}),h("eliminar_actividad")&&t.jsx(u,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>d({open:!0,activity:x}),children:t.jsx(V,{className:"h-4 w-4"})})]})]}),x.evaluation_criteria.length>0&&t.jsxs("div",{className:"ml-11 space-y-2",children:[t.jsx("h6",{className:"text-xs font-semibold text-gray-600",children:"Criterios de Evaluación:"}),x.evaluation_criteria.map(F=>t.jsxs("div",{className:"flex items-center justify-between rounded-md border border-gray-200 bg-white p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ae,{className:"h-4 w-4 text-amber-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600",children:F.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[F.max_points," pts"]}),t.jsx(u,{variant:"ghost",size:"sm",onClick:()=>o({open:!0,activityId:x.id,criteria:F}),children:"Editar"}),h("eliminar_criterio_evaluacion")&&t.jsx(u,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>T({open:!0,criteria:F}),children:t.jsx(V,{className:"h-4 w-4"})})]})]},F.id))]})]},x.id))]}):t.jsxs("div",{className:"ml-14 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"No hay actividades en este módulo"}),t.jsxs(u,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>f({open:!0,studyPlanId:a.id,nextOrder:0}),children:[t.jsx(I,{className:"mr-2 h-4 w-4"}),"Agregar Primera Actividad"]})]})]},a.id))}):t.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 bg-white p-12 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:t.jsx(se,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No hay módulos en este programa"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Comienza agregando el primer módulo al plan de estudios"}),t.jsxs(u,{onClick:()=>c({open:!0}),children:[t.jsx(I,{className:"mr-2 h-5 w-5"}),"Agregar Primer Módulo"]})]})]})]}),t.jsx(we,{open:p.open,onOpenChange:a=>c({open:a,studyPlan:void 0}),programId:e.id,studyPlan:p.studyPlan}),n.studyPlanId&&t.jsx(De,{open:n.open,onOpenChange:a=>f({open:a,studyPlanId:void 0,activity:void 0}),studyPlanId:n.studyPlanId,activity:n.activity,nextOrder:n.nextOrder}),y.activityId&&t.jsx(Pe,{open:y.open,onOpenChange:a=>o({open:a,activityId:void 0,criteria:void 0}),activityId:y.activityId,criteria:y.criteria,nextOrder:y.nextOrder}),t.jsx($,{open:s.open,onOpenChange:a=>j({open:a,studyPlan:void 0}),children:t.jsxs(M,{children:[t.jsxs(H,{children:[t.jsx(U,{children:"Eliminar Módulo"}),t.jsxs(B,{children:['¿Estás seguro de que deseas eliminar el módulo "',s.studyPlan?.module_name,'"? Esta acción eliminará también todas las actividades y criterios de evaluación asociados. Esta acción no se puede deshacer.']})]}),t.jsxs(G,{children:[t.jsx(O,{children:"Cancelar"}),t.jsx(R,{onClick:xe,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),t.jsx($,{open:m.open,onOpenChange:a=>d({open:a,activity:void 0}),children:t.jsxs(M,{children:[t.jsxs(H,{children:[t.jsx(U,{children:"Eliminar Actividad"}),t.jsxs(B,{children:['¿Estás seguro de que deseas eliminar la actividad "',m.activity?.name,'"? Esta acción eliminará también todos los criterios de evaluación asociados. Esta acción no se puede deshacer.']})]}),t.jsxs(G,{children:[t.jsx(O,{children:"Cancelar"}),t.jsx(R,{onClick:ye,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),t.jsx($,{open:z.open,onOpenChange:a=>T({open:a,criteria:void 0}),children:t.jsxs(M,{children:[t.jsxs(H,{children:[t.jsx(U,{children:"Eliminar Criterio de Evaluación"}),t.jsxs(B,{children:['¿Estás seguro de que deseas eliminar el criterio "',z.criteria?.name,'"? Esta acción no se puede deshacer.']})]}),t.jsxs(G,{children:[t.jsx(O,{children:"Cancelar"}),t.jsx(R,{onClick:je,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}export{ut as default};
