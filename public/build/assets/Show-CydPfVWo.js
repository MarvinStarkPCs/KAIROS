import{u as x,j as e,H as S,L}from"./app-B85toirr.js";import{A as D}from"./app-layout-uaa7LMg4.js";import{B as h}from"./button-V5I046Om.js";import{C as r,b as l,c as i,a as c,d as j}from"./card-DiNN1IX2.js";import{B as _}from"./badge--BnN-05P.js";import{T as A}from"./textarea-iXieiYRO.js";import{S as z,a as E,b as I,c as T,d}from"./select-B9aYsrO-.js";import{L as t}from"./label-xRujv7VM.js";import{A as B}from"./arrow-left-CRPvm8Ea.js";import{U as H}from"./user-DBPIk0sg.js";import{M}from"./mail-80QjdHWr.js";import{P}from"./phone-DPNq5ggc.js";import{C as F}from"./clock-DkLs3PX3.js";import{C as p}from"./calendar-DoTJ9WpJ.js";import{M as G}from"./app-header-BoSKnCjG.js";import{F as U}from"./file-text-CDbcMrsE.js";import{S as R}from"./save-CvmocKt7.js";import"./app-C6Vy-nmo.js";import"./utils-CXWJhbrE.js";import"./index-BKdeqJ9g.js";import"./index-CQRKOrpE.js";import"./createLucideIcon-COpZNn89.js";import"./index-B4YQdnni.js";import"./index-MRgZvhks.js";import"./index-B_OyAaor.js";import"./toaster-BP8DQWEf.js";import"./index-BfJaSvo0.js";import"./check-pE-DpxcS.js";import"./chevron-right-ZeX9EP49.js";import"./index-YL3iSs7e.js";import"./index-BGHOW37F.js";import"./wayfinder-Bf9OnZdi.js";import"./index-DGFuwtWj.js";import"./graduation-cap-CMb3OYv1.js";import"./users-CPQ58gqB.js";import"./credit-card-C6xjWlW1.js";import"./lock-DvBGh-ba.js";import"./shield-CkMlCz6n.js";function Le({lead:s}){const{data:u,setData:g,patch:N,processing:n}=x({status:s.status}),{data:f,setData:v,patch:b,processing:m}=x({notes:s.notes||""}),y=a=>{a.preventDefault(),N(`/admin/demo-leads/${s.id}/status`,{preserveScroll:!0})},w=a=>{a.preventDefault(),b(`/admin/demo-leads/${s.id}/notes`,{preserveScroll:!0})},C=a=>{switch(a){case"yellow":return"bg-yellow-100 text-yellow-800";case"blue":return"bg-blue-100 text-blue-800";case"green":return"bg-green-100 text-green-800";case"red":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=a=>new Date(a).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(D,{children:[e.jsx(S,{title:`Lead: ${s.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(L,{href:"/admin/demo-leads",className:"mb-2 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(B,{className:"mr-1 h-4 w-4"}),"Volver a leads"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalle del Lead"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Información completa y gestión del lead"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Información del Lead"]}),e.jsx(_,{className:C(s.status_color),children:s.status_label})]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Nombre Completo"}),e.jsx("p",{className:"text-base font-medium",children:s.name})]}),s.is_for_child&&s.child_name&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Estudiante (Hijo/a)"}),e.jsx("p",{className:"text-base font-medium",children:s.child_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-base",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Teléfono"}),e.jsx("p",{className:"text-base",children:s.phone})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Instrumento de Interés"}),e.jsx("p",{className:"text-base font-medium text-amber-600",children:s.instrument})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Horario Preferido"}),e.jsx("p",{className:"text-base",children:s.preferred_schedule||e.jsx("span",{className:"text-gray-400",children:"No especificado"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Fecha de Solicitud"}),e.jsx("p",{className:"text-base",children:o(s.created_at)})]})]}),s.updated_at!==s.created_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Última Actualización"}),e.jsx("p",{className:"text-base",children:o(s.updated_at)})]})]})]}),s.message&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Mensaje del Cliente"}),e.jsx("p",{className:"text-base text-gray-700 mt-1 whitespace-pre-wrap",children:s.message})]})]})})]})]}),e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Notas Internas"]}),e.jsx(j,{children:"Agrega notas o comentarios sobre este lead (solo visible para administradores)"})]}),e.jsx(c,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx(A,{value:f.notes,onChange:a=>v("notes",a.target.value),placeholder:"Escribe notas sobre este lead...",rows:6,className:"resize-none"}),e.jsxs(h,{type:"submit",disabled:m,children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),m?"Guardando...":"Guardar Notas"]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsx(i,{children:"Gestión del Lead"}),e.jsx(j,{children:"Actualiza el estado del lead según su progreso"})]}),e.jsx(c,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Estado Actual"}),e.jsxs(z,{value:u.status,onValueChange:a=>g("status",a),children:[e.jsx(E,{className:"mt-2",children:e.jsx(I,{})}),e.jsxs(T,{children:[e.jsx(d,{value:"pending",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Pendiente"]})}),e.jsx(d,{value:"contacted",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Contactado"]})}),e.jsx(d,{value:"converted",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Convertido"]})}),e.jsx(d,{value:"rejected",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Rechazado"]})})]})]})]}),e.jsx(h,{type:"submit",className:"w-full",disabled:n,children:n?"Actualizando...":"Actualizar Estado"})]})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(i,{className:"text-sm",children:"Guía de Estados"})}),e.jsxs(c,{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Pendiente"]}),e.jsx("p",{className:"text-gray-600 text-xs mt-1 ml-4",children:"Lead nuevo sin contactar"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Contactado"]}),e.jsx("p",{className:"text-gray-600 text-xs mt-1 ml-4",children:"Ya se contactó al lead"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Convertido"]}),e.jsx("p",{className:"text-gray-600 text-xs mt-1 ml-4",children:"Lead se inscribió en el programa"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Rechazado"]}),e.jsx("p",{className:"text-gray-600 text-xs mt-1 ml-4",children:"Lead no está interesado"})]})]})]})]})]})]})]})}export{Le as default};
