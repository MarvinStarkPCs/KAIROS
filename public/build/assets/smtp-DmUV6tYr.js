import{r as h,u as b,j as e,H as S,a as y}from"./app-C_wc9es_.js";import{H as x}from"./heading-small-B4QFQAz_.js";import{I as l}from"./input-error-DFCknaJe.js";import{B as j}from"./button-CK7_c_5e.js";import{I as m}from"./input-C7PQsbVn.js";import{L as o}from"./label-nyAx6Y8t.js";import{S as _,a as C,b as w,c as F,d as c}from"./select-DT6IKorb.js";import{S as T}from"./switch-BQpkr0Q9.js";import{A as E}from"./app-layout-RCkHY00m.js";import{b as k,S as I}from"./layout-W5EpX7qG.js";import{M as P}from"./mail-jATxNgrm.js";import{S as M}from"./send-CPG7u8Dt.js";/* empty css            */import"./utils-BTwnVSy2.js";import"./index-CNhhqjg2.js";import"./index-BPZo39PE.js";import"./index-DJBO6EKN.js";import"./index-myZmSymV.js";import"./index-Be2p5AN3.js";import"./createLucideIcon-Cl_h1Hpc.js";import"./chevron-down-D4MJa3Wh.js";import"./check-BINbHuVB.js";import"./index-BLRCw3fc.js";import"./app-header-3tM_PALz.js";import"./chevron-right-FEguOG6w.js";import"./index-BXFwRZdy.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./book-open-DgLAYnVa.js";import"./graduation-cap-DpEnpuH4.js";import"./users-BlXHteJc.js";import"./credit-card-Cyqos1IL.js";import"./calendar-CdY4SBhE.js";import"./file-text-BcV-VVC0.js";import"./lock-l4QBdaDv.js";import"./shield-Dk7fcTnH.js";import"./loader-circle-DIXjFJg0.js";import"./toaster-eRoXJvOx.js";import"./heading-FIQ0xFg-.js";import"./index-BbeadLAU.js";import"./index-DmHkLzld.js";const H=[{title:"Configuración SMTP",href:k().url}];function ye({smtpSetting:r}){const[n,g]=h.useState(""),[d,p]=h.useState(!1),{data:a,setData:t,patch:f,processing:u,errors:i}=b({host:r?.host??"",port:r?.port??587,username:r?.username??"",password:"",encryption:r?.encryption??"tls",from_address:r?.from_address??"",from_name:r?.from_name??"",is_active:r?.is_active??!0}),v=s=>{s.preventDefault(),f("/settings/smtp",{preserveScroll:!0})},N=()=>{n&&(p(!0),y.post("/settings/smtp/test",{email:n},{onFinish:()=>p(!1)}))};return e.jsxs(E,{breadcrumbs:H,children:[e.jsx(S,{title:"Configuración SMTP"}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(x,{title:"Servidor SMTP",description:"Configura el servidor SMTP para enviar correos electrónicos desde la aplicación"}),e.jsx("form",{onSubmit:v,className:"space-y-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"host",children:"Host del servidor SMTP"}),e.jsx(m,{id:"host",type:"text",className:"mt-1 block w-full",value:a.host,onChange:s=>t("host",s.target.value),placeholder:"smtp.gmail.com",required:!0}),e.jsx(l,{className:"mt-2",message:i.host})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"port",children:"Puerto"}),e.jsx(m,{id:"port",type:"number",className:"mt-1 block w-full",value:a.port,onChange:s=>t("port",parseInt(s.target.value)),placeholder:"587",required:!0}),e.jsx(l,{className:"mt-2",message:i.port})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"encryption",children:"Encriptación"}),e.jsxs(_,{value:a.encryption,onValueChange:s=>{t("encryption",s==="none"?"":s)},children:[e.jsx(C,{className:"w-full",children:e.jsx(w,{placeholder:"Seleccionar encriptación"})}),e.jsxs(F,{children:[e.jsx(c,{value:"tls",children:"TLS"}),e.jsx(c,{value:"ssl",children:"SSL"}),e.jsx(c,{value:"none",children:"Ninguna"})]})]}),e.jsx(l,{className:"mt-2",message:i.encryption})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"username",children:"Usuario / Correo"}),e.jsx(m,{id:"username",type:"text",className:"mt-1 block w-full",value:a.username,onChange:s=>t("username",s.target.value),placeholder:"usuario@dominio.com"}),e.jsx(l,{className:"mt-2",message:i.username})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"password",children:"Contraseña"}),e.jsx(m,{id:"password",type:"password",className:"mt-1 block w-full",value:a.password,onChange:s=>t("password",s.target.value),placeholder:"••••••••"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deja en blanco para mantener la contraseña actual"}),e.jsx(l,{className:"mt-2",message:i.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"from_address",children:"Correo de remitente"}),e.jsx(m,{id:"from_address",type:"email",className:"mt-1 block w-full",value:a.from_address,onChange:s=>t("from_address",s.target.value),placeholder:"noreply@dominio.com",required:!0}),e.jsx(l,{className:"mt-2",message:i.from_address})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"from_name",children:"Nombre de remitente"}),e.jsx(m,{id:"from_name",type:"text",className:"mt-1 block w-full",value:a.from_name,onChange:s=>t("from_name",s.target.value),placeholder:"KAIROS",required:!0}),e.jsx(l,{className:"mt-2",message:i.from_name})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{htmlFor:"is_active",children:"Configuración activa"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita esta configuración para enviar correos"})]}),e.jsx(T,{id:"is_active",checked:a.is_active,onCheckedChange:s=>t("is_active",s)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(j,{type:"submit",disabled:u,children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),u?"Guardando...":"Guardar Configuración"]})})]})}),r&&e.jsxs("div",{className:"rounded-lg border p-6 space-y-4",children:[e.jsx(x,{title:"Probar configuración",description:"Envía un correo de prueba para verificar que la configuración funciona correctamente"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{type:"email",placeholder:"correo@ejemplo.com",value:n,onChange:s=>g(s.target.value),className:"max-w-sm"}),e.jsxs(j,{type:"button",variant:"outline",onClick:N,disabled:!n||d,children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),d?"Enviando...":"Enviar Prueba"]})]})]})]})})]})}export{ye as default};
