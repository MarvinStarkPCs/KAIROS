import{j as e,H as f,L as d,a as u}from"./app-BTsTmNHL.js";import{A as g}from"./app-layout-DvED1s6G.js";import{H as N}from"./heading-CIKz1naE.js";import{B as l}from"./button-DHWy1sMZ.js";import{B as b}from"./badge-BqwLToFC.js";import{C as r,b as a,c as i,a as o,d as v}from"./card-ClkIcITg.js";import{T as y,a as C,b as c,c as m,d as _,e as n}from"./table-DNmbUIxp.js";import{f as H,a as w}from"./format-BCEI6t3r.js";import{A as S}from"./arrow-left-D4xCV3Z5.js";import{S as T}from"./square-pen-BqLHG9kO.js";import{C as k}from"./clock-BJfkCyGC.js";import{M as A}from"./map-pin-CYN_cwAg.js";import{C as D}from"./calendar-DDc1qb2p.js";import{U as E}from"./users-h2wBCBD3.js";import{c as M}from"./createLucideIcon-BpBpuwpV.js";import"./app-wl4OcAi7.js";import"./utils-DH-wF4ET.js";import"./index-14eEdcO_.js";import"./index-CW1ToYuC.js";import"./index-dA5djur3.js";import"./index-CJAUbtvd.js";import"./index-DxuDvd6X.js";import"./app-header-D2Oz5n03.js";import"./chevron-right-0jzdpj9F.js";import"./index-uKizCvsm.js";import"./index-CE4OBYY8.js";import"./wayfinder-Bf9OnZdi.js";import"./index-DRJGpeji.js";import"./graduation-cap-Trlp4gyO.js";import"./credit-card-hBcSXXah.js";import"./file-text-3tdMIzFQ.js";import"./lock-DcjRt7_U.js";import"./shield-BBMlsM4L.js";import"./mail-CoNFoU7a.js";import"./toaster-CwE1Un-Z.js";import"./index-LpK5PVwZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$=M("UserMinus",B);function ge({schedule:s}){const x=t=>{confirm(`¿Estás seguro de desmatricular a ${t.name} de este horario?`)&&u.delete(`/horarios/${s.id}/students/${t.id}`,{preserveScroll:!0})},p=t=>{const j={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",completed:"bg-blue-100 text-blue-800"},h={active:"Activo",inactive:"Inactivo",completed:"Completado"};return e.jsx(b,{className:j[t],children:h[t]})};return e.jsxs(g,{children:[e.jsx(f,{title:`Horario: ${s.name}`}),e.jsx(N,{title:"Detalle del Horario",description:s.name}),e.jsxs("div",{className:"mb-6 flex gap-3",children:[e.jsx(d,{href:"/horarios",children:e.jsxs(l,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),"Volver a Horarios"]})}),e.jsx(d,{href:`/horarios/${s.id}/edit`,children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Editar Horario"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs(r,{children:[e.jsx(a,{children:e.jsx(i,{className:"text-base",children:"Información General"})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Programa Académico"}),e.jsx("p",{className:"text-sm font-semibold",children:s.academic_program.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Profesor"}),e.jsx("p",{className:"text-sm font-semibold",children:s.professor?e.jsxs(e.Fragment,{children:[s.professor.name,e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.professor.email})]}):e.jsx("span",{className:"text-muted-foreground",children:"Sin asignar"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Estado"}),e.jsx("div",{className:"mt-1",children:p(s.status)})]})]})]}),e.jsxs(r,{children:[e.jsx(a,{children:e.jsxs(i,{className:"text-base flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Horario"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Días"}),e.jsx("p",{className:"text-sm font-semibold",children:s.days_of_week})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Hora"}),e.jsx("p",{className:"text-sm font-semibold",children:H(s.start_time,s.end_time)})]}),s.classroom&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"Aula"]}),e.jsx("p",{className:"text-sm font-semibold",children:s.classroom})]}),s.semester&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),"Semestre"]}),e.jsx("p",{className:"text-sm font-semibold",children:s.semester})]})]})]}),e.jsxs(r,{children:[e.jsx(a,{children:e.jsxs(i,{className:"text-base flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Cupo de Estudiantes"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inscritos"}),e.jsxs("p",{className:"text-2xl font-bold",children:[s.enrolled_count," / ",s.max_students]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cupos disponibles"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:s.available_slots})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${s.enrolled_count/s.max_students*100}%`}})})]})]})]}),s.description&&e.jsxs(r,{className:"mb-6",children:[e.jsx(a,{children:e.jsx(i,{className:"text-base",children:"Descripción"})}),e.jsx(o,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})})]}),e.jsxs(r,{children:[e.jsxs(a,{children:[e.jsx(i,{children:"Estudiantes Inscritos"}),e.jsxs(v,{children:[s.enrolled_count," estudiante(s) inscrito(s). Para matricular nuevos estudiantes, use el módulo de Matrículas."]})]}),e.jsx(o,{children:s.enrollments.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay estudiantes inscritos en este horario"}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(c,{children:[e.jsx(m,{children:"Nombre"}),e.jsx(m,{children:"Email"}),e.jsx(m,{children:"Fecha de Matrícula"}),e.jsx(m,{className:"text-right",children:"Acciones"})]})}),e.jsx(_,{children:s.enrollments.map(t=>e.jsxs(c,{children:[e.jsx(n,{className:"font-medium",children:t.student.name}),e.jsx(n,{children:t.student.email}),e.jsx(n,{children:w(t.enrollment_date,{short:!0})}),e.jsx(n,{className:"text-right",children:e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>x(t.student),className:"flex items-center gap-2 text-destructive hover:text-destructive",children:[e.jsx($,{className:"w-4 h-4"}),"Desmatricular"]})})]},t.id))})]})})})]})]})}export{ge as default};
