import{u as C,a as S,j as e,L as j}from"./app-Cyw7e1_8.js";import{A as k}from"./app-layout-BAmsNNY8.js";import{H as w}from"./heading-B1SftWfq.js";import{B as o}from"./index-Nib0S9l5.js";import{I as l}from"./input-DkiEF1U_.js";import{L as i}from"./label-u9-s_v8K.js";import{T as F}from"./textarea-ctlQ7poZ.js";import{S as n,a as m,b as x,c as p,d}from"./select-BnVc8-bL.js";import{C as A}from"./checkbox-Deju-y7x.js";import{t as E}from"./toaster-vHxQ_eZw.js";import{S as h}from"./ScheduleController-711_-ADm.js";import{A as O}from"./arrow-left-DED84n9m.js";import{S as H}from"./save-CPaGIfyI.js";import"./app-C8rqXfH3.js";import"./app-header-_ESh-lvX.js";import"./createLucideIcon-CQWu2AmY.js";import"./index-BPTm42VQ.js";import"./index-YEfPdCwI.js";import"./wayfinder-FFrBTblC.js";import"./lock-CsShWpYq.js";import"./shield-DPfCAwsw.js";import"./music-BB7ua3Is.js";import"./mail-D3oGuPQ9.js";import"./check-BV6zgDeW.js";const D=[{value:"lunes",label:"Lunes"},{value:"martes",label:"Martes"},{value:"miércoles",label:"Miércoles"},{value:"jueves",label:"Jueves"},{value:"viernes",label:"Viernes"},{value:"sábado",label:"Sábado"},{value:"domingo",label:"Domingo"}];function re({programs:v,professors:_}){const{data:t,setData:r,post:g,processing:u,errors:a,transform:f}=C({academic_program_id:"",professor_id:"",name:"",description:"",days_of_week:[],start_time:"",end_time:"",classroom:"",semester:"",max_students:"",status:"active"});f(s=>({...s,days_of_week:Array.isArray(s.days_of_week)?s.days_of_week.join(","):s.days_of_week})),S.useEffect(()=>{if(Object.keys(a).length>0){const s=Object.values(a)[0];E.error(s)}},[a]);const N=(s,c)=>{c?r("days_of_week",[...t.days_of_week,s]):r("days_of_week",t.days_of_week.filter(b=>b!==s))},y=s=>{s.preventDefault(),g(h.store().url)};return e.jsxs(k,{children:[e.jsx(w,{title:"Crear Horario",description:"Crear un nuevo horario de clases"}),e.jsx("div",{className:"mb-6",children:e.jsx(j,{href:h.index().url,children:e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Volver a Horarios"]})})}),e.jsxs("form",{onSubmit:y,className:"max-w-3xl space-y-6",children:[Object.keys(a).length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Errores de validación:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(a).map(([s,c])=>e.jsx("li",{className:"text-red-700 text-sm",children:c},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"academic_program_id",children:["Programa Académico ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(n,{value:t.academic_program_id,onValueChange:s=>r("academic_program_id",s),children:[e.jsx(m,{id:"academic_program_id",children:e.jsx(x,{placeholder:"Selecciona un programa"})}),e.jsx(p,{children:v.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]}),a.academic_program_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.academic_program_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"professor_id",children:"Profesor (Opcional)"}),e.jsxs(n,{value:t.professor_id,onValueChange:s=>r("professor_id",s),children:[e.jsx(m,{id:"professor_id",children:e.jsx(x,{placeholder:"Selecciona un profesor"})}),e.jsx(p,{children:_.map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.name," (",s.email,")"]},s.id))})]}),a.professor_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.professor_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"name",children:["Nombre del Horario ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"name",type:"text",placeholder:"Ej: Matemáticas - Grupo A",value:t.name,onChange:s=>r("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-destructive",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Descripción (Opcional)"}),e.jsx(F,{id:"description",placeholder:"Descripción del horario...",rows:3,value:t.description,onChange:s=>r("description",s.target.value)}),a.description&&e.jsx("p",{className:"text-sm text-destructive",children:a.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Días de la Semana ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4 border rounded-lg",children:D.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{id:s.value,checked:t.days_of_week.includes(s.value),onCheckedChange:c=>N(s.value,c)}),e.jsx(i,{htmlFor:s.value,className:"cursor-pointer",children:s.label})]},s.value))}),a.days_of_week&&e.jsx("p",{className:"text-sm text-destructive",children:a.days_of_week})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"start_time",children:["Hora de Inicio ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"start_time",type:"time",value:t.start_time,onChange:s=>r("start_time",s.target.value)}),a.start_time&&e.jsx("p",{className:"text-sm text-destructive",children:a.start_time})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"end_time",children:["Hora de Fin ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"end_time",type:"time",value:t.end_time,onChange:s=>r("end_time",s.target.value)}),a.end_time&&e.jsx("p",{className:"text-sm text-destructive",children:a.end_time})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"classroom",children:"Aula (Opcional)"}),e.jsx(l,{id:"classroom",type:"text",placeholder:"Ej: Aula 101",value:t.classroom,onChange:s=>r("classroom",s.target.value)}),a.classroom&&e.jsx("p",{className:"text-sm text-destructive",children:a.classroom})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"semester",children:"Semestre (Opcional)"}),e.jsx(l,{id:"semester",type:"text",placeholder:"Ej: 2025-1",value:t.semester,onChange:s=>r("semester",s.target.value)}),a.semester&&e.jsx("p",{className:"text-sm text-destructive",children:a.semester})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"max_students",children:["Cupo Máximo de Estudiantes ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(l,{id:"max_students",type:"number",min:"1",max:"200",placeholder:"Ej: 30",value:t.max_students,onChange:s=>r("max_students",s.target.value)}),a.max_students&&e.jsx("p",{className:"text-sm text-destructive",children:a.max_students})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"status",children:["Estado ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(n,{value:t.status,onValueChange:s=>r("status",s),children:[e.jsx(m,{id:"status",children:e.jsx(x,{placeholder:"Selecciona un estado"})}),e.jsxs(p,{children:[e.jsx(d,{value:"active",children:"Activo"}),e.jsx(d,{value:"inactive",children:"Inactivo"}),e.jsx(d,{value:"completed",children:"Completado"})]})]}),a.status&&e.jsx("p",{className:"text-sm text-destructive",children:a.status})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(o,{type:"submit",disabled:u,className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),u?"Guardando...":"Guardar Horario"]}),e.jsx(j,{href:h.index().url,children:e.jsx(o,{type:"button",variant:"outline",children:"Cancelar"})})]})]})]})}export{re as default};
