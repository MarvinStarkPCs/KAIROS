import{u as f,j as e,H as _}from"./app-B85toirr.js";import{H as d}from"./heading-small-BcUyucIa.js";import{I as N}from"./input-error-DpGhnLsn.js";import{B as y}from"./button-V5I046Om.js";import{I as v}from"./input-DwwiTAjL.js";import{L as t}from"./label-xRujv7VM.js";import{S as i}from"./switch-BL8TVUFu.js";import{A as C}from"./app-layout-uaa7LMg4.js";import{s as w}from"./app-header-BoSKnCjG.js";import{U as m}from"./users-CPQ58gqB.js";import{C as k}from"./credit-card-C6xjWlW1.js";import{B as L}from"./banknote-D5JxzS00.js";import{T as P}from"./triangle-alert--ZYuVWfD.js";import{D as T}from"./dollar-sign-KDpXK4pA.js";import"./app-C6Vy-nmo.js";import"./utils-CXWJhbrE.js";import"./index-BfJaSvo0.js";import"./index-B4YQdnni.js";import"./index-MRgZvhks.js";import"./index-BKdeqJ9g.js";import"./index-CQRKOrpE.js";import"./createLucideIcon-COpZNn89.js";import"./index-B_OyAaor.js";import"./toaster-BP8DQWEf.js";import"./chevron-right-ZeX9EP49.js";import"./index-YL3iSs7e.js";import"./index-BGHOW37F.js";import"./wayfinder-Bf9OnZdi.js";import"./index-DGFuwtWj.js";import"./graduation-cap-CMb3OYv1.js";import"./calendar-DoTJ9WpJ.js";import"./file-text-CDbcMrsE.js";import"./lock-DvBGh-ba.js";import"./shield-CkMlCz6n.js";import"./mail-80QjdHWr.js";const $=[{title:"Configuración de Pagos",href:w().url}],c=[{key:"amount_linaje_kids",name:"Linaje Kids",description:"Niños de 4 a 9 años",color:"amber"},{key:"amount_linaje_teens",name:"Linaje Teens",description:"Niños y adolescentes de 10 a 17 años",color:"blue"},{key:"amount_linaje_big",name:"Linaje Big",description:"Adultos de 18 años en adelante",color:"green"}];function pe({paymentSetting:n}){const{data:s,setData:r,patch:p,processing:l,errors:u}=f({amount_linaje_kids:n?.amount_linaje_kids??"100000",amount_linaje_teens:n?.amount_linaje_teens??"100000",amount_linaje_big:n?.amount_linaje_big??"100000",is_active:n?.is_active??!0,enable_online_payment:n?.enable_online_payment??!0,enable_manual_payment:n?.enable_manual_payment??!0}),x=a=>{!a&&!s.enable_manual_payment||r("enable_online_payment",a)},g=a=>{!a&&!s.enable_online_payment||r("enable_manual_payment",a)},b=a=>{a.preventDefault(),p("/pagos/settings",{preserveScroll:!0})},h=(a,o)=>{switch(a){case"amber":return"bg-amber-500 text-white";case"blue":return"bg-blue-500 text-white";case"green":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},j=a=>{switch(a){case"amber":return"border-amber-200 bg-amber-50/50";case"blue":return"border-blue-200 bg-blue-50/50";case"green":return"border-green-200 bg-green-50/50";default:return""}};return e.jsxs(C,{breadcrumbs:$,children:[e.jsx(_,{title:"Configuración de Pagos"}),e.jsx("div",{className:"px-4 py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsx(d,{title:"Configuración de Pagos",description:"Configura los montos de pago por modalidad y otros parámetros"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-base font-semibold",children:"Montos por Modalidad"})]}),e.jsx("p",{className:"text-sm text-muted-foreground -mt-4",children:"Configura el monto de pago para cada modalidad. Cada estudiante pagará según su grupo de edad."}),e.jsx("div",{className:"grid gap-4",children:c.map(a=>e.jsx("div",{className:`rounded-lg border p-4 ${j(a.color)}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${h(a.color)}`,children:e.jsx(m,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:a.key,className:"text-base font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"$"}),e.jsx(v,{id:a.key,type:"number",min:"1500",step:"1000",className:"w-36 text-right font-semibold",value:s[a.key],onChange:o=>r(a.key,o.target.value),placeholder:"100000",required:!0}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"COP"})]}),e.jsx(N,{message:u[a.key]})]})]})},a.key))}),e.jsxs("div",{className:"rounded-lg bg-muted p-4 space-y-3",children:[e.jsx("p",{className:"text-sm font-medium",children:"Vista Previa de Montos"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:c.map(a=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:a.name}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",Number(s[a.key]).toLocaleString("es-CO")]})]},a.key))})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"is_active",children:"Configuración activa"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita esta configuración para aplicar los montos a nuevas matrículas"})]}),e.jsx(i,{id:"is_active",checked:s.is_active,onCheckedChange:a=>r("is_active",a)})]})]}),e.jsxs("div",{className:"rounded-lg border p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Métodos de Pago"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona los métodos de pago disponibles para las matrículas. Debe haber al menos uno activo."})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-lg border p-4 transition-colors ${s.enable_online_payment?"border-amber-300 bg-amber-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s.enable_online_payment?"bg-amber-500 text-white":"bg-gray-100 text-gray-400"}`,children:e.jsx(k,{className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"enable_online_payment",children:"Pago en Línea (Wompi)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarjeta de crédito, débito, PSE, Nequi"})]})]}),e.jsx(i,{id:"enable_online_payment",checked:s.enable_online_payment,onCheckedChange:x,disabled:s.enable_online_payment&&!s.enable_manual_payment})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-lg border p-4 transition-colors ${s.enable_manual_payment?"border-green-300 bg-green-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${s.enable_manual_payment?"bg-green-500 text-white":"bg-gray-100 text-gray-400"}`,children:e.jsx(L,{className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{htmlFor:"enable_manual_payment",children:"Pago Manual"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Transferencia bancaria o efectivo en instalaciones"})]})]}),e.jsx(i,{id:"enable_manual_payment",checked:s.enable_manual_payment,onCheckedChange:g,disabled:s.enable_manual_payment&&!s.enable_online_payment})]}),(!s.enable_online_payment||!s.enable_manual_payment)&&e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-amber-50 border border-amber-200 p-3 text-sm text-amber-800",children:[e.jsx(P,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("span",{children:["Solo el método de ",e.jsx("strong",{children:s.enable_online_payment?"pago en línea":"pago manual"})," estará disponible para los estudiantes."]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(y,{type:"submit",disabled:l,children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),l?"Guardando...":"Guardar Configuración"]})})]}),e.jsxs("div",{className:"rounded-lg border bg-muted/50 p-6 space-y-4",children:[e.jsx(d,{title:"Información Importante",description:"Ten en cuenta lo siguiente sobre la configuración de pagos"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Linaje Kids:"})," Para niños de 4 a 9 años de edad."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linaje Teens:"})," Para niños y adolescentes de 10 a 17 años de edad."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linaje Big:"})," Para adultos de 18 años en adelante (se asigna automáticamente)."]}),e.jsxs("li",{children:["Los montos configurados se aplicarán a todas las ",e.jsx("strong",{children:"nuevas matrículas"})," según la modalidad seleccionada."]}),e.jsx("li",{children:"Los pagos ya existentes no se verán afectados por estos cambios."}),e.jsx("li",{children:"El monto mínimo permitido es de $1,500 COP (requerido por Wompi)."})]})]})]})})]})}export{pe as default};
