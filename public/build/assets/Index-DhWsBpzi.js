import{r as N,j as e,H as T,L as _,a as o}from"./app-_rOQn_46.js";import{A}from"./app-layout-CLhCFhGY.js";import{B as d}from"./button-Cwjg0RKq.js";import{I as L}from"./input-C_eRjc1n.js";import{C as l,a,b,c as C,d as k}from"./card-BBOBQJet.js";import{T as E,a as H,b as x,c as i,d as F,e as r}from"./table-mJfQHbWO.js";import{S as I,a as z,b as B,c as P,d as c}from"./select-fBj-5ZE1.js";import{A as R,a as M,b as G,c as U,d as V,e as $,f as K,g as O,h as X}from"./alert-dialog-CFvNabCX.js";import{U as q}from"./users-CU2UoBYp.js";import{C as v}from"./clock-92yNzH6p.js";import{C as J}from"./circle-check-big-DVR_8QDl.js";import{C as Q}from"./circle-x-C2egA9mx.js";import{F as W}from"./filter-BrnGtBRn.js";import{S as Y}from"./app-header-uhUDMoS0.js";import{E as Z}from"./eye-HnW50b-k.js";import{T as ee}from"./trash-2-B0HAO7F0.js";/* empty css            */import"./utils-CHYGzkwl.js";import"./index-kZXzX9CC.js";import"./index-C0WYYgI1.js";import"./createLucideIcon-BTUecZaa.js";import"./index-DhMGY2fr.js";import"./index-LDKjRhno.js";import"./index-86eqSqYr.js";import"./toaster-DF114ULM.js";import"./index-HbNiKBAr.js";import"./chevron-down-gmsC21Id.js";import"./check-DD34Qu--.js";import"./chevron-right-KvpbVvzH.js";import"./index-B4ow9L1E.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./book-open-d3nfV-Db.js";import"./graduation-cap-h2z_kizA.js";import"./credit-card-CtYZ3YyT.js";import"./calendar-DwYwQP4N.js";import"./file-text-CqZet-U8.js";import"./lock-BoKNE-VZ.js";import"./shield-DI4dg6mj.js";import"./loader-circle-eUOhA3c_.js";import"./mail-DuzhTNEq.js";function Ve({leads:t,stats:n,filters:h}){const[j,u]=N.useState(h.search||""),[m,p]=N.useState(h.status||"all"),f=()=>{o.get("/admin/demo-leads",{search:j||void 0,status:m!=="all"?m:void 0},{preserveState:!0,preserveScroll:!0})},w=()=>{u(""),p("all"),o.get("/admin/demo-leads")},y=s=>{o.delete(`/admin/demo-leads/${s.id}`,{preserveScroll:!0})},S=s=>{switch(s){case"yellow":return{backgroundColor:"#fef9c3",color:"#854d0e",borderColor:"#fde047"};case"blue":return{backgroundColor:"#dbeafe",color:"#1e40af",borderColor:"#93c5fd"};case"green":return{backgroundColor:"#dcfce7",color:"#166534",borderColor:"#86efac"};case"red":return{backgroundColor:"#fee2e2",color:"#991b1b",borderColor:"#fca5a5"};default:return{backgroundColor:"#f3f4f6",color:"#374151",borderColor:"#d1d5db"}}},D=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(A,{children:[e.jsx(T,{title:"Gestión de Leads - Clases Demo"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Leads"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Administra las solicitudes de clases demo"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:n.total})]}),e.jsx(q,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-bold",children:n.pending})]}),e.jsx(v,{className:"h-8 w-8 text-yellow-400"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Contactados"}),e.jsx("p",{className:"text-2xl font-bold",children:n.contacted})]}),e.jsx(v,{className:"h-8 w-8 text-blue-400"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Convertidos"}),e.jsx("p",{className:"text-2xl font-bold",children:n.converted})]}),e.jsx(J,{className:"h-8 w-8 text-green-400"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Rechazados"}),e.jsx("p",{className:"text-2xl font-bold",children:n.rejected})]}),e.jsx(Q,{className:"h-8 w-8 text-red-400"})]})})})]}),e.jsxs(l,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Filtros"]})}),e.jsx(a,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(L,{placeholder:"Buscar por nombre, email, teléfono...",value:j,onChange:s=>u(s.target.value),onKeyDown:s=>s.key==="Enter"&&f()})}),e.jsxs(I,{value:m,onValueChange:p,children:[e.jsx(z,{className:"w-full md:w-48",children:e.jsx(B,{placeholder:"Estado"})}),e.jsxs(P,{children:[e.jsx(c,{value:"all",children:"Todos"}),e.jsx(c,{value:"pending",children:"Pendiente"}),e.jsx(c,{value:"contacted",children:"Contactado"}),e.jsx(c,{value:"converted",children:"Convertido"}),e.jsx(c,{value:"rejected",children:"Rechazado"})]})]}),e.jsxs(d,{onClick:f,children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(d,{variant:"outline",onClick:w,children:"Limpiar"})]})})]}),e.jsxs(l,{children:[e.jsxs(b,{children:[e.jsxs(C,{children:["Leads (",t.total,")"]}),e.jsx(k,{children:"Lista de todas las solicitudes de clases demo"})]}),e.jsxs(a,{children:[e.jsxs(E,{children:[e.jsx(H,{children:e.jsxs(x,{children:[e.jsx(i,{children:"Nombre"}),e.jsx(i,{children:"Contacto"}),e.jsx(i,{children:"Instrumento"}),e.jsx(i,{children:"Horario Preferido"}),e.jsx(i,{children:"Estado"}),e.jsx(i,{children:"Fecha"}),e.jsx(i,{className:"text-right",children:"Acciones"})]})}),e.jsx(F,{children:t.data.length===0?e.jsx(x,{children:e.jsx(r,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No se encontraron leads"})}):t.data.map(s=>e.jsxs(x,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.is_for_child&&s.child_name&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para: ",s.child_name]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:s.email}),e.jsx("p",{className:"text-muted-foreground",children:s.phone})]})}),e.jsx(r,{children:s.instrument}),e.jsx(r,{children:s.preferred_schedule?e.jsx("span",{className:"text-sm",children:s.preferred_schedule}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No especificado"})}),e.jsx(r,{children:e.jsx("span",{style:S(s.status_color),className:"inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",children:s.status_label})}),e.jsx(r,{className:"text-sm text-muted-foreground",children:D(s.created_at)}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(_,{href:`/admin/demo-leads/${s.id}`,children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsxs(R,{children:[e.jsx(M,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-4 w-4 text-red-600"})})}),e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx(V,{children:"¿Eliminar lead?"}),e.jsxs($,{children:["Esta acción no se puede deshacer. Se eliminará permanentemente el lead de ",s.name,"."]})]}),e.jsxs(K,{children:[e.jsx(O,{children:"Cancelar"}),e.jsx(X,{onClick:()=>y(s),children:"Eliminar"})]})]})]})]})})]},s.id))})]}),t.last_page>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",t.data.length," de ",t.total," resultados"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((s,g)=>s.url?e.jsx(d,{variant:s.active?"default":"outline",size:"sm",onClick:()=>o.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},g):e.jsx(d,{variant:"outline",size:"sm",disabled:!0,children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},g))})]})]})]})]})]})}export{Ve as default};
