import{j as e,H as g,L as l}from"./app-DS3XsqEZ.js";import{B as j}from"./button-B1e-AMvH.js";import{A as p}from"./app-layout-jDJ60CM8.js";import{C as c}from"./circle-x-CfSFL3nd.js";import{C as N}from"./clock-BQyykLpP.js";import{C as f}from"./circle-check-big-DqBP3iFw.js";import{A as u}from"./arrow-left-DEShpZ4J.js";import{S as v}from"./square-pen-DgG-4kEj.js";import{D as b}from"./dollar-sign-JMumnRM0.js";import{U as y}from"./user-CtpExs7Y.js";import{F as w}from"./file-text-CqlDkYrG.js";import{B as _}from"./index-B3zDr7qY.js";import{C}from"./calendar-CU4UlK9S.js";import{R as P}from"./receipt-26VHl4m4.js";/* empty css            */import"./utils-CXgVrZ_A.js";import"./index-C1zl3AKF.js";import"./index-SalYN_vT.js";import"./index-CbjShBpi.js";import"./createLucideIcon-CDm0GSF8.js";import"./index-BGLTVUfG.js";import"./index-CNXn2kmk.js";import"./index-BSFzQkJ5.js";import"./app-header-B9YO6fFf.js";import"./chevron-right-BKj6_V_o.js";import"./index-DSW0ah-P.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./graduation-cap-D6NhGYmE.js";import"./users-D0n3l_ee.js";import"./credit-card-CG29_pKq.js";import"./lock-pyde7PLs.js";import"./shield-CQP0rKaF.js";import"./loader-circle-BegcMASd.js";import"./mail-DPit2bkd.js";import"./toaster-B63BtNr_.js";const n={cash:"Efectivo",transfer:"Transferencia",credit_card:"Tarjeta de Crédito",manual:"Manual"},o={completed:{bg:"bg-green-100",text:"text-green-700",label:"Completado",icon:f},pending:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Pendiente",icon:N},overdue:{bg:"bg-red-100",text:"text-red-700",label:"Vencido",icon:c},cancelled:{bg:"bg-gray-100",text:"text-gray-700",label:"Cancelado",icon:c}},S={single:"Pago Único",partial:"Abonos Parciales",installment:"Cuotas"};function oe({payment:s}){const a=s.original_amount??s.amount,i=s.paid_amount??0,m=s.pending_balance??s.remaining_amount??a,d=a>0?Math.min(i/a*100,100):0,r=o[s.status]??o.pending,x=r.icon;return e.jsxs(p,{children:[e.jsx(g,{title:`Pago #${s.id}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(l,{href:"/pagos",className:"mb-2 flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(u,{className:"mr-1 h-4 w-4"}),"Volver a pagos"]}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Detalle de Pago #",s.id]})]}),e.jsx(l,{href:`/pagos/${s.id}/edit`,children:e.jsxs(j,{children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Editar"]})})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx(b,{className:"h-5 w-5 text-green-600"}),"Resumen Financiero"]}),e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-sm font-medium ${r.bg} ${r.text}`,children:[e.jsx(x,{className:"h-4 w-4"}),r.label]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Progreso de pago"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[d.toFixed(0),"%"]})]}),e.jsx("div",{className:"mt-2 h-3 w-full overflow-hidden rounded-full bg-gray-200",children:e.jsx("div",{className:`h-full rounded-full transition-all ${s.status==="completed"?"bg-green-500":"bg-blue-500"}`,style:{width:`${d}%`}})}),e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",a.toLocaleString("es-CO")]})]}),e.jsxs("div",{className:"rounded-lg bg-green-50 p-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Pagado"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",i.toLocaleString("es-CO")]})]}),e.jsxs("div",{className:"rounded-lg bg-orange-50 p-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Pendiente"}),e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:["$",m.toLocaleString("es-CO")]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold uppercase text-gray-500",children:[e.jsx(y,{className:"h-4 w-4"}),"Estudiante"]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Nombre"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[s.student.name," ",s.student.last_name??""]})]}),s.student.document_number&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Documento"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.student.document_number})]}),s.student.email&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.student.email})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold uppercase text-gray-500",children:[e.jsx(w,{className:"h-4 w-4"}),"Detalles del Pago"]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Concepto"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.concept})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tipo"}),e.jsx("div",{className:"font-medium text-gray-900",children:S[s.payment_type]??s.payment_type})]}),s.payment_method&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Método de Pago"}),e.jsx("div",{className:"font-medium text-gray-900",children:n[s.payment_method]??s.payment_method})]}),s.reference_number&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Referencia"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.reference_number})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold uppercase text-gray-500",children:[e.jsx(_,{className:"h-4 w-4"}),"Programa y Matrícula"]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[s.program&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Programa"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.program.name})]}),s.enrollment&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Estado Matrícula"}),e.jsx("div",{className:"font-medium text-gray-900 capitalize",children:s.enrollment.status})]}),s.wompi_reference&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Referencia Wompi"}),e.jsx("div",{className:"font-mono text-sm text-gray-900",children:s.wompi_reference})]}),s.wompi_transaction_id&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Transacción Wompi"}),e.jsx("div",{className:"font-mono text-sm text-gray-900",children:s.wompi_transaction_id})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold uppercase text-gray-500",children:[e.jsx(C,{className:"h-4 w-4"}),"Fechas"]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Fecha de Vencimiento"}),e.jsx("div",{className:"font-medium text-gray-900",children:new Date(s.due_date).toLocaleDateString("es-CO")})]}),s.payment_date&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Fecha de Pago"}),e.jsx("div",{className:"font-medium text-gray-900",children:new Date(s.payment_date).toLocaleDateString("es-CO")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Fecha de Registro"}),e.jsx("div",{className:"font-medium text-gray-900",children:new Date(s.created_at).toLocaleDateString("es-CO")})]}),s.recorded_by&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Registrado por"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.recorded_by.name})]})]})]})]}),s.notes&&e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold uppercase text-gray-500",children:"Notas"}),e.jsx("p",{className:"mt-2 text-gray-700",children:s.notes})]}),s.transactions&&s.transactions.length>0&&e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx(P,{className:"h-5 w-5 text-purple-600"}),"Historial de Abonos (",s.transactions.length,")"]}),e.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-gray-200",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Método"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Referencia"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Registrado por"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-600",children:"Notas"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.transactions.map((t,h)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-500",children:h+1}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:new Date(t.created_at).toLocaleDateString("es-CO")}),e.jsxs("td",{className:"px-4 py-3 font-semibold text-green-700",children:["$",Number(t.amount).toLocaleString("es-CO")]}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:n[t.payment_method]??t.payment_method}),e.jsx("td",{className:"px-4 py-3 text-gray-500",children:t.reference_number||"—"}),e.jsx("td",{className:"px-4 py-3 text-gray-500",children:t.recorded_by?.name||"—"}),e.jsx("td",{className:"px-4 py-3 text-gray-500",children:t.notes||"—"})]},t.id))})]})})]})]})]})}export{oe as default};
