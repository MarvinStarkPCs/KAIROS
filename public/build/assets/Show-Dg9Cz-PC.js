import{u as F,r as Q,j as t,H as ee,L as H}from"./app-D-uv_Psx.js";import{B as p}from"./button-CZLon7G2.js";import{p as U}from"./program_academy-BZO3Mg-d.js";import{A as te}from"./app-layout-DrWKSiAk.js";import{D as I,b as k,c as z,d as L,e as T,f as $}from"./dialog-DUXeL_Jj.js";import{I as E}from"./input-DQwzM51V.js";import{L as x}from"./label-t_dBD3eZ.js";import{T as M}from"./textarea-BysyMwhi.js";import{a as P,q as D}from"./wayfinder-FFrBTblC.js";import{A as re}from"./arrow-left-CtPZ_CHJ.js";import{P as q}from"./plus-C-YoFi0l.js";import{c as G}from"./createLucideIcon-ByNTHBwj.js";import{A as ie}from"./award-CzKlX3Uh.js";import"./app-DONzrYJq.js";import"./index-C6PShWrw.js";import"./index-D8JXF2hF.js";import"./index-BYfh92J7.js";import"./index-DVuXEgNF.js";import"./index-Cph7qshs.js";import"./index-BkKZb9GP.js";import"./index-wHbZweVG.js";import"./app-header-d-LvYzGs.js";import"./chevron-right-CQF22wVu.js";import"./index-DyTktlIA.js";import"./index-YEfPdCwI.js";import"./house-BPDncYtQ.js";import"./book-open-CnpuVu-D.js";import"./user-check-B3TcCCYg.js";import"./credit-card-pz6JZUpA.js";import"./file-text-o2UxwPLd.js";import"./lock-ByVvvXEH.js";import"./shield-BCdXTqOP.js";import"./music-Cu_syfvv.js";import"./mail-1kj8Jpr7.js";import"./toaster-PZh83r33.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],B=G("Book",se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ae=G("ListChecks",de),y=(e,r)=>({url:y.url(e,r),method:"post"});y.definition={methods:["post"],url:"/programas_academicos/{program}/study-plans"};y.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=P(e);const a={program:typeof e.program=="object"?e.program.id:e.program};return y.definition.url.replace("{program}",a.program.toString()).replace(/\/+$/,"")+D(r)};y.post=(e,r)=>({url:y.url(e,r),method:"post"});const R=(e,r)=>({action:y.url(e,r),method:"post"});R.post=(e,r)=>({action:y.url(e,r),method:"post"});y.form=R;const f=(e,r)=>({url:f.url(e,r),method:"put"});f.definition={methods:["put"],url:"/study-plans/{studyPlan}"};f.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=P(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return f.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+D(r)};f.put=(e,r)=>({url:f.url(e,r),method:"put"});const V=(e,r)=>({action:f.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});V.put=(e,r)=>({action:f.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});f.form=V;const j=(e,r)=>({url:j.url(e,r),method:"delete"});j.definition={methods:["delete"],url:"/study-plans/{studyPlan}"};j.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=P(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return j.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+D(r)};j.delete=(e,r)=>({url:j.url(e,r),method:"delete"});const J=(e,r)=>({action:j.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});J.delete=(e,r)=>({action:j.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});j.form=J;const v=(e,r)=>({url:v.url(e,r),method:"post"});v.definition={methods:["post"],url:"/study-plans/{studyPlan}/activities"};v.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=P(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return v.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+D(r)};v.post=(e,r)=>({url:v.url(e,r),method:"post"});const K=(e,r)=>({action:v.url(e,r),method:"post"});K.post=(e,r)=>({action:v.url(e,r),method:"post"});v.form=K;const b=(e,r)=>({url:b.url(e,r),method:"put"});b.definition={methods:["put"],url:"/activities/{activity}"};b.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=P(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return b.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+D(r)};b.put=(e,r)=>({url:b.url(e,r),method:"put"});const W=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});W.put=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});b.form=W;const g=(e,r)=>({url:g.url(e,r),method:"delete"});g.definition={methods:["delete"],url:"/activities/{activity}"};g.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=P(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return g.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+D(r)};g.delete=(e,r)=>({url:g.url(e,r),method:"delete"});const X=(e,r)=>({action:g.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});X.delete=(e,r)=>({action:g.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});g.form=X;const N=(e,r)=>({url:N.url(e,r),method:"post"});N.definition={methods:["post"],url:"/activities/{activity}/criteria"};N.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=P(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return N.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+D(r)};N.post=(e,r)=>({url:N.url(e,r),method:"post"});const Y=(e,r)=>({action:N.url(e,r),method:"post"});Y.post=(e,r)=>({action:N.url(e,r),method:"post"});N.form=Y;const A=(e,r)=>({url:A.url(e,r),method:"put"});A.definition={methods:["put"],url:"/criteria/{criteria}"};A.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=P(e);const a={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return A.definition.url.replace("{criteria}",a.criteria.toString()).replace(/\/+$/,"")+D(r)};A.put=(e,r)=>({url:A.url(e,r),method:"put"});const Z=(e,r)=>({action:A.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});Z.put=(e,r)=>({action:A.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});A.form=Z;const w=(e,r)=>({url:w.url(e,r),method:"delete"});w.definition={methods:["delete"],url:"/criteria/{criteria}"};w.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=P(e);const a={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return w.definition.url.replace("{criteria}",a.criteria.toString()).replace(/\/+$/,"")+D(r)};w.delete=(e,r)=>({url:w.url(e,r),method:"delete"});const O=(e,r)=>({action:w.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});O.delete=(e,r)=>({action:w.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});w.form=O;const S={store:y,update:f,destroy:j,storeActivity:v,updateActivity:b,destroyActivity:g,storeCriteria:N,updateCriteria:A,destroyCriteria:w};function le({open:e,onOpenChange:r,programId:a,studyPlan:i}){const u=!!i,{data:m,setData:o,post:c,put:l,processing:_,errors:d,reset:s}=F({module_name:i?.module_name||"",description:i?.description||"",hours:i?.hours||1,level:i?.level||1});Q.useEffect(()=>{i?o({module_name:i.module_name,description:i.description||"",hours:i.hours,level:i.level}):s()},[i,e]);const C=h=>{h.preventDefault(),u?l(S.update({studyPlan:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}}):c(S.store({program:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}})};return t.jsx(I,{open:e,onOpenChange:r,children:t.jsx(k,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:C,children:[t.jsxs(z,{children:[t.jsx(L,{children:u?"Editar Módulo":"Agregar Módulo"}),t.jsx(T,{children:u?"Actualiza la información del módulo del plan de estudios.":"Agrega un nuevo módulo al plan de estudios del programa."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"module_name",children:"Nombre del Módulo *"}),t.jsx(E,{id:"module_name",value:m.module_name,onChange:h=>o("module_name",h.target.value),placeholder:"Ej: Introducción a la Programación",className:d.module_name?"border-red-500":""}),d.module_name&&t.jsx("p",{className:"text-sm text-red-600",children:d.module_name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"description",children:"Descripción"}),t.jsx(M,{id:"description",value:m.description,onChange:h=>o("description",h.target.value),placeholder:"Describe el contenido y objetivos del módulo",rows:3,className:d.description?"border-red-500":""}),d.description&&t.jsx("p",{className:"text-sm text-red-600",children:d.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"hours",children:"Horas *"}),t.jsx(E,{id:"hours",type:"number",min:"1",value:m.hours,onChange:h=>o("hours",parseInt(h.target.value)||1),className:d.hours?"border-red-500":""}),d.hours&&t.jsx("p",{className:"text-sm text-red-600",children:d.hours})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"level",children:"Nivel *"}),t.jsx(E,{id:"level",type:"number",min:"1",value:m.level,onChange:h=>o("level",parseInt(h.target.value)||1),className:d.level?"border-red-500":""}),d.level&&t.jsx("p",{className:"text-sm text-red-600",children:d.level})]})]})]}),t.jsxs($,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:_,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:_,children:_?"Guardando...":u?"Actualizar":"Crear"})]})]})})})}function oe({open:e,onOpenChange:r,studyPlanId:a,activity:i,nextOrder:u=0}){const m=!!i,{data:o,setData:c,post:l,put:_,processing:d,errors:s,reset:C}=F({name:i?.name||"",description:i?.description||"",order:i?.order??u,weight:i?.weight||0,status:i?.status||"active"});Q.useEffect(()=>{i?c({name:i.name,description:i.description||"",order:i.order,weight:i.weight,status:i.status}):(C(),c("order",u))},[i,e,u]);const h=n=>{n.preventDefault(),m?_(S.updateActivity({activity:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),C()}}):l(S.storeActivity({studyPlan:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),C()}})};return t.jsx(I,{open:e,onOpenChange:r,children:t.jsx(k,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:h,children:[t.jsxs(z,{children:[t.jsx(L,{children:m?"Editar Actividad":"Agregar Actividad"}),t.jsx(T,{children:m?"Actualiza la información de la actividad.":"Agrega una nueva actividad al módulo del plan de estudios."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"name",children:"Nombre de la Actividad *"}),t.jsx(E,{id:"name",value:o.name,onChange:n=>c("name",n.target.value),placeholder:"Ej: Proyecto Final",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"description",children:"Descripción"}),t.jsx(M,{id:"description",value:o.description,onChange:n=>c("description",n.target.value),placeholder:"Describe la actividad y sus objetivos",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"order",children:"Orden *"}),t.jsx(E,{id:"order",type:"number",min:"0",value:o.order,onChange:n=>c("order",parseInt(n.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"weight",children:"Peso (%) *"}),t.jsx(E,{id:"weight",type:"number",min:"0",max:"100",step:"0.01",value:o.weight,onChange:n=>c("weight",parseFloat(n.target.value)||0),className:s.weight?"border-red-500":""}),s.weight&&t.jsx("p",{className:"text-sm text-red-600",children:s.weight})]})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"status",children:"Estado *"}),t.jsxs("select",{id:"status",value:o.status,onChange:n=>c("status",n.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[t.jsx("option",{value:"active",children:"Activa"}),t.jsx("option",{value:"inactive",children:"Inactiva"})]}),s.status&&t.jsx("p",{className:"text-sm text-red-600",children:s.status})]})]}),t.jsxs($,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:d,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:d,children:d?"Guardando...":m?"Actualizar":"Crear"})]})]})})})}function ne({open:e,onOpenChange:r,activityId:a,criteria:i,nextOrder:u=0}){const m=!!i,{data:o,setData:c,post:l,put:_,processing:d,errors:s,reset:C}=F({name:i?.name||"",description:i?.description||"",max_points:i?.max_points||10,order:i?.order??u});Q.useEffect(()=>{i?c({name:i.name,description:i.description||"",max_points:i.max_points,order:i.order}):(C(),c("order",u))},[i,e,u]);const h=n=>{n.preventDefault(),m?_(S.updateCriteria({criteria:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),C()}}):l(S.storeCriteria({activity:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),C()}})};return t.jsx(I,{open:e,onOpenChange:r,children:t.jsx(k,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:h,children:[t.jsxs(z,{children:[t.jsx(L,{children:m?"Editar Criterio de Evaluación":"Agregar Criterio de Evaluación"}),t.jsx(T,{children:m?"Actualiza la información del criterio de evaluación.":"Agrega un nuevo criterio de evaluación a la actividad."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"name",children:"Nombre del Criterio *"}),t.jsx(E,{id:"name",value:o.name,onChange:n=>c("name",n.target.value),placeholder:"Ej: Calidad del código",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"description",children:"Descripción"}),t.jsx(M,{id:"description",value:o.description,onChange:n=>c("description",n.target.value),placeholder:"Describe qué se evaluará en este criterio",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"max_points",children:"Puntuación Máxima *"}),t.jsx(E,{id:"max_points",type:"number",min:"0",step:"0.01",value:o.max_points,onChange:n=>c("max_points",parseFloat(n.target.value)||0),className:s.max_points?"border-red-500":""}),s.max_points&&t.jsx("p",{className:"text-sm text-red-600",children:s.max_points})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(x,{htmlFor:"order",children:"Orden *"}),t.jsx(E,{id:"order",type:"number",min:"0",value:o.order,onChange:n=>c("order",parseInt(n.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]})]})]}),t.jsxs($,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:d,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:d,children:d?"Guardando...":m?"Actualizar":"Crear"})]})]})})})}function Re({program:e,studyPlans:r}){const[a,i]=Q.useState({open:!1}),[u,m]=Q.useState({open:!1}),[o,c]=Q.useState({open:!1});return t.jsxs(te,{children:[t.jsx(ee,{title:`${e.name} - Plan de Estudios`}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs(H,{href:U.index().url,className:"mb-3 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[t.jsx(re,{className:"mr-1 h-4 w-4"}),"Volver a programas"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),e.description&&t.jsx("p",{className:"mt-2 text-gray-600",children:e.description}),t.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[e.duration_months," meses"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status==="active"?"Activo":"Inactivo"})]})]}),t.jsx(H,{href:U.edit({program:e.id}).url,children:t.jsx(p,{variant:"outline",children:"Editar Programa"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plan de Estudios"}),t.jsxs(p,{onClick:()=>i({open:!0}),children:[t.jsx(q,{className:"mr-2 h-4 w-4"}),"Agregar Módulo"]})]}),r.length>0?t.jsx("div",{className:"space-y-4",children:r.map((l,_)=>t.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:t.jsx(B,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Módulo ",_+1,": ",l.module_name]}),l.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:l.description}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[l.hours," horas"]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Nivel ",l.level]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{variant:"outline",size:"sm",onClick:()=>i({open:!0,studyPlan:l}),children:"Editar"}),t.jsx(p,{variant:"outline",size:"sm",onClick:()=>m({open:!0,studyPlanId:l.id,nextOrder:l.activities.length}),children:t.jsx(q,{className:"h-4 w-4"})})]})]}),l.activities.length>0?t.jsxs("div",{className:"ml-14 space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Actividades:"}),l.activities.map(d=>t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-purple-100",children:t.jsx(ae,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900",children:d.name}),d.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:d.description}),t.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500",children:[t.jsxs("span",{children:["Peso: ",d.weight,"%"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2 py-0.5 ${d.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:d.status==="active"?"Activa":"Inactiva"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>m({open:!0,studyPlanId:l.id,activity:d}),children:"Editar"}),t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>c({open:!0,activityId:d.id,nextOrder:d.evaluation_criteria.length}),children:t.jsx(q,{className:"h-4 w-4"})})]})]}),d.evaluation_criteria.length>0&&t.jsxs("div",{className:"ml-11 space-y-2",children:[t.jsx("h6",{className:"text-xs font-semibold text-gray-600",children:"Criterios de Evaluación:"}),d.evaluation_criteria.map(s=>t.jsxs("div",{className:"flex items-center justify-between rounded-md border border-gray-200 bg-white p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-4 w-4 text-amber-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),s.description&&t.jsx("p",{className:"text-xs text-gray-600",children:s.description})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s.max_points," pts"]}),t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>c({open:!0,activityId:d.id,criteria:s}),children:"Editar"})]})]},s.id))]})]},d.id))]}):t.jsxs("div",{className:"ml-14 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"No hay actividades en este módulo"}),t.jsxs(p,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>m({open:!0,studyPlanId:l.id,nextOrder:0}),children:[t.jsx(q,{className:"mr-2 h-4 w-4"}),"Agregar Primera Actividad"]})]})]},l.id))}):t.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 bg-white p-12 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:t.jsx(B,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No hay módulos en este programa"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Comienza agregando el primer módulo al plan de estudios"}),t.jsxs(p,{onClick:()=>i({open:!0}),children:[t.jsx(q,{className:"mr-2 h-5 w-5"}),"Agregar Primer Módulo"]})]})]})]}),t.jsx(le,{open:a.open,onOpenChange:l=>i({open:l,studyPlan:void 0}),programId:e.id,studyPlan:a.studyPlan}),u.studyPlanId&&t.jsx(oe,{open:u.open,onOpenChange:l=>m({open:l,studyPlanId:void 0,activity:void 0}),studyPlanId:u.studyPlanId,activity:u.activity,nextOrder:u.nextOrder}),o.activityId&&t.jsx(ne,{open:o.open,onOpenChange:l=>c({open:l,activityId:void 0,criteria:void 0}),activityId:o.activityId,criteria:o.criteria,nextOrder:o.nextOrder})]})}export{Re as default};
