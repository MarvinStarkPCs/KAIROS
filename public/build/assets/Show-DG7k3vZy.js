import{u as R,r as P,j as t,H as ye,L as ee,a as z}from"./app-D2xJVej6.js";import{B as p}from"./button-DT4OFoXT.js";import{p as te}from"./program_academy-DHrmKVwx.js";import{a as q,q as k}from"./wayfinder-Bf9OnZdi.js";import{A as je}from"./app-layout-BhtpgP-l.js";import{D as V,b as J,c as K,d as W,e as X,f as Y}from"./dialog-KwHOPZk5.js";import{I as S}from"./input-BMQaBjs4.js";import{L as j}from"./label-DCTEnliJ.js";import{T as Z}from"./textarea-Br-MJedD.js";import{A as T,b as L,c as $,d as M,e as H,f as U,g as B,h as G}from"./alert-dialog-BcGqw0OF.js";import{A as ve}from"./arrow-left-eqFxj3ZE.js";import{P as I}from"./plus-B2fFry0h.js";import{c as ie}from"./createLucideIcon-DDHjUP8n.js";import{T as O}from"./trash-2-DGYsHW1R.js";import{A as fe}from"./index-D51LR7fw.js";import"./app-ByrExa3J.js";import"./index-CUp9t4hP.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./index-BVS7u4sY.js";import"./index-D6U4oZxB.js";import"./index-N6ZqqrsN.js";import"./index-BzDDfcCv.js";import"./index-U7U3jF4Z.js";import"./app-header-DIkiJXu-.js";import"./graduation-cap-BFJaPLXn.js";import"./index-ZFqDKtjd.js";import"./index-CbRbsemT.js";import"./user-LF-gcgor.js";import"./users-BYujMXTS.js";import"./credit-card-gcU7CnN5.js";import"./calendar-CvxxzLYe.js";import"./file-text-DWZMJOcc.js";import"./lock-BbV6n7PD.js";import"./shield-D1LqEGv-.js";import"./mail-C8ahpI_b.js";import"./toaster-D5HddWzB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],re=ie("Book",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Ne=ie("ListChecks",be),g=(e,r)=>({url:g.url(e,r),method:"post"});g.definition={methods:["post"],url:"/programas_academicos/{program}/study-plans"};g.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=q(e);const a={program:typeof e.program=="object"?e.program.id:e.program};return g.definition.url.replace("{program}",a.program.toString()).replace(/\/+$/,"")+k(r)};g.post=(e,r)=>({url:g.url(e,r),method:"post"});const se=(e,r)=>({action:g.url(e,r),method:"post"});se.post=(e,r)=>({action:g.url(e,r),method:"post"});g.form=se;const b=(e,r)=>({url:b.url(e,r),method:"put"});b.definition={methods:["put"],url:"/study-plans/{studyPlan}"};b.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return b.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+k(r)};b.put=(e,r)=>({url:b.url(e,r),method:"put"});const ae=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});ae.put=(e,r)=>({action:b.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});b.form=ae;const N=(e,r)=>({url:N.url(e,r),method:"delete"});N.definition={methods:["delete"],url:"/study-plans/{studyPlan}"};N.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return N.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+k(r)};N.delete=(e,r)=>({url:N.url(e,r),method:"delete"});const de=(e,r)=>({action:N.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});de.delete=(e,r)=>({action:N.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});N.form=de;const A=(e,r)=>({url:A.url(e,r),method:"post"});A.definition={methods:["post"],url:"/study-plans/{studyPlan}/activities"};A.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={studyPlan:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={studyPlan:e.id}),Array.isArray(e)&&(e={studyPlan:e[0]}),e=q(e);const a={studyPlan:typeof e.studyPlan=="object"?e.studyPlan.id:e.studyPlan};return A.definition.url.replace("{studyPlan}",a.studyPlan.toString()).replace(/\/+$/,"")+k(r)};A.post=(e,r)=>({url:A.url(e,r),method:"post"});const le=(e,r)=>({action:A.url(e,r),method:"post"});le.post=(e,r)=>({action:A.url(e,r),method:"post"});A.form=le;const C=(e,r)=>({url:C.url(e,r),method:"put"});C.definition={methods:["put"],url:"/activities/{activity}"};C.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return C.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+k(r)};C.put=(e,r)=>({url:C.url(e,r),method:"put"});const oe=(e,r)=>({action:C.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});oe.put=(e,r)=>({action:C.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});C.form=oe;const E=(e,r)=>({url:E.url(e,r),method:"delete"});E.definition={methods:["delete"],url:"/activities/{activity}"};E.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return E.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+k(r)};E.delete=(e,r)=>({url:E.url(e,r),method:"delete"});const ne=(e,r)=>({action:E.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});ne.delete=(e,r)=>({action:E.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});E.form=ne;const w=(e,r)=>({url:w.url(e,r),method:"post"});w.definition={methods:["post"],url:"/activities/{activity}/criteria"};w.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={activity:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={activity:e.id}),Array.isArray(e)&&(e={activity:e[0]}),e=q(e);const a={activity:typeof e.activity=="object"?e.activity.id:e.activity};return w.definition.url.replace("{activity}",a.activity.toString()).replace(/\/+$/,"")+k(r)};w.post=(e,r)=>({url:w.url(e,r),method:"post"});const ce=(e,r)=>({action:w.url(e,r),method:"post"});ce.post=(e,r)=>({action:w.url(e,r),method:"post"});w.form=ce;const D=(e,r)=>({url:D.url(e,r),method:"put"});D.definition={methods:["put"],url:"/criteria/{criteria}"};D.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=q(e);const a={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return D.definition.url.replace("{criteria}",a.criteria.toString()).replace(/\/+$/,"")+k(r)};D.put=(e,r)=>({url:D.url(e,r),method:"put"});const me=(e,r)=>({action:D.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});me.put=(e,r)=>({action:D.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});D.form=me;const _=(e,r)=>({url:_.url(e,r),method:"delete"});_.definition={methods:["delete"],url:"/criteria/{criteria}"};_.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={criteria:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={criteria:e.id}),Array.isArray(e)&&(e={criteria:e[0]}),e=q(e);const a={criteria:typeof e.criteria=="object"?e.criteria.id:e.criteria};return _.definition.url.replace("{criteria}",a.criteria.toString()).replace(/\/+$/,"")+k(r)};_.delete=(e,r)=>({url:_.url(e,r),method:"delete"});const ue=(e,r)=>({action:_.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});ue.delete=(e,r)=>({action:_.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});_.form=ue;const Q={store:g,update:b,destroy:N,storeActivity:A,updateActivity:C,destroyActivity:E,storeCriteria:w,updateCriteria:D,destroyCriteria:_};function Ae({open:e,onOpenChange:r,programId:a,studyPlan:i}){const u=!!i,{data:m,setData:n,post:c,put:f,processing:v,errors:l,reset:s}=R({module_name:i?.module_name||"",description:i?.description||"",hours:i?.hours||1,level:i?.level||1});P.useEffect(()=>{i?n({module_name:i.module_name,description:i.description||"",hours:i.hours,level:i.level}):s()},[i,e]);const x=h=>{h.preventDefault(),u?f(Q.update({studyPlan:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}}):c(Q.store({program:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),s()}})};return t.jsx(V,{open:e,onOpenChange:r,children:t.jsx(J,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:x,children:[t.jsxs(K,{children:[t.jsx(W,{children:u?"Editar Módulo":"Agregar Módulo"}),t.jsx(X,{children:u?"Actualiza la información del módulo del plan de estudios.":"Agrega un nuevo módulo al plan de estudios del programa."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"module_name",children:"Nombre del Módulo *"}),t.jsx(S,{id:"module_name",value:m.module_name,onChange:h=>n("module_name",h.target.value),placeholder:"Ej: Introducción a la Programación",className:l.module_name?"border-red-500":""}),l.module_name&&t.jsx("p",{className:"text-sm text-red-600",children:l.module_name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"description",children:"Descripción"}),t.jsx(Z,{id:"description",value:m.description,onChange:h=>n("description",h.target.value),placeholder:"Describe el contenido y objetivos del módulo",rows:3,className:l.description?"border-red-500":""}),l.description&&t.jsx("p",{className:"text-sm text-red-600",children:l.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"hours",children:"Horas *"}),t.jsx(S,{id:"hours",type:"number",min:"1",value:m.hours,onChange:h=>n("hours",parseInt(h.target.value)||1),className:l.hours?"border-red-500":""}),l.hours&&t.jsx("p",{className:"text-sm text-red-600",children:l.hours})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"level",children:"Nivel *"}),t.jsx(S,{id:"level",type:"number",min:"1",value:m.level,onChange:h=>n("level",parseInt(h.target.value)||1),className:l.level?"border-red-500":""}),l.level&&t.jsx("p",{className:"text-sm text-red-600",children:l.level})]})]})]}),t.jsxs(Y,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:v,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:v,children:v?"Guardando...":u?"Actualizar":"Crear"})]})]})})})}function Ce({open:e,onOpenChange:r,studyPlanId:a,activity:i,nextOrder:u=0}){const m=!!i,{data:n,setData:c,post:f,put:v,processing:l,errors:s,reset:x}=R({name:i?.name||"",description:i?.description||"",order:i?.order??u,weight:i?.weight||0,status:i?.status||"active"});P.useEffect(()=>{i?c({name:i.name,description:i.description||"",order:i.order,weight:i.weight,status:i.status}):(x(),c("order",u))},[i,e,u]);const h=o=>{o.preventDefault(),m?v(Q.updateActivity({activity:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),x()}}):f(Q.storeActivity({studyPlan:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),x()}})};return t.jsx(V,{open:e,onOpenChange:r,children:t.jsx(J,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:h,children:[t.jsxs(K,{children:[t.jsx(W,{children:m?"Editar Actividad":"Agregar Actividad"}),t.jsx(X,{children:m?"Actualiza la información de la actividad.":"Agrega una nueva actividad al módulo del plan de estudios."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"name",children:"Nombre de la Actividad *"}),t.jsx(S,{id:"name",value:n.name,onChange:o=>c("name",o.target.value),placeholder:"Ej: Proyecto Final",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"description",children:"Descripción"}),t.jsx(Z,{id:"description",value:n.description,onChange:o=>c("description",o.target.value),placeholder:"Describe la actividad y sus objetivos",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"order",children:"Orden *"}),t.jsx(S,{id:"order",type:"number",min:"0",value:n.order,onChange:o=>c("order",parseInt(o.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"weight",children:"Peso (%) *"}),t.jsx(S,{id:"weight",type:"number",min:"0",max:"100",step:"0.01",value:n.weight,onChange:o=>c("weight",parseFloat(o.target.value)||0),className:s.weight?"border-red-500":""}),s.weight&&t.jsx("p",{className:"text-sm text-red-600",children:s.weight})]})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"status",children:"Estado *"}),t.jsxs("select",{id:"status",value:n.status,onChange:o=>c("status",o.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[t.jsx("option",{value:"active",children:"Activa"}),t.jsx("option",{value:"inactive",children:"Inactiva"})]}),s.status&&t.jsx("p",{className:"text-sm text-red-600",children:s.status})]})]}),t.jsxs(Y,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:l,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:l,children:l?"Guardando...":m?"Actualizar":"Crear"})]})]})})})}function Ee({open:e,onOpenChange:r,activityId:a,criteria:i,nextOrder:u=0}){const m=!!i,{data:n,setData:c,post:f,put:v,processing:l,errors:s,reset:x}=R({name:i?.name||"",description:i?.description||"",max_points:i?.max_points||10,order:i?.order??u});P.useEffect(()=>{i?c({name:i.name,description:i.description||"",max_points:i.max_points,order:i.order}):(x(),c("order",u))},[i,e,u]);const h=o=>{o.preventDefault(),m?v(Q.updateCriteria({criteria:i.id}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),x()}}):f(Q.storeCriteria({activity:a}).url,{preserveScroll:!0,onSuccess:()=>{r(!1),x()}})};return t.jsx(V,{open:e,onOpenChange:r,children:t.jsx(J,{className:"sm:max-w-[500px]",children:t.jsxs("form",{onSubmit:h,children:[t.jsxs(K,{children:[t.jsx(W,{children:m?"Editar Criterio de Evaluación":"Agregar Criterio de Evaluación"}),t.jsx(X,{children:m?"Actualiza la información del criterio de evaluación.":"Agrega un nuevo criterio de evaluación a la actividad."})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"name",children:"Nombre del Criterio *"}),t.jsx(S,{id:"name",value:n.name,onChange:o=>c("name",o.target.value),placeholder:"Ej: Calidad del código",className:s.name?"border-red-500":""}),s.name&&t.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"description",children:"Descripción"}),t.jsx(Z,{id:"description",value:n.description,onChange:o=>c("description",o.target.value),placeholder:"Describe qué se evaluará en este criterio",rows:3,className:s.description?"border-red-500":""}),s.description&&t.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"max_points",children:"Puntuación Máxima *"}),t.jsx(S,{id:"max_points",type:"number",min:"0",step:"0.01",value:n.max_points,onChange:o=>c("max_points",parseFloat(o.target.value)||0),className:s.max_points?"border-red-500":""}),s.max_points&&t.jsx("p",{className:"text-sm text-red-600",children:s.max_points})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(j,{htmlFor:"order",children:"Orden *"}),t.jsx(S,{id:"order",type:"number",min:"0",value:n.order,onChange:o=>c("order",parseInt(o.target.value)||0),className:s.order?"border-red-500":""}),s.order&&t.jsx("p",{className:"text-sm text-red-600",children:s.order})]})]})]}),t.jsxs(Y,{children:[t.jsx(p,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:l,children:"Cancelar"}),t.jsx(p,{type:"submit",disabled:l,children:l?"Guardando...":m?"Actualizar":"Crear"})]})]})})})}function nt({program:e,studyPlans:r}){const[a,i]=P.useState({open:!1}),[u,m]=P.useState({open:!1}),[n,c]=P.useState({open:!1}),[f,v]=P.useState({open:!1}),[l,s]=P.useState({open:!1}),[x,h]=P.useState({open:!1}),o=()=>{f.studyPlan&&z.delete(Q.destroy(f.studyPlan.id).url,{preserveScroll:!0,onSuccess:()=>v({open:!1})})},pe=()=>{l.activity&&z.delete(Q.destroyActivity(l.activity.id).url,{preserveScroll:!0,onSuccess:()=>s({open:!1})})},he=()=>{x.criteria&&z.delete(Q.destroyCriteria(x.criteria.id).url,{preserveScroll:!0,onSuccess:()=>h({open:!1})})};return t.jsxs(je,{children:[t.jsx(ye,{title:`${e.name} - Plan de Estudios`}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs(ee,{href:te.index().url,className:"mb-3 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[t.jsx(ve,{className:"mr-1 h-4 w-4"}),"Volver a programas"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),e.description&&t.jsx("p",{className:"mt-2 text-gray-600",children:e.description}),t.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[e.duration_months," meses"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status==="active"?"Activo":"Inactivo"})]})]}),t.jsx(ee,{href:te.edit({program:e.id}).url,children:t.jsx(p,{variant:"outline",children:"Editar Programa"})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plan de Estudios"}),t.jsxs(p,{onClick:()=>i({open:!0}),children:[t.jsx(I,{className:"mr-2 h-4 w-4"}),"Agregar Módulo"]})]}),r.length>0?t.jsx("div",{className:"space-y-4",children:r.map((d,xe)=>t.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:t.jsx(re,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Módulo ",xe+1,": ",d.module_name]}),d.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:d.description}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[d.hours," horas"]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Nivel ",d.level]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{variant:"outline",size:"sm",onClick:()=>i({open:!0,studyPlan:d}),children:"Editar"}),t.jsx(p,{variant:"outline",size:"sm",onClick:()=>m({open:!0,studyPlanId:d.id,nextOrder:d.activities.length}),children:t.jsx(I,{className:"h-4 w-4"})}),t.jsx(p,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>v({open:!0,studyPlan:d}),children:t.jsx(O,{className:"h-4 w-4"})})]})]}),d.activities.length>0?t.jsxs("div",{className:"ml-14 space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Actividades:"}),d.activities.map(y=>t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-purple-100",children:t.jsx(Ne,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900",children:y.name}),y.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:y.description}),t.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500",children:[t.jsxs("span",{children:["Peso: ",y.weight,"%"]}),t.jsx("span",{children:"•"}),t.jsx("span",{className:`rounded-full px-2 py-0.5 ${y.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:y.status==="active"?"Activa":"Inactiva"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>m({open:!0,studyPlanId:d.id,activity:y}),children:"Editar"}),t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>c({open:!0,activityId:y.id,nextOrder:y.evaluation_criteria.length}),children:t.jsx(I,{className:"h-4 w-4"})}),t.jsx(p,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>s({open:!0,activity:y}),children:t.jsx(O,{className:"h-4 w-4"})})]})]}),y.evaluation_criteria.length>0&&t.jsxs("div",{className:"ml-11 space-y-2",children:[t.jsx("h6",{className:"text-xs font-semibold text-gray-600",children:"Criterios de Evaluación:"}),y.evaluation_criteria.map(F=>t.jsxs("div",{className:"flex items-center justify-between rounded-md border border-gray-200 bg-white p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fe,{className:"h-4 w-4 text-amber-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600",children:F.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[F.max_points," pts"]}),t.jsx(p,{variant:"ghost",size:"sm",onClick:()=>c({open:!0,activityId:y.id,criteria:F}),children:"Editar"}),t.jsx(p,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>h({open:!0,criteria:F}),children:t.jsx(O,{className:"h-4 w-4"})})]})]},F.id))]})]},y.id))]}):t.jsxs("div",{className:"ml-14 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"No hay actividades en este módulo"}),t.jsxs(p,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>m({open:!0,studyPlanId:d.id,nextOrder:0}),children:[t.jsx(I,{className:"mr-2 h-4 w-4"}),"Agregar Primera Actividad"]})]})]},d.id))}):t.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 bg-white p-12 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:t.jsx(re,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No hay módulos en este programa"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Comienza agregando el primer módulo al plan de estudios"}),t.jsxs(p,{onClick:()=>i({open:!0}),children:[t.jsx(I,{className:"mr-2 h-5 w-5"}),"Agregar Primer Módulo"]})]})]})]}),t.jsx(Ae,{open:a.open,onOpenChange:d=>i({open:d,studyPlan:void 0}),programId:e.id,studyPlan:a.studyPlan}),u.studyPlanId&&t.jsx(Ce,{open:u.open,onOpenChange:d=>m({open:d,studyPlanId:void 0,activity:void 0}),studyPlanId:u.studyPlanId,activity:u.activity,nextOrder:u.nextOrder}),n.activityId&&t.jsx(Ee,{open:n.open,onOpenChange:d=>c({open:d,activityId:void 0,criteria:void 0}),activityId:n.activityId,criteria:n.criteria,nextOrder:n.nextOrder}),t.jsx(T,{open:f.open,onOpenChange:d=>v({open:d,studyPlan:void 0}),children:t.jsxs(L,{children:[t.jsxs($,{children:[t.jsx(M,{children:"Eliminar Módulo"}),t.jsxs(H,{children:['¿Estás seguro de que deseas eliminar el módulo "',f.studyPlan?.module_name,'"? Esta acción eliminará también todas las actividades y criterios de evaluación asociados. Esta acción no se puede deshacer.']})]}),t.jsxs(U,{children:[t.jsx(B,{children:"Cancelar"}),t.jsx(G,{onClick:o,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),t.jsx(T,{open:l.open,onOpenChange:d=>s({open:d,activity:void 0}),children:t.jsxs(L,{children:[t.jsxs($,{children:[t.jsx(M,{children:"Eliminar Actividad"}),t.jsxs(H,{children:['¿Estás seguro de que deseas eliminar la actividad "',l.activity?.name,'"? Esta acción eliminará también todos los criterios de evaluación asociados. Esta acción no se puede deshacer.']})]}),t.jsxs(U,{children:[t.jsx(B,{children:"Cancelar"}),t.jsx(G,{onClick:pe,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),t.jsx(T,{open:x.open,onOpenChange:d=>h({open:d,criteria:void 0}),children:t.jsxs(L,{children:[t.jsxs($,{children:[t.jsx(M,{children:"Eliminar Criterio de Evaluación"}),t.jsxs(H,{children:['¿Estás seguro de que deseas eliminar el criterio "',x.criteria?.name,'"? Esta acción no se puede deshacer.']})]}),t.jsxs(U,{children:[t.jsx(B,{children:"Cancelar"}),t.jsx(G,{onClick:he,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}export{nt as default};
