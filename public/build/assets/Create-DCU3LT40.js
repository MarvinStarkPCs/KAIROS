import{r as _,b as _e,u as Ne,j as e,H as ye}from"./app-C_wc9es_.js";import{B as G}from"./button-CK7_c_5e.js";import{I as h}from"./input-C7PQsbVn.js";import{L as t}from"./label-nyAx6Y8t.js";import{T as U}from"./textarea-CrDkFOvc.js";import{R as P,a as f}from"./radio-group-CTSoF8ag.js";import{C as ne}from"./checkbox-DXPVwUlE.js";import{C as z,a as I,b as R,c as B,d as q}from"./card-qYJq1A3u.js";import{S as M,a as D,b as T,c as O,d as m}from"./select-DT6IKorb.js";import{I as x}from"./input-error-DFCknaJe.js";import{c as g}from"./utils-BTwnVSy2.js";import{T as we}from"./toaster-eRoXJvOx.js";import{T as $,D as Ce,G as te}from"./matricula-8YZRtE08.js";import{i as ke}from"./matricula-validation-LO9h0nWd.js";import{D as Se}from"./DocumentTypeSelect-BTb0LnfC.js";import{C as Z}from"./circle-alert-C6cd94CF.js";import{C as J}from"./check-BINbHuVB.js";import{U as K}from"./user-htRCs3_T.js";import{M as ee}from"./map-pin-CEOcfVPH.js";import{M as Q}from"./music-2-BSMdi-1j.js";import{F as se}from"./file-text-BcV-VVC0.js";import{C as Ee}from"./chevron-left-DfLxHlcT.js";import{C as Fe}from"./chevron-right-FEguOG6w.js";import{C as ae}from"./circle-check-big-e5VBrFsL.js";import{C as Pe}from"./credit-card-Cyqos1IL.js";import{B as Me}from"./banknote-DUWBtdF-.js";import{P as De}from"./plus-CQpr_2NB.js";import{T as Te}from"./trash-2-wqlGlzgk.js";/* empty css            */import"./index-CNhhqjg2.js";import"./index-BPZo39PE.js";import"./index-DJBO6EKN.js";import"./index-myZmSymV.js";import"./index-BXFwRZdy.js";import"./index-Be2p5AN3.js";import"./createLucideIcon-Cl_h1Hpc.js";import"./index-BLRCw3fc.js";import"./chevron-down-D4MJa3Wh.js";function Oe(b=[]){const[v,C]=_.useState(b),[k,S]=_.useState(0),H=v[k],L=_.useCallback(()=>({name:"",last_name:"",email:"",document_type:"TI",document_number:"",birth_place:"",birth_date:"",gender:"M",datos_musicales:{plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",modality:""},program_id:"",schedule_id:""}),[]),V=_.useCallback(()=>{const u=[...v,L()];return C(u),S(u.length-1),u},[v,L]),w=_.useCallback(u=>{const y=v.filter((E,l)=>l!==u);return C(y),k>=y.length&&S(Math.max(0,y.length-1)),y},[v,k]),N=_.useCallback((u,y,E)=>{const l=[...v];return l[u]={...l[u],[y]:E},C(l),l},[v]),d=_.useCallback((u,y,E)=>{const l=[...v];return l[u]={...l[u],datos_musicales:{...l[u].datos_musicales,[y]:E}},C(l),l},[v]),A=_.useCallback(u=>{C(u)},[]);return{students:v,currentIndex:k,currentStudent:H,setCurrentIndex:S,createNewStudent:L,addStudent:V,removeStudent:w,updateStudentField:N,updateMusicalData:d,setStudentsData:A}}function vs({programs:b,paymentMethods:v,modalityPrices:C,discountInfo:k}){const S=v?.online??!0,H=v?.manual??!0,L=k?.min_students??3,V=k?.percentage??0,w=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),N=r=>!C||!r||r===""?null:C[r]??null,[d,A]=_.useState(1),{props:u}=_e();_.useEffect(()=>{console.log("ðŸ“¬ Props flash:",u.flash),u.flash?.error&&console.log("ðŸ”´ ERROR FLASH RECIBIDO:",u.flash.error),u.flash?.success&&console.log("âœ… SUCCESS FLASH RECIBIDO:",u.flash.success)},[u.flash]);const y=Oe(),{students:E,currentIndex:l,setCurrentIndex:re,createNewStudent:le,addStudent:oe,removeStudent:ie,updateStudentField:de,updateMusicalData:ce,setStudentsData:me}=y,{data:a,setData:c,post:xe,processing:W,errors:n}=Ne({responsable:{name:"",last_name:"",email:"",document_type:"CC",document_number:"",birth_place:"",birth_date:"",gender:"M",address:"",neighborhood:"",phone:"",mobile:"",city:"",department:"",plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",modality:"Linaje Big",program_id:"",schedule_id:""},is_minor:!1,estudiantes:E,parental_authorization:!1,payment_commitment:!1,payment_method:S?"online":"manual"});_.useEffect(()=>{console.log("ðŸ” Errors actualizados:",n),console.log("ðŸ” Cantidad de errores:",Object.keys(n).length),Object.keys(n).length>0&&console.log("ðŸ” Primer error:",Object.entries(n)[0])},[n]);const ue=()=>{const r=oe();c("estudiantes",r)},he=r=>{const s=ie(r);c("estudiantes",s)},p=(r,s,o)=>{let i;if(s.startsWith("datos_musicales.")){const j=s.replace("datos_musicales.","");i=ce(r,j,o)}else i=de(r,s,o);c("estudiantes",i)},F=r=>ke(r,a),pe=()=>{d<$&&(window.scrollTo({top:0,behavior:"smooth"}),A(d+1))},ge=()=>{d>1&&(window.scrollTo({top:0,behavior:"smooth"}),A(d-1))},be=r=>{r>=1&&r<=$&&(window.scrollTo({top:0,behavior:"smooth"}),A(r))},je=r=>{r.preventDefault(),console.log("Enviando formulario con datos:",a),xe("/matricula",{preserveScroll:!0,preserveState:!0,transform:s=>{const o={responsable:s.responsable,is_minor:s.is_minor,payment_commitment:s.payment_commitment,payment_method:s.payment_method};return console.log("ðŸ” Valor de is_minor antes del transform:",s.is_minor,typeof s.is_minor),s.is_minor?(o.estudiantes=s.estudiantes,o.parental_authorization=s.parental_authorization,console.log("âœ… Incluyendo estudiantes:",o.estudiantes.length)):console.log("âŒ NO incluyendo estudiantes (adulto)"),console.log("ðŸ“¦ Datos finales a enviar:",o),console.log("ðŸ“¦ Â¿Tiene campo estudiantes?","estudiantes"in o),o},onError:s=>{console.log("âŒ onError callback ejecutado"),console.log("âŒ Errores recibidos:",s),console.log("âŒ Cantidad de errores:",Object.keys(s).length),console.log("âŒ Lista de campos con error:",Object.keys(s)),Object.entries(s).forEach(([o,i])=>{console.log(`  - ${o}: ${i}`)}),window.scrollTo({top:0,behavior:"smooth"}),A(1)},onSuccess:()=>{console.log("MatrÃ­cula completada exitosamente")}})},ve=()=>{switch(d){case 1:return e.jsxs(z,{className:"border-2 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs(R,{className:"bg-gradient-to-r from-amber-50 dark:from-amber-950/30 to-orange-50 dark:to-orange-950/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:e.jsx(K,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),e.jsx(B,{className:"text-xl sm:text-2xl",children:"Datos del Responsable"})]}),e.jsx(q,{className:"text-sm sm:text-base",children:"Ingrese los datos de la persona responsable de la matrÃ­cula"})]}),e.jsxs(I,{className:"space-y-4 sm:space-y-5 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_name",children:"Nombre *"}),e.jsx(h,{id:"responsable_name",value:a.responsable.name,onChange:s=>c("responsable",{...a.responsable,name:s.target.value}),placeholder:"Nombre","aria-invalid":!!n["responsable.name"]}),e.jsx(x,{message:n["responsable.name"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_last_name",children:"Apellidos *"}),e.jsx(h,{id:"responsable_last_name",value:a.responsable.last_name,onChange:s=>c("responsable",{...a.responsable,last_name:s.target.value}),placeholder:"Apellidos","aria-invalid":!!n["responsable.last_name"]}),e.jsx(x,{message:n["responsable.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Se,{value:a.responsable.document_type,onChange:s=>c("responsable",{...a.responsable,document_type:s}),error:n["responsable.document_type"]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{htmlFor:"responsable_document_number",children:"NÃºmero de Documento *"}),e.jsx(h,{id:"responsable_document_number",value:a.responsable.document_number,onChange:s=>c("responsable",{...a.responsable,document_number:s.target.value}),placeholder:"NÃºmero de documento","aria-invalid":!!n["responsable.document_number"]}),e.jsx(x,{message:n["responsable.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_birth_place",children:"Lugar de Nacimiento"}),e.jsx(h,{id:"responsable_birth_place",value:a.responsable.birth_place,onChange:s=>c("responsable",{...a.responsable,birth_place:s.target.value}),placeholder:"Ciudad de nacimiento","aria-invalid":!!n["responsable.birth_place"]}),e.jsx(x,{message:n["responsable.birth_place"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(h,{id:"responsable_birth_date",type:"date",value:a.responsable.birth_date,onChange:s=>c("responsable",{...a.responsable,birth_date:s.target.value}),max:new Date().toISOString().split("T")[0],"aria-invalid":!!n["responsable.birth_date"]}),e.jsx(x,{message:n["responsable.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"GÃ©nero *"}),e.jsx(P,{value:a.responsable.gender,onValueChange:s=>c("responsable",{...a.responsable,gender:s}),className:"flex gap-4 mt-2",children:Object.entries(te).map(([s,o])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:s,id:`gender_${s}`}),e.jsx(t,{htmlFor:`gender_${s}`,children:o})]},s))}),e.jsx(x,{message:n["responsable.gender"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_email",children:"Correo ElectrÃ³nico *"}),e.jsx(h,{id:"responsable_email",type:"email",value:a.responsable.email,onChange:s=>c("responsable",{...a.responsable,email:s.target.value}),placeholder:"correo@ejemplo.com","aria-invalid":!!n["responsable.email"]}),e.jsx(x,{message:n["responsable.email"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_phone",children:"TelÃ©fono Fijo"}),e.jsx(h,{id:"responsable_phone",value:a.responsable.phone,onChange:s=>c("responsable",{...a.responsable,phone:s.target.value}),placeholder:"607 123 4567","aria-invalid":!!n["responsable.phone"]}),e.jsx(x,{message:n["responsable.phone"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_mobile",children:"Celular *"}),e.jsx(h,{id:"responsable_mobile",value:a.responsable.mobile,onChange:s=>c("responsable",{...a.responsable,mobile:s.target.value}),placeholder:"300 123 4567","aria-invalid":!!n["responsable.mobile"]}),e.jsx(x,{message:n["responsable.mobile"]})]})]})]})]});case 2:return e.jsxs(z,{className:"border-2 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs(R,{className:"bg-gradient-to-r from-amber-50 dark:from-amber-950/30 to-orange-50 dark:to-orange-950/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:e.jsx(ee,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),e.jsx(B,{className:"text-xl sm:text-2xl",children:"Datos de LocalizaciÃ³n"})]}),e.jsx(q,{className:"text-sm sm:text-base",children:"Ingrese la direcciÃ³n de residencia del responsable"})]}),e.jsxs(I,{className:"space-y-4 sm:space-y-5 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_address",children:"DirecciÃ³n *"}),e.jsx(h,{id:"responsable_address",value:a.responsable.address,onChange:s=>c("responsable",{...a.responsable,address:s.target.value}),placeholder:"Calle 123 #45-67","aria-invalid":!!n["responsable.address"]}),e.jsx(x,{message:n["responsable.address"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_neighborhood",children:"Barrio"}),e.jsx(h,{id:"responsable_neighborhood",value:a.responsable.neighborhood,onChange:s=>c("responsable",{...a.responsable,neighborhood:s.target.value}),placeholder:"Nombre del barrio","aria-invalid":!!n["responsable.neighborhood"]}),e.jsx(x,{message:n["responsable.neighborhood"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_city",children:"Ciudad *"}),e.jsx(h,{id:"responsable_city",value:a.responsable.city,onChange:s=>c("responsable",{...a.responsable,city:s.target.value}),placeholder:"Ej: OcaÃ±a, CÃºcuta, BogotÃ¡","aria-invalid":!!n["responsable.city"]}),e.jsx(x,{message:n["responsable.city"]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"responsable_department",children:"Departamento *"}),e.jsxs(M,{value:a.responsable.department,onValueChange:s=>c("responsable",{...a.responsable,department:s}),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione departamento"})}),e.jsxs(O,{children:[e.jsx(m,{value:"Norte de Santander",children:"Norte de Santander"}),e.jsx(m,{value:"Santander",children:"Santander"}),e.jsx(m,{value:"Cundinamarca",children:"Cundinamarca"}),e.jsx(m,{value:"Antioquia",children:"Antioquia"}),e.jsx(m,{value:"Valle del Cauca",children:"Valle del Cauca"}),e.jsx(m,{value:"AtlÃ¡ntico",children:"AtlÃ¡ntico"}),e.jsx(m,{value:"BolÃ­var",children:"BolÃ­var"}),e.jsx(m,{value:"BoyacÃ¡",children:"BoyacÃ¡"}),e.jsx(m,{value:"Caldas",children:"Caldas"}),e.jsx(m,{value:"Cesar",children:"Cesar"}),e.jsx(m,{value:"CÃ³rdoba",children:"CÃ³rdoba"}),e.jsx(m,{value:"Huila",children:"Huila"}),e.jsx(m,{value:"Magdalena",children:"Magdalena"}),e.jsx(m,{value:"Meta",children:"Meta"}),e.jsx(m,{value:"NariÃ±o",children:"NariÃ±o"}),e.jsx(m,{value:"QuindÃ­o",children:"QuindÃ­o"}),e.jsx(m,{value:"Risaralda",children:"Risaralda"}),e.jsx(m,{value:"Tolima",children:"Tolima"}),e.jsx(m,{value:"Otro",children:"Otro"})]})]}),e.jsx(x,{message:n["responsable.department"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(t,{className:"text-lg font-semibold",children:"Â¿La matrÃ­cula es para un menor de edad?"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 mb-4",children:"Si la matrÃ­cula es para uno o mÃ¡s menores de edad, deberÃ¡ ingresar los datos de cada estudiante en el siguiente paso."}),e.jsxs(P,{value:a.is_minor?"yes":"no",onValueChange:s=>{const o=s==="yes";if(o&&E.length===0){const i=le();me([i]),c({...a,is_minor:!0,estudiantes:[i],responsable:{...a.responsable,modality:""}}),re(0)}else c(o?{...a,is_minor:!0,responsable:{...a.responsable,modality:""}}:{...a,is_minor:!1,responsable:{...a.responsable,modality:"Linaje Big"}})},className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"no",id:"is_minor_no"}),e.jsx(t,{htmlFor:"is_minor_no",children:"No, soy yo quien estudiarÃ¡"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"yes",id:"is_minor_yes"}),e.jsx(t,{htmlFor:"is_minor_yes",children:"SÃ­, es para uno o mÃ¡s menores"})]})]}),e.jsx(x,{message:n.is_minor})]})]})]});case 3:if(!a.is_minor)return e.jsxs(z,{className:"border-2 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs(R,{className:"bg-gradient-to-r from-amber-50 dark:from-amber-950/30 to-orange-50 dark:to-orange-950/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:e.jsx(Q,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),e.jsx(B,{className:"text-xl sm:text-2xl",children:"Datos Musicales y Programa"})]}),e.jsx(q,{className:"text-sm sm:text-base",children:"Completa tu informaciÃ³n musical y selecciona el programa al que deseas inscribirte"})]}),e.jsxs(I,{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Experiencia Musical"}),e.jsxs("div",{children:[e.jsx(t,{children:"Â¿Ejecutas algÃºn instrumento?"}),e.jsxs(P,{value:a.responsable.plays_instrument?"yes":"no",onValueChange:s=>c("responsable",{...a.responsable,plays_instrument:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"yes",id:"adult_plays_yes"}),e.jsx(t,{htmlFor:"adult_plays_yes",children:"SÃ­"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"no",id:"adult_plays_no"}),e.jsx(t,{htmlFor:"adult_plays_no",children:"No"})]})]})]}),a.responsable.plays_instrument&&e.jsxs("div",{children:[e.jsx(t,{children:"Indique cuÃ¡l o cuÃ¡les instrumentos"}),e.jsx(U,{value:a.responsable.instruments_played||"",onChange:s=>c("responsable",{...a.responsable,instruments_played:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto",rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Â¿Tienes estudios formales de mÃºsica?"}),e.jsxs(P,{value:a.responsable.has_music_studies?"yes":"no",onValueChange:s=>c("responsable",{...a.responsable,has_music_studies:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"yes",id:"adult_studies_yes"}),e.jsx(t,{htmlFor:"adult_studies_yes",children:"SÃ­"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"no",id:"adult_studies_no"}),e.jsx(t,{htmlFor:"adult_studies_no",children:"No"})]})]})]}),a.responsable.has_music_studies&&e.jsxs("div",{children:[e.jsx(t,{children:"Nombre(s) de escuela(s)"}),e.jsx(U,{value:a.responsable.music_schools||"",onChange:s=>c("responsable",{...a.responsable,music_schools:s.target.value}),placeholder:"Ej: Conservatorio Nacional",rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Modalidad"}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-md",children:[e.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Linaje Big (18+ aÃ±os)"}),N("Linaje Big")&&e.jsxs("p",{className:"text-sm text-primary font-medium mt-1",children:["Valor de matrÃ­cula: ",w(N("Linaje Big"))]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Programa AcadÃ©mico"}),e.jsxs("div",{children:[e.jsx(t,{children:"Programa AcadÃ©mico *"}),e.jsxs(M,{value:a.responsable.program_id,onValueChange:s=>c("responsable",{...a.responsable,program_id:s}),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione un programa"})}),e.jsx(O,{children:b.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(x,{message:n["responsable.program_id"]})]}),a.responsable.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:b.find(s=>s.id.toString()===a.responsable.program_id)?.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:b.find(s=>s.id.toString()===a.responsable.program_id)?.description})]}),(()=>{const o=b.find(i=>i.id.toString()===a.responsable.program_id)?.schedules?.filter(i=>i.has_capacity)||[];return o.length>0&&e.jsxs("div",{children:[e.jsx(t,{children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Selecciona un horario si deseas inscribirte en una clase especÃ­fica"}),e.jsxs(M,{value:a.responsable.schedule_id||void 0,onValueChange:i=>c("responsable",{...a.responsable,schedule_id:i||""}),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(O,{children:o.map(i=>e.jsxs(m,{value:i.id.toString(),children:[i.days_of_week," | ",i.start_time," - ",i.end_time," | Prof. ",i.professor?.name??"Sin asignar"," | Cupos: ",i.available_slots]},i.id))})]})]})})()]})]})]})]});const r=a.estudiantes[l];return e.jsxs(z,{className:"border-2 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs(R,{className:"bg-gradient-to-r from-amber-50 dark:from-amber-950/30 to-orange-50 dark:to-orange-950/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:e.jsx(Q,{className:"h-5 w-5 text-amber-700 dark:text-amber-300"})}),e.jsx(B,{className:"text-xl sm:text-2xl",children:"Datos de los Estudiantes"})]}),e.jsx(q,{className:"text-sm sm:text-base",children:"Ingrese los datos de cada estudiante menor de edad"})]}),e.jsxs(I,{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:a.estudiantes.length===1?"1 Estudiante":`${a.estudiantes.length} Estudiantes`}),e.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:ue,className:"flex items-center gap-2 text-green-600 border-green-600 hover:bg-green-50 dark:hover:bg-green-950/30",children:[e.jsx(De,{className:"h-4 w-4"}),"Agregar Hijo/a"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.estudiantes.map((s,o)=>{const i=s.name&&s.last_name&&s.document_number&&s.program_id,j=l===o;return e.jsxs("div",{className:g("relative flex items-center gap-2 rounded-lg border-2 transition-all",j?"border-amber-500 bg-amber-50 dark:bg-amber-950/30 shadow-md":"border-border bg-card hover:border-input"),children:[e.jsxs("button",{type:"button",onClick:()=>re(o),className:"flex items-center gap-2 px-4 py-2 flex-1",children:[e.jsx("div",{className:g("w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold",j?"bg-amber-600 text-white":i?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-muted text-muted-foreground"),children:i&&!j?e.jsx(J,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:g("text-sm font-medium",j?"text-amber-900 dark:text-amber-100":"text-muted-foreground"),children:s.name||`Estudiante ${o+1}`}),s.program_id&&e.jsx("p",{className:"text-xs text-muted-foreground",children:b.find(Y=>Y.id.toString()===s.program_id)?.name})]})]}),a.estudiantes.length>1&&e.jsx("button",{type:"button",onClick:()=>he(o),className:"h-full px-3 border-l-2 border-border text-red-600 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors",title:"Eliminar estudiante",children:e.jsx(Te,{className:"h-4 w-4"})})]},o)})})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Datos Personales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Nombre *"}),e.jsx(h,{value:r.name,onChange:s=>p(l,"name",s.target.value),placeholder:"Nombre"}),e.jsx(x,{message:n[`estudiantes.${l}.name`]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Apellidos *"}),e.jsx(h,{value:r.last_name,onChange:s=>p(l,"last_name",s.target.value),placeholder:"Apellidos"}),e.jsx(x,{message:n[`estudiantes.${l}.last_name`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Tipo de Documento *"}),e.jsxs(M,{value:r.document_type,onValueChange:s=>p(l,"document_type",s),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione"})}),e.jsx(O,{children:Object.entries(Ce).map(([s,o])=>e.jsx(m,{value:s,children:o},s))})]}),e.jsx(x,{message:n[`estudiantes.${l}.document_type`]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{children:"NÃºmero de Documento *"}),e.jsx(h,{value:r.document_number,onChange:s=>p(l,"document_number",s.target.value),placeholder:"NÃºmero de documento"}),e.jsx(x,{message:n[`estudiantes.${l}.document_number`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Lugar de Nacimiento"}),e.jsx(h,{value:r.birth_place,onChange:s=>p(l,"birth_place",s.target.value),placeholder:"Ciudad de nacimiento"}),e.jsx(x,{message:n[`estudiantes.${l}.birth_place`]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Fecha de Nacimiento *"}),e.jsx(h,{type:"date",value:r.birth_date,onChange:s=>p(l,"birth_date",s.target.value),max:new Date().toISOString().split("T")[0]}),e.jsx(x,{message:n[`estudiantes.${l}.birth_date`]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"GÃ©nero *"}),e.jsx(P,{value:r.gender,onValueChange:s=>p(l,"gender",s),className:"flex gap-4 mt-2",children:Object.entries(te).map(([s,o])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:s,id:`gender_${s}_${l}`}),e.jsx(t,{htmlFor:`gender_${s}_${l}`,children:o})]},s))})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Correo ElectrÃ³nico del Estudiante (Opcional)"}),e.jsx(h,{type:"email",value:r.email,onChange:s=>p(l,"email",s.target.value),placeholder:"correo@ejemplo.com"}),e.jsx(x,{message:n[`estudiantes.${l}.email`]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Si el estudiante tiene correo, podrÃ¡ acceder para ver su avance"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Datos Musicales"}),e.jsxs("div",{children:[e.jsx(t,{children:"Â¿Ejecuta algÃºn instrumento?"}),e.jsxs(P,{value:r.datos_musicales.plays_instrument?"yes":"no",onValueChange:s=>p(l,"datos_musicales.plays_instrument",s==="yes"),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"yes",id:`plays_yes_${l}`}),e.jsx(t,{htmlFor:`plays_yes_${l}`,children:"SÃ­"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"no",id:`plays_no_${l}`}),e.jsx(t,{htmlFor:`plays_no_${l}`,children:"No"})]})]})]}),r.datos_musicales.plays_instrument&&e.jsxs("div",{children:[e.jsx(t,{children:"Indique cuÃ¡l o cuÃ¡les instrumentos"}),e.jsx(U,{value:r.datos_musicales.instruments_played,onChange:s=>p(l,"datos_musicales.instruments_played",s.target.value),placeholder:"Ej: Piano, Guitarra, Canto",rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Â¿Tiene estudios formales de mÃºsica?"}),e.jsxs(P,{value:r.datos_musicales.has_music_studies?"yes":"no",onValueChange:s=>p(l,"datos_musicales.has_music_studies",s==="yes"),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"yes",id:`studies_yes_${l}`}),e.jsx(t,{htmlFor:`studies_yes_${l}`,children:"SÃ­"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:"no",id:`studies_no_${l}`}),e.jsx(t,{htmlFor:`studies_no_${l}`,children:"No"})]})]})]}),r.datos_musicales.has_music_studies&&e.jsxs("div",{children:[e.jsx(t,{children:"Nombre(s) de escuela(s)"}),e.jsx(U,{value:r.datos_musicales.music_schools,onChange:s=>p(l,"datos_musicales.music_schools",s.target.value),placeholder:"Ej: Conservatorio Nacional",rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Modalidad segÃºn edad *"}),e.jsxs(M,{value:r.datos_musicales.modality,onValueChange:s=>p(l,"datos_musicales.modality",s),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione una modalidad"})}),e.jsxs(O,{children:[e.jsx(m,{value:"Linaje Kids",children:"Linaje Kids (4-9 aÃ±os)"}),e.jsx(m,{value:"Linaje Teens",children:"Linaje Teens (10-17 aÃ±os)"})]})]}),r.datos_musicales.modality&&N(r.datos_musicales.modality)&&e.jsxs("p",{className:"text-sm text-primary font-medium mt-1",children:["Valor de matrÃ­cula: ",w(N(r.datos_musicales.modality))]}),e.jsx(x,{message:n[`estudiantes.${l}.datos_musicales.modality`]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Programa AcadÃ©mico"}),e.jsxs("div",{children:[e.jsx(t,{children:"Programa AcadÃ©mico *"}),e.jsxs(M,{value:r.program_id,onValueChange:s=>p(l,"program_id",s),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione un programa"})}),e.jsx(O,{children:b.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(x,{message:n[`estudiantes.${l}.program_id`]})]}),r.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:b.find(s=>s.id.toString()===r.program_id)?.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:b.find(s=>s.id.toString()===r.program_id)?.description})]}),(()=>{const o=b.find(i=>i.id.toString()===r.program_id)?.schedules?.filter(i=>i.has_capacity)||[];return o.length>0&&e.jsxs("div",{children:[e.jsx(t,{children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Selecciona un horario si deseas inscribirte en una clase especÃ­fica"}),e.jsxs(M,{value:r.schedule_id||void 0,onValueChange:i=>p(l,"schedule_id",i||""),children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(O,{children:o.map(i=>e.jsxs(m,{value:i.id.toString(),children:[i.days_of_week," | ",i.start_time," -"," ",i.end_time," | Prof. ",i.professor?.name??"Sin asignar"," | Cupos:"," ",i.available_slots]},i.id))})]})]})})()]})]})]})]})]});case 4:return e.jsxs(z,{className:"border-2 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs(R,{className:"bg-gradient-to-r from-green-50 dark:from-green-950/30 to-emerald-50 dark:to-emerald-950/30 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(se,{className:"h-5 w-5 text-green-700 dark:text-green-300"})}),e.jsx(B,{className:"text-xl sm:text-2xl",children:"Autorizaciones y Compromiso"})]}),e.jsx(q,{className:"text-sm sm:text-base",children:"Lea y acepte los tÃ©rminos antes de completar la matrÃ­cula"})]}),e.jsxs(I,{className:"space-y-6 pt-6",children:[a.is_minor&&e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"AutorizaciÃ³n para Menores de Edad"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Por medio de la presente doy la autorizaciÃ³n a ",a.estudiantes.length>1?"mis hijos":"mi hijo(a)"," ","para que ",a.estudiantes.length>1?"estudien y desarrollen":"estudie y desarrolle"," en la Academia de formaciÃ³n Musical y Espiritual LINAJE. Estoy de acuerdo en la completa aplicaciÃ³n del reglamento de la academia."]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Estudiantes a matricular:"}),a.estudiantes.map((s,o)=>e.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[e.jsx("p",{children:e.jsxs("strong",{children:[s.name," ",s.last_name]})}),e.jsxs("p",{className:"text-muted-foreground",children:["Programa: ",b.find(i=>i.id.toString()===s.program_id)?.name||"No seleccionado"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Modalidad: ",s.datos_musicales.modality]}),s.datos_musicales.modality&&N(s.datos_musicales.modality)&&e.jsxs("p",{className:"text-primary font-medium",children:["Valor: ",w(N(s.datos_musicales.modality))]})]},o))]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(ne,{id:"parental_authorization",checked:a.parental_authorization,onCheckedChange:s=>c("parental_authorization",s)}),e.jsx(t,{htmlFor:"parental_authorization",className:"text-sm font-medium",children:"Acepto y autorizo como responsable legal"})]}),n.parental_authorization&&e.jsx("p",{className:"text-sm text-red-600",children:n.parental_authorization})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Compromiso de Pago"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["La Academia de formaciÃ³n Musical y Espiritual LINAJE, desea tener constancia del compromiso de pago que hace usted como ",a.is_minor?"padre, madre o encargado de los estudiantes menores de edad":"estudiante inscrito",". Este compromiso se extiende desde que el estudiante es aceptado hasta que el mismo termina el programa escogido o decide no continuar con sus estudios en la Academia."]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mediante este documento usted deja constado todo lo que involucra en los Pagos de MatrÃ­culas. EntiÃ©ndase que en caso de que una de las partes no cumpla con dicho acuerdo, es usted quien tiene la responsabilidad final de los pagos con la Academia."}),a.is_minor&&a.estudiantes.length>0&&(()=>{const s=V>0&&a.estudiantes.length>=L;return e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Resumen de matrÃ­culas:"}),a.estudiantes.map((o,i)=>{const j=N(o.datos_musicales.modality),Y=s&&j?Math.round(j*(V/100)):0,X=j?j-Y:null;return e.jsx("div",{className:"text-sm p-2 bg-muted rounded",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[o.name," ",o.last_name]})," - ",o.datos_musicales.modality," -"," ",b.find(fe=>fe.id.toString()===o.program_id)?.name]}),X!==null&&e.jsx("div",{className:"text-right",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"line-through text-muted-foreground text-xs mr-1",children:w(j)}),e.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:w(X)})]}):e.jsx("span",{className:"font-semibold",children:w(X)})})]})},i)}),s&&e.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded text-sm text-green-800 dark:text-green-200 flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[V,"% de descuento"]})," aplicado por matricular ",a.estudiantes.length," estudiantes"]})]})]})})(),!a.is_minor&&(()=>{const s=N(a.responsable.modality);return s!==null?e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Resumen de matrÃ­cula:"}),e.jsxs("div",{className:"text-sm p-2 bg-muted rounded flex items-center justify-between",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[a.responsable.name," ",a.responsable.last_name]})," - ",a.responsable.modality," -"," ",b.find(o=>o.id.toString()===a.responsable.program_id)?.name]}),e.jsx("span",{className:"font-semibold",children:w(s)})]})]}):null})(),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(ne,{id:"payment_commitment",checked:a.payment_commitment,onCheckedChange:s=>c("payment_commitment",s)}),e.jsxs(t,{htmlFor:"payment_commitment",className:"text-sm font-medium",children:["Acepto el compromiso de pago para ",a.is_minor?"todos los estudiantes":"la matrÃ­cula"]})]}),n.payment_commitment&&e.jsx("p",{className:"text-sm text-red-600",children:n.payment_commitment})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"MÃ©todo de Pago"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona cÃ³mo deseas realizar el pago de la matrÃ­cula:"}),e.jsxs("div",{className:g("grid gap-4",S&&H?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"),children:[S&&e.jsxs("div",{onClick:()=>c("payment_method","online"),className:g("p-4 border-2 rounded-lg cursor-pointer transition-all duration-200",a.payment_method==="online"?"border-amber-500 bg-amber-50 dark:bg-amber-950/30 shadow-md":"border-border hover:border-amber-300 dark:hover:border-amber-700 hover:bg-amber-50/50"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:g("p-2 rounded-full",a.payment_method==="online"?"bg-amber-500 text-white":"bg-muted text-muted-foreground"),children:e.jsx(Pe,{className:"h-5 w-5"})}),e.jsx("span",{className:"font-semibold",children:"Pago en LÃ­nea"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Paga de forma segura con tarjeta de crÃ©dito, dÃ©bito o PSE a travÃ©s de nuestra pasarela de pagos."})]}),H&&e.jsxs("div",{onClick:()=>c("payment_method","manual"),className:g("p-4 border-2 rounded-lg cursor-pointer transition-all duration-200",a.payment_method==="manual"?"border-green-500 bg-green-50 dark:bg-green-950/30 shadow-md":"border-border hover:border-green-300 dark:hover:border-green-700 hover:bg-green-50/50"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:g("p-2 rounded-full",a.payment_method==="manual"?"bg-green-500 text-white":"bg-muted text-muted-foreground"),children:e.jsx(Me,{className:"h-5 w-5"})}),e.jsx("span",{className:"font-semibold",children:"Pago Manual"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Realiza el pago en efectivo o por transferencia bancaria. Un asesor se comunicarÃ¡ contigo."})]})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg text-center",children:[e.jsx(ae,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Â¡Todo listo!"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:a.payment_method==="online"?'Haz clic en "Completar MatrÃ­cula" para proceder al pago en lÃ­nea':'Haz clic en "Completar MatrÃ­cula" para registrar tu inscripciÃ³n'})]})]})]});default:return null}};return console.log("ðŸŽ¨ Renderizando con errores:",Object.keys(n).length,n),e.jsxs(e.Fragment,{children:[e.jsx(ye,{title:"MatrÃ­cula"}),e.jsx(we,{}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 dark:from-neutral-950 dark:via-neutral-900 dark:to-neutral-950 py-8 sm:py-12 px-3 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[Object.keys(n).length>0&&e.jsx(z,{className:"mb-6 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/30",children:e.jsx(I,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(Z,{className:"h-5 w-5 text-red-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-red-900 dark:text-red-100 mb-1",children:"Por favor revisa la informaciÃ³n del formulario"}),e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:["Se encontraron ",Object.keys(n).length," ",Object.keys(n).length===1?"error":"errores"," que deben ser corregidos:"]}),e.jsx("div",{className:"bg-card rounded-lg p-3 border border-red-200 dark:border-red-800",children:e.jsxs("ul",{className:"space-y-1.5",children:[Object.entries(n).slice(0,8).map(([r,s])=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500 mt-0.5",children:"â€¢"}),e.jsx("span",{children:s})]},r)),Object.keys(n).length>8&&e.jsxs("li",{className:"text-sm text-red-600 font-medium mt-2 pl-4",children:["... y ",Object.keys(n).length-8," ",Object.keys(n).length-8===1?"error mÃ¡s":"errores mÃ¡s"]})]})}),e.jsxs("p",{className:"text-xs text-red-600 mt-3 flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),"Los campos con errores estÃ¡n marcados en rojo debajo"]})]})]})})}),e.jsxs("div",{className:"mb-6 sm:mb-10 animate-fade-in",children:[e.jsx("div",{className:"mb-6 bg-card rounded-full p-1 shadow-inner",children:e.jsx("div",{className:"h-2 sm:h-2.5 bg-gradient-to-r from-amber-500 via-orange-500 to-amber-600 rounded-full transition-all duration-500 ease-out relative overflow-hidden",style:{width:`${d/$*100}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})}),e.jsx("div",{className:"hidden sm:flex justify-between mb-6",children:[{num:1,label:"Responsable",icon:K},{num:2,label:"UbicaciÃ³n",icon:ee},{num:3,label:"Estudiantes",icon:Q},{num:4,label:"Finalizar",icon:se}].map((r,s)=>{r.num<d;const o=r.num===d,i=r.num<d,j=r.icon;return e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"relative flex flex-col items-center flex-1",children:[e.jsx("button",{type:"button",onClick:()=>be(r.num),disabled:r.num>d,className:g("w-12 h-12 lg:w-14 lg:h-14 rounded-full flex items-center justify-center font-semibold transition-all duration-300 relative z-10 group",o&&"ring-4 ring-amber-300 scale-110 shadow-lg",i&&"bg-gradient-to-br from-green-500 to-green-600 text-white hover:scale-105 hover:shadow-xl",o&&"bg-gradient-to-br from-amber-500 to-orange-500 text-white shadow-lg",!o&&!i&&"bg-muted text-muted-foreground",r.num<=d&&"cursor-pointer hover:scale-105",r.num>d&&"cursor-not-allowed opacity-50"),children:i?e.jsx(J,{className:"h-5 w-5 lg:h-6 lg:w-6 animate-scale-in"}):e.jsx(j,{className:g("h-5 w-5 lg:h-6 lg:w-6 transition-transform",o&&"animate-bounce-once")})}),e.jsx("span",{className:g("text-xs lg:text-sm mt-2 text-center font-medium transition-all duration-300 px-2",o&&"text-amber-700 dark:text-amber-300 font-bold scale-110",i&&"text-green-700 dark:text-green-300 font-semibold",!o&&!i&&"text-muted-foreground"),children:r.label})]}),s<3&&e.jsxs("div",{className:"relative flex-1 mx-2 lg:mx-3 h-1",children:[e.jsx("div",{className:"absolute inset-0 bg-muted rounded"}),e.jsx("div",{className:g("absolute inset-y-0 left-0 rounded transition-all duration-500 ease-out",r.num<d?"bg-gradient-to-r from-green-500 to-green-600 w-full step-line-fill":"w-0")})]})]},r.num)})}),e.jsxs("div",{className:"sm:hidden flex items-center justify-between bg-card rounded-lg p-4 shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:g("w-12 h-12 rounded-full flex items-center justify-center bg-gradient-to-br from-amber-500 to-orange-500 text-white shadow-lg"),children:[d===1&&e.jsx(K,{className:"h-6 w-6"}),d===2&&e.jsx(ee,{className:"h-6 w-6"}),d===3&&e.jsx(Q,{className:"h-6 w-6"}),d===4&&e.jsx(se,{className:"h-6 w-6"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-foreground",children:["Paso ",d," de ",$]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[d===1&&"Datos del Responsable",d===2&&"UbicaciÃ³n y Tipo",d===3&&"Datos de Estudiantes",d===4&&"Finalizar MatrÃ­cula"]})]})]}),F(d)&&e.jsx(J,{className:"h-6 w-6 text-green-600 animate-scale-in"})]})]}),e.jsxs("form",{onSubmit:je,className:"animate-fade-in",children:[e.jsx("div",{className:"animate-slide-right",children:ve()}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center mt-6 sm:mt-8 gap-3 sm:gap-4 animate-fade-in",children:[d>1&&e.jsxs(G,{type:"button",onClick:ge,variant:"outline",size:"lg",className:"gap-2 group hover:scale-105 transition-all duration-200 hover:border-amber-500 hover:text-amber-700 dark:hover:text-amber-300 order-2 sm:order-1 w-full sm:w-auto",children:[e.jsx(Ee,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"}),e.jsx("span",{className:"sm:hidden",children:"Volver"})]}),d===1&&e.jsx("div",{className:"hidden sm:block"}),d<$&&e.jsxs("div",{className:"ml-auto flex flex-col items-end gap-2 order-1 sm:order-2 w-full sm:w-auto",children:[!F(d)&&e.jsxs("p",{className:"text-xs sm:text-sm text-amber-700 dark:text-amber-300 flex items-center gap-1.5 bg-amber-50 dark:bg-amber-950/30 px-3 py-2 rounded-lg animate-shake-error",children:[e.jsx(Z,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-left",children:"Completa los campos requeridos para continuar"})]}),e.jsxs(G,{type:"button",onClick:pe,disabled:!F(d),size:"lg",className:g("gap-2 group bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto min-w-[140px]",F(d)&&"button-pulse"),children:[e.jsx("span",{children:"Siguiente"}),e.jsx(Fe,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform"})]})]}),d===$&&e.jsxs("div",{className:"ml-auto flex flex-col items-end gap-2 order-1 sm:order-2 w-full sm:w-auto",children:[!F(d)&&e.jsxs("p",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300 flex items-center gap-1.5 bg-red-50 dark:bg-red-950/30 px-3 py-2 rounded-lg animate-shake-error",children:[e.jsx(Z,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-left",children:"Debes aceptar los compromisos para finalizar"})]}),e.jsx(G,{type:"submit",disabled:W||!F(d),size:"lg",className:g("bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 gap-2 shadow-lg hover:shadow-xl transition-all duration-300 w-full sm:w-auto sm:min-w-[220px]",F(d)&&!W&&"animate-pulse"),children:W?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-2 border-white border-t-transparent rounded-full loading-spinner"}),e.jsx("span",{className:"hidden sm:inline",children:"Procesando..."}),e.jsx("span",{className:"sm:hidden",children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Completar MatrÃ­cula"}),e.jsx("span",{className:"sm:hidden",children:"Finalizar"})]})})]})]})]})]})})]})}export{vs as default};
