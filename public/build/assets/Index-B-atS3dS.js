import{r as N,j as e,H as T,L as _,a as o}from"./app-5znjwuGY.js";import{A}from"./app-layout-VTtOA_gg.js";import{B as n}from"./button-Mfgw1nNd.js";import{I as L}from"./input-DAdQsFHn.js";import{C as a,a as l,b as v,c as C,d as E}from"./card-D3IdMJaK.js";import{B}from"./badge-Dcma6adQ.js";import{T as H,a as F,b as x,c as i,d as I,e as t}from"./table-DLbRCUkG.js";import{S as z,a as k,b as P,c as R,d as c}from"./select-qC7w0T-L.js";import{A as M,a as V,b as G,c as U,d as $,e as K,f as O,g as X,h as q}from"./alert-dialog-CqQ1PTzv.js";import{U as J}from"./users-C2QFi3It.js";import{C as b}from"./clock-BmgZQ9qV.js";import{C as Q}from"./circle-check-big-Dy7MkD6O.js";import{C as W}from"./circle-x-DTBobmlE.js";import{F as Y}from"./filter-CNrXn2NX.js";import{S as Z}from"./app-header-CH6bgnbC.js";import{E as ee}from"./eye-DDj0tXCk.js";import{T as se}from"./trash-2-Cs1mfDUw.js";/* empty css            */import"./utils-4szXMDIU.js";import"./index-Xcu1ltPd.js";import"./index-Q6uHqS8n.js";import"./createLucideIcon-Bo3j8GB8.js";import"./index-B_K0aGqF.js";import"./index-AbsSJQPo.js";import"./index-BG9fH0I6.js";import"./toaster-A1kLF62O.js";import"./index-C8XmJ8Dh.js";import"./chevron-down-NxVUTx2H.js";import"./check-Bs1FgAUy.js";import"./chevron-right-BCYK5Bkx.js";import"./index-CbvJK2nq.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./book-open-DgXSOxBn.js";import"./graduation-cap-BH-fWePO.js";import"./credit-card-b_0IBOSy.js";import"./calendar-DG05sPkv.js";import"./file-text-DiQqLQUb.js";import"./lock-MPRoGxj0.js";import"./shield-B0jca2JW.js";import"./loader-circle-BHYXKi0e.js";import"./mail-Vho0I-_R.js";function Ke({leads:r,stats:d,filters:h}){const[j,u]=N.useState(h.search||""),[m,p]=N.useState(h.status||"all"),f=()=>{o.get("/admin/demo-leads",{search:j||void 0,status:m!=="all"?m:void 0},{preserveState:!0,preserveScroll:!0})},w=()=>{u(""),p("all"),o.get("/admin/demo-leads")},y=s=>{o.delete(`/admin/demo-leads/${s.id}`,{preserveScroll:!0})},S=s=>{switch(s){case"yellow":return"default";case"blue":return"secondary";case"green":return"default";case"red":return"destructive";default:return"outline"}},D=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(A,{children:[e.jsx(T,{title:"Gestión de Leads - Clases Demo"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestión de Leads"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Administra las solicitudes de clases demo"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(a,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:d.total})]}),e.jsx(J,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-bold",children:d.pending})]}),e.jsx(b,{className:"h-8 w-8 text-yellow-400"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Contactados"}),e.jsx("p",{className:"text-2xl font-bold",children:d.contacted})]}),e.jsx(b,{className:"h-8 w-8 text-blue-400"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Convertidos"}),e.jsx("p",{className:"text-2xl font-bold",children:d.converted})]}),e.jsx(Q,{className:"h-8 w-8 text-green-400"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Rechazados"}),e.jsx("p",{className:"text-2xl font-bold",children:d.rejected})]}),e.jsx(W,{className:"h-8 w-8 text-red-400"})]})})})]}),e.jsxs(a,{children:[e.jsx(v,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Filtros"]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(L,{placeholder:"Buscar por nombre, email, teléfono...",value:j,onChange:s=>u(s.target.value),onKeyDown:s=>s.key==="Enter"&&f()})}),e.jsxs(z,{value:m,onValueChange:p,children:[e.jsx(k,{className:"w-full md:w-48",children:e.jsx(P,{placeholder:"Estado"})}),e.jsxs(R,{children:[e.jsx(c,{value:"all",children:"Todos"}),e.jsx(c,{value:"pending",children:"Pendiente"}),e.jsx(c,{value:"contacted",children:"Contactado"}),e.jsx(c,{value:"converted",children:"Convertido"}),e.jsx(c,{value:"rejected",children:"Rechazado"})]})]}),e.jsxs(n,{onClick:f,children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(n,{variant:"outline",onClick:w,children:"Limpiar"})]})})]}),e.jsxs(a,{children:[e.jsxs(v,{children:[e.jsxs(C,{children:["Leads (",r.total,")"]}),e.jsx(E,{children:"Lista de todas las solicitudes de clases demo"})]}),e.jsxs(l,{children:[e.jsxs(H,{children:[e.jsx(F,{children:e.jsxs(x,{children:[e.jsx(i,{children:"Nombre"}),e.jsx(i,{children:"Contacto"}),e.jsx(i,{children:"Instrumento"}),e.jsx(i,{children:"Horario Preferido"}),e.jsx(i,{children:"Estado"}),e.jsx(i,{children:"Fecha"}),e.jsx(i,{className:"text-right",children:"Acciones"})]})}),e.jsx(I,{children:r.data.length===0?e.jsx(x,{children:e.jsx(t,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No se encontraron leads"})}):r.data.map(s=>e.jsxs(x,{children:[e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.is_for_child&&s.child_name&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para: ",s.child_name]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:s.email}),e.jsx("p",{className:"text-muted-foreground",children:s.phone})]})}),e.jsx(t,{children:s.instrument}),e.jsx(t,{children:s.preferred_schedule?e.jsx("span",{className:"text-sm",children:s.preferred_schedule}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No especificado"})}),e.jsx(t,{children:e.jsx(B,{variant:S(s.status_color),children:s.status_label})}),e.jsx(t,{className:"text-sm text-muted-foreground",children:D(s.created_at)}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(_,{href:`/admin/demo-leads/${s.id}`,children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(se,{className:"h-4 w-4 text-red-600"})})}),e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx($,{children:"¿Eliminar lead?"}),e.jsxs(K,{children:["Esta acción no se puede deshacer. Se eliminará permanentemente el lead de ",s.name,"."]})]}),e.jsxs(O,{children:[e.jsx(X,{children:"Cancelar"}),e.jsx(q,{onClick:()=>y(s),children:"Eliminar"})]})]})]})]})})]},s.id))})]}),r.last_page>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",r.data.length," de ",r.total," resultados"]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((s,g)=>s.url?e.jsx(n,{variant:s.active?"default":"outline",size:"sm",onClick:()=>o.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},g):e.jsx(n,{variant:"outline",size:"sm",disabled:!0,children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},g))})]})]})]})]})]})}export{Ke as default};
