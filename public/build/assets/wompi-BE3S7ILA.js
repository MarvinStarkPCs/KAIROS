import{u as x,j as e,H as h}from"./app-C_wc9es_.js";import{H as m}from"./heading-small-B4QFQAz_.js";import{I as o}from"./input-error-DFCknaJe.js";import{B as v}from"./button-CK7_c_5e.js";import{I as n}from"./input-C7PQsbVn.js";import{L as i}from"./label-nyAx6Y8t.js";import{S as g,a as j,b,c as _,d}from"./select-DT6IKorb.js";import{S as f}from"./switch-BQpkr0Q9.js";import{A as y}from"./app-layout-RCkHY00m.js";import{c as N,S as k}from"./layout-W5EpX7qG.js";import{C}from"./credit-card-Cyqos1IL.js";/* empty css            */import"./utils-BTwnVSy2.js";import"./index-CNhhqjg2.js";import"./index-BPZo39PE.js";import"./index-DJBO6EKN.js";import"./index-myZmSymV.js";import"./index-Be2p5AN3.js";import"./createLucideIcon-Cl_h1Hpc.js";import"./chevron-down-D4MJa3Wh.js";import"./check-BINbHuVB.js";import"./index-BLRCw3fc.js";import"./app-header-3tM_PALz.js";import"./chevron-right-FEguOG6w.js";import"./index-BXFwRZdy.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./book-open-DgLAYnVa.js";import"./graduation-cap-DpEnpuH4.js";import"./users-BlXHteJc.js";import"./calendar-CdY4SBhE.js";import"./file-text-BcV-VVC0.js";import"./lock-l4QBdaDv.js";import"./shield-Dk7fcTnH.js";import"./loader-circle-DIXjFJg0.js";import"./mail-jATxNgrm.js";import"./toaster-eRoXJvOx.js";import"./heading-FIQ0xFg-.js";import"./index-BbeadLAU.js";import"./index-DmHkLzld.js";const S=[{title:"Configuración Wompi",href:N().url}];function xe({wompiSetting:r}){const{data:s,setData:t,patch:p,processing:c,errors:l}=x({environment:r?.environment??"test",public_key:r?.public_key??"",private_key:"",events_secret:"",integrity_secret:"",api_url:r?.api_url??"https://sandbox.wompi.co/v1",is_active:r?.is_active??!1}),u=a=>{a.preventDefault(),p("/settings/wompi",{preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:S,children:[e.jsx(h,{title:"Configuración Wompi"}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(m,{title:"Pasarela de Pago Wompi",description:"Configura las credenciales de Wompi para procesar pagos en línea"}),e.jsx("form",{onSubmit:u,className:"space-y-6",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"environment",children:"Ambiente"}),e.jsxs(g,{value:s.environment,onValueChange:a=>{t({...s,environment:a,api_url:a==="production"?"https://production.wompi.co/v1":"https://sandbox.wompi.co/v1"})},children:[e.jsx(j,{className:"w-full",children:e.jsx(b,{placeholder:"Seleccionar ambiente"})}),e.jsxs(_,{children:[e.jsx(d,{value:"test",children:"Pruebas (Sandbox)"}),e.jsx(d,{value:"production",children:"Producción"})]})]}),e.jsx(o,{className:"mt-2",message:l.environment})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"public_key",children:"Llave Pública (Public Key)"}),e.jsx(n,{id:"public_key",name:"public_key",type:"text",className:"mt-1 block w-full font-mono text-sm",value:s.public_key,onChange:a=>t("public_key",a.target.value),placeholder:"pub_test_...",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"La llave pública se usa en el frontend"}),e.jsx(o,{className:"mt-2",message:l.public_key})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"private_key",children:"Llave Privada (Private Key)"}),e.jsx(n,{id:"private_key",name:"private_key",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.private_key,onChange:a=>t("private_key",a.target.value),placeholder:"prv_test_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener la llave actual":"La llave privada se usa para operaciones del servidor"}),e.jsx(o,{className:"mt-2",message:l.private_key})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"events_secret",children:"Secreto de Eventos (Events Secret)"}),e.jsx(n,{id:"events_secret",name:"events_secret",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.events_secret,onChange:a=>t("events_secret",a.target.value),placeholder:"test_events_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener el secreto actual":"Se usa para validar webhooks de Wompi"}),e.jsx(o,{className:"mt-2",message:l.events_secret})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"integrity_secret",children:"Secreto de Integridad (Integrity Secret)"}),e.jsx(n,{id:"integrity_secret",name:"integrity_secret",type:"password",className:"mt-1 block w-full font-mono text-sm",value:s.integrity_secret,onChange:a=>t("integrity_secret",a.target.value),placeholder:"test_integrity_... (dejar en blanco para mantener)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Deja en blanco para mantener el secreto actual":"Se usa para generar firmas de integridad en el widget"}),e.jsx(o,{className:"mt-2",message:l.integrity_secret})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"api_url",children:"URL de la API"}),e.jsx(n,{id:"api_url",name:"api_url",type:"url",className:"mt-1 block w-full font-mono text-sm",value:s.api_url,onChange:a=>t("api_url",a.target.value),placeholder:"https://sandbox.wompi.co/v1",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Se actualiza automáticamente al cambiar el ambiente"}),e.jsx(o,{className:"mt-2",message:l.api_url})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"is_active",children:"Configuración activa"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita esta configuración para procesar pagos"})]}),e.jsx(f,{id:"is_active",checked:s.is_active,onCheckedChange:a=>t("is_active",a)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(v,{type:"submit",disabled:c,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),c?"Guardando...":"Guardar Configuración"]})})]})}),e.jsxs("div",{className:"rounded-lg border bg-muted/50 p-6 space-y-4",children:[e.jsx(m,{title:"¿Cómo obtener las credenciales?",description:"Sigue estos pasos para obtener tus claves de Wompi"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:["Inicia sesión en"," ",e.jsx("a",{href:"https://comercios.sandbox.wompi.co/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"comercios.sandbox.wompi.co"})," ","(para pruebas)"]}),e.jsx("li",{children:'Ve a la sección "Developers" o "Desarrolladores"'}),e.jsx("li",{children:"Copia todas las claves y pégalas en los campos correspondientes"}),e.jsx("li",{children:"Guarda la configuración y actívala cuando estés listo"})]}),e.jsx("div",{className:"mt-4 rounded-md bg-blue-50 dark:bg-blue-950/20 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Nota:"})," Las claves de prueba empiezan con"," ",e.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded",children:"test_"})," ","y las de producción con"," ",e.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900/40 rounded",children:"prod_"})]})})]})]})})]})}export{xe as default};
