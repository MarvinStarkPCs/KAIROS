import{r as N,j as e,H as T,L as _,a as o}from"./app-DQdfAIrT.js";import{A}from"./app-layout-4clgNQ85.js";import{B as n}from"./button-VerjejBs.js";import{I as L}from"./input-j1xB4kZV.js";import{C as r,a as l,b as v,c as C,d as E}from"./card-xa_nu3wW.js";import{B}from"./badge-D23JO_t_.js";import{T as H,a as F,b as x,c as i,d as I,e as t}from"./table-BLfyo2Xl.js";import{S as z,a as k,b as P,c as R,d}from"./select-BLHirN0A.js";import{A as M,a as V,b as G,c as U,d as $,e as K,f as O,g as X,h as q}from"./alert-dialog-DEfEqQkW.js";import{U as J}from"./users-D1XkPNsH.js";import{C as y}from"./clock-DUL3GtND.js";import{C as Q}from"./circle-check-big-ZsaYAgn9.js";import{C as W}from"./circle-x-BpFeDyjK.js";import{F as Y}from"./filter-ha--0tlg.js";import{S as Z}from"./app-header-BJ6Qh71R.js";import{E as ee}from"./eye-jtjOBm3q.js";import{T as se}from"./trash-2-BEkySMCG.js";import"./app-C-cf51TB.js";import"./utils-CBfrqCZ4.js";import"./index-CfWGIfzM.js";import"./index-C7yH7irC.js";import"./index-DgJsnbTO.js";import"./createLucideIcon-FBGZZ2XP.js";import"./index-C47Lcm81.js";import"./index-IgmI3j8n.js";import"./index-BzC76F-K.js";import"./toaster-B_zTenYs.js";import"./index-CdJFUDDL.js";import"./check-Bw5X6T2g.js";import"./chevron-right-Bj574-qT.js";import"./index-Q9OWOLmH.js";import"./index-BGHOW37F.js";import"./wayfinder-Bf9OnZdi.js";import"./index-DvImgo4L.js";import"./graduation-cap-BqNDqZIZ.js";import"./credit-card-BIFgk_mu.js";import"./calendar-YX0MwFSw.js";import"./file-text-CdhlA8Sa.js";import"./lock-Bhi6MTHY.js";import"./shield-DJVllbGN.js";import"./mail-C6vpu2CA.js";function Ue({leads:a,stats:c,filters:h}){const[j,p]=N.useState(h.search||""),[m,u]=N.useState(h.status||"all"),f=()=>{o.get("/admin/demo-leads",{search:j||void 0,status:m!=="all"?m:void 0},{preserveState:!0,preserveScroll:!0})},b=()=>{p(""),u("all"),o.get("/admin/demo-leads")},w=s=>{o.delete(`/admin/demo-leads/${s.id}`,{preserveScroll:!0})},S=s=>{switch(s){case"yellow":return"default";case"blue":return"secondary";case"green":return"default";case"red":return"destructive";default:return"outline"}},D=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(A,{children:[e.jsx(T,{title:"Gestión de Leads - Clases Demo"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Leads"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Administra las solicitudes de clases demo"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:c.total})]}),e.jsx(J,{className:"h-8 w-8 text-gray-400"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pendientes"}),e.jsx("p",{className:"text-2xl font-bold",children:c.pending})]}),e.jsx(y,{className:"h-8 w-8 text-yellow-400"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Contactados"}),e.jsx("p",{className:"text-2xl font-bold",children:c.contacted})]}),e.jsx(y,{className:"h-8 w-8 text-blue-400"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Convertidos"}),e.jsx("p",{className:"text-2xl font-bold",children:c.converted})]}),e.jsx(Q,{className:"h-8 w-8 text-green-400"})]})})}),e.jsx(r,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Rechazados"}),e.jsx("p",{className:"text-2xl font-bold",children:c.rejected})]}),e.jsx(W,{className:"h-8 w-8 text-red-400"})]})})})]}),e.jsxs(r,{children:[e.jsx(v,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Filtros"]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(L,{placeholder:"Buscar por nombre, email, teléfono...",value:j,onChange:s=>p(s.target.value),onKeyDown:s=>s.key==="Enter"&&f()})}),e.jsxs(z,{value:m,onValueChange:u,children:[e.jsx(k,{className:"w-full md:w-48",children:e.jsx(P,{placeholder:"Estado"})}),e.jsxs(R,{children:[e.jsx(d,{value:"all",children:"Todos"}),e.jsx(d,{value:"pending",children:"Pendiente"}),e.jsx(d,{value:"contacted",children:"Contactado"}),e.jsx(d,{value:"converted",children:"Convertido"}),e.jsx(d,{value:"rejected",children:"Rechazado"})]})]}),e.jsxs(n,{onClick:f,children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(n,{variant:"outline",onClick:b,children:"Limpiar"})]})})]}),e.jsxs(r,{children:[e.jsxs(v,{children:[e.jsxs(C,{children:["Leads (",a.total,")"]}),e.jsx(E,{children:"Lista de todas las solicitudes de clases demo"})]}),e.jsxs(l,{children:[e.jsxs(H,{children:[e.jsx(F,{children:e.jsxs(x,{children:[e.jsx(i,{children:"Nombre"}),e.jsx(i,{children:"Contacto"}),e.jsx(i,{children:"Instrumento"}),e.jsx(i,{children:"Horario Preferido"}),e.jsx(i,{children:"Estado"}),e.jsx(i,{children:"Fecha"}),e.jsx(i,{className:"text-right",children:"Acciones"})]})}),e.jsx(I,{children:a.data.length===0?e.jsx(x,{children:e.jsx(t,{colSpan:7,className:"text-center text-gray-500 py-8",children:"No se encontraron leads"})}):a.data.map(s=>e.jsxs(x,{children:[e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.is_for_child&&s.child_name&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Para: ",s.child_name]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:s.email}),e.jsx("p",{className:"text-gray-500",children:s.phone})]})}),e.jsx(t,{children:s.instrument}),e.jsx(t,{children:s.preferred_schedule?e.jsx("span",{className:"text-sm",children:s.preferred_schedule}):e.jsx("span",{className:"text-sm text-gray-400",children:"No especificado"})}),e.jsx(t,{children:e.jsx(B,{variant:S(s.status_color),children:s.status_label})}),e.jsx(t,{className:"text-sm text-gray-500",children:D(s.created_at)}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(_,{href:`/admin/demo-leads/${s.id}`,children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(n,{variant:"outline",size:"sm",children:e.jsx(se,{className:"h-4 w-4 text-red-600"})})}),e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx($,{children:"¿Eliminar lead?"}),e.jsxs(K,{children:["Esta acción no se puede deshacer. Se eliminará permanentemente el lead de ",s.name,"."]})]}),e.jsxs(O,{children:[e.jsx(X,{children:"Cancelar"}),e.jsx(q,{onClick:()=>w(s),children:"Eliminar"})]})]})]})]})})]},s.id))})]}),a.last_page>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",a.data.length," de ",a.total," resultados"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((s,g)=>s.url?e.jsx(n,{variant:s.active?"default":"outline",size:"sm",onClick:()=>o.get(s.url),dangerouslySetInnerHTML:{__html:s.label}},g):e.jsx(n,{variant:"outline",size:"sm",disabled:!0,children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},g))})]})]})]})]})]})}export{Ue as default};
