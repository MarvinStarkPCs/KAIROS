import{r as g,j as e,H as A,L as f,a as x}from"./app-_rOQn_46.js";import{A as H}from"./app-layout-CLhCFhGY.js";import{B as r}from"./button-Cwjg0RKq.js";import{I as D}from"./input-C_eRjc1n.js";import{C as c,b as l,c as d,a as n}from"./card-BBOBQJet.js";import{B as m}from"./badge-CxkKJAJ8.js";import{T as I,a as L,b as v,c as o,d as U,e as t}from"./table-mJfQHbWO.js";import{S as _,a as C,b as k,c as E,d as i}from"./select-fBj-5ZE1.js";import{P as $}from"./plus-25oOd8Jq.js";import{U as z}from"./users-CU2UoBYp.js";import{U as R,S as V}from"./app-header-uhUDMoS0.js";import{C as q}from"./clock-92yNzH6p.js";import{c as T}from"./createLucideIcon-BTUecZaa.js";import{E as X}from"./eye-HnW50b-k.js";import{S as G}from"./square-pen-BEwHn1Qv.js";/* empty css            */import"./utils-CHYGzkwl.js";import"./index-kZXzX9CC.js";import"./index-C0WYYgI1.js";import"./index-DhMGY2fr.js";import"./index-LDKjRhno.js";import"./index-86eqSqYr.js";import"./toaster-DF114ULM.js";import"./index-HbNiKBAr.js";import"./chevron-down-gmsC21Id.js";import"./check-DD34Qu--.js";import"./chevron-right-KvpbVvzH.js";import"./index-B4ow9L1E.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./book-open-d3nfV-Db.js";import"./graduation-cap-h2z_kizA.js";import"./credit-card-CtYZ3YyT.js";import"./calendar-DwYwQP4N.js";import"./file-text-CqZet-U8.js";import"./lock-BoKNE-VZ.js";import"./shield-DI4dg6mj.js";import"./loader-circle-eUOhA3c_.js";import"./mail-DuzhTNEq.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],J=T("Trash",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Q=T("UserX",O);function Ue({enrollments:a,stats:h,programs:M,students:W,filters:j}){const[N,w]=g.useState(j.search||""),[u,y]=g.useState(j.program_id||"all"),[p,b]=g.useState(j.status||"all"),S=()=>{x.get("/matriculas",{search:N||void 0,program_id:u!=="all"?u:void 0,status:p!=="all"?p:void 0},{preserveState:!0,preserveScroll:!0})},B=()=>{w(""),y("all"),b("all"),x.get("/matriculas")},F=s=>{confirm("¿Estás seguro de eliminar esta matrícula?")&&x.delete(`/matriculas/${s}`)},P=s=>({active:e.jsx(m,{className:"bg-green-500",children:"Activo"}),waiting:e.jsx(m,{className:"bg-yellow-500",children:"En espera"}),withdrawn:e.jsx(m,{className:"bg-gray-500",children:"Retirado"}),suspended:e.jsx(m,{className:"bg-red-500",children:"Suspendido"})})[s]||e.jsx(m,{children:s});return e.jsxs(H,{children:[e.jsx(A,{title:"Matrículas"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Matrículas a Programas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona las matrículas de estudiantes a programas académicos"})]}),e.jsx(f,{href:"/matriculas/create",children:e.jsxs(r,{children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Nueva Matrícula"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Matrículas"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.total_enrollments})})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Activos"}),e.jsx(R,{className:"h-4 w-4 text-green-500"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.active_enrollments})})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"En Espera"}),e.jsx(q,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.waiting_list})})]}),e.jsxs(c,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Retirados"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.withdrawn})})]})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsx(d,{children:"Filtros"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx(D,{placeholder:"Buscar estudiante...",value:N,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&S()})}),e.jsxs(_,{value:u,onValueChange:y,children:[e.jsx(C,{className:"w-[200px]",children:e.jsx(k,{placeholder:"Programa"})}),e.jsxs(E,{children:[e.jsx(i,{value:"all",children:"Todos los programas"}),M.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(_,{value:p,onValueChange:b,children:[e.jsx(C,{className:"w-[180px]",children:e.jsx(k,{placeholder:"Estado"})}),e.jsxs(E,{children:[e.jsx(i,{value:"all",children:"Todos los estados"}),e.jsx(i,{value:"active",children:"Activo"}),e.jsx(i,{value:"waiting",children:"En espera"}),e.jsx(i,{value:"suspended",children:"Suspendido"}),e.jsx(i,{value:"withdrawn",children:"Retirado"})]})]}),e.jsxs(r,{onClick:S,children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(r,{variant:"outline",onClick:B,children:"Limpiar"})]})})]}),e.jsxs(c,{children:[e.jsx(l,{children:e.jsxs(d,{children:["Matrículas (",a.total,")"]})}),e.jsxs(n,{children:[e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(v,{children:[e.jsx(o,{children:"ID"}),e.jsx(o,{children:"Estudiante"}),e.jsx(o,{children:"Programa"}),e.jsx(o,{children:"Fecha Matrícula"}),e.jsx(o,{children:"Estado"}),e.jsx(o,{className:"text-right",children:"Acciones"})]})}),e.jsx(U,{children:a.data.length===0?e.jsx(v,{children:e.jsx(t,{colSpan:6,className:"text-center text-muted-foreground",children:"No se encontraron matrículas"})}):a.data.map(s=>e.jsxs(v,{children:[e.jsxs(t,{className:"font-medium",children:["#",s.id]}),e.jsx(t,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.student.name," ",s.student.last_name||""]}),s.student.document_number&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Doc: ",s.student.document_number]})]})}),e.jsx(t,{children:s.program.name}),e.jsx(t,{children:new Date(s.enrollment_date).toLocaleDateString("es-ES")}),e.jsx(t,{children:P(s.status)}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(f,{href:`/matriculas/${s.id}`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(f,{href:`/matriculas/${s.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(J,{className:"h-4 w-4 text-destructive"})})]})})]},s.id))})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&e.jsx(r,{variant:"outline",onClick:()=>x.get(`/matriculas?page=${a.current_page-1}`),children:"Anterior"}),a.current_page<a.last_page&&e.jsx(r,{variant:"outline",onClick:()=>x.get(`/matriculas?page=${a.current_page+1}`),children:"Siguiente"})]})]})]})]})]})]})}export{Ue as default};
