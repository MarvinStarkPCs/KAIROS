import{r as F,j as e,F as J,b as W,u as K,H as X,L as Y,a as Z}from"./app-05ShooGQ.js";import{q as v,a as ee}from"./wayfinder-Bf9OnZdi.js";import{H as L}from"./heading-small-BYS0oFUc.js";import{I as i}from"./input-error-D-5vKJDZ.js";import{B as y}from"./button-BD8539R6.js";import{D as re,e as te,a as ae,c as se,d as ie,f as le,g as oe}from"./dialog-B3X4U4z-.js";import{I as u}from"./input-DWBzlYOO.js";import{L as d}from"./label-BuRjJQVS.js";import{S as Q,a as P,b as T,c as k,d as f}from"./select-HCXCG_QP.js";import{A as de}from"./app-layout-CR3KzzE7.js";import{S as ne}from"./layout-Iz6EIc5K.js";import{q as me}from"./app-header-DhUaObwM.js";import{U as ce}from"./user-ChqKJ8Es.js";import{c as ue}from"./createLucideIcon-jgmphIs6.js";import{T as he}from"./trash-2-Biu56-3K.js";import{z as pe}from"./transition-DQtWtKzO.js";/* empty css            */import"./utils-QIaTb7Ic.js";import"./index-NETZMin-.js";import"./index-BxkeiSwP.js";import"./index-YFaldniu.js";import"./index-D5cJpMRO.js";import"./index-DpNXXy9o.js";import"./chevron-down-DwoHTTy4.js";import"./check-CIDw9Fwx.js";import"./index-DJ9QZhGu.js";import"./toaster-c0Tzfo0H.js";import"./heading-B8TD4Eh6.js";import"./index-BbeadLAU.js";import"./index-DmHkLzld.js";import"./chevron-right-OTkE61dJ.js";import"./index-DE-kI2jP.js";import"./index-CLa6oRL-.js";import"./index-D12nj1Ca.js";import"./book-open-OnlFKIlA.js";import"./graduation-cap-0xoJFm5c.js";import"./users-BTmOshtK.js";import"./credit-card-BuSrC1Ii.js";import"./calendar-CmeM68J-.js";import"./file-text-DvijEh9m.js";import"./lock-B3HqQlmb.js";import"./shield-DSwyy0H4.js";import"./loader-circle-CaH6ryvJ.js";import"./mail-ku6KC86U.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xe=ue("Camera",ge),m=r=>({url:m.url(r),method:"get"});m.definition={methods:["get","head"],url:"/verify-email"};m.url=r=>m.definition.url+v(r);m.get=r=>({url:m.url(r),method:"get"});m.head=r=>({url:m.url(r),method:"head"});const E=r=>({action:m.url(r),method:"get"});E.get=r=>({action:m.url(r),method:"get"});E.head=r=>({action:m.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});m.form=E;const c=(r,s)=>({url:c.url(r,s),method:"get"});c.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};c.url=(r,s)=>{Array.isArray(r)&&(r={id:r[0],hash:r[1]}),r=ee(r);const a={id:r.id,hash:r.hash};return c.definition.url.replace("{id}",a.id.toString()).replace("{hash}",a.hash.toString()).replace(/\/+$/,"")+v(s)};c.get=(r,s)=>({url:c.url(r,s),method:"get"});c.head=(r,s)=>({url:c.url(r,s),method:"head"});const D=(r,s)=>({action:c.url(r,s),method:"get"});D.get=(r,s)=>({action:c.url(r,s),method:"get"});D.head=(r,s)=>({action:c.url(r,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});c.form=D;const h=r=>({url:h.url(r),method:"post"});h.definition={methods:["post"],url:"/email/verification-notification"};h.url=r=>h.definition.url+v(r);h.post=r=>({url:h.url(r),method:"post"});const I=r=>({action:h.url(r),method:"post"});I.post=r=>({action:h.url(r),method:"post"});h.form=I;Object.assign(m,m),Object.assign(c,c),Object.assign(h,h);const p=r=>({url:p.url(r),method:"get"});p.definition={methods:["get","head"],url:"/settings/profile"};p.url=r=>p.definition.url+v(r);p.get=r=>({url:p.url(r),method:"get"});p.head=r=>({url:p.url(r),method:"head"});const q=r=>({action:p.url(r),method:"get"});q.get=r=>({action:p.url(r),method:"get"});q.head=r=>({action:p.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});p.form=q;const x=r=>({url:x.url(r),method:"post"});x.definition={methods:["post"],url:"/settings/profile"};x.url=r=>x.definition.url+v(r);x.post=r=>({url:x.url(r),method:"post"});const H=r=>({action:x.url(r),method:"post"});H.post=r=>({action:x.url(r),method:"post"});x.form=H;const g=r=>({url:g.url(r),method:"delete"});g.definition={methods:["delete"],url:"/settings/profile"};g.url=r=>g.definition.url+v(r);g.delete=r=>({url:g.url(r),method:"delete"});const U=r=>({action:g.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});U.delete=r=>({action:g.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});g.form=U;const j=r=>({url:j.url(r),method:"delete"});j.definition={methods:["delete"],url:"/settings/profile/avatar"};j.url=r=>j.definition.url+v(r);j.delete=r=>({url:j.url(r),method:"delete"});const z=r=>({action:j.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});z.delete=r=>({action:j.url({[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});j.form=z;const je={destroy:g};function ve(){const r=F.useRef(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(L,{title:"Eliminar cuenta",description:"Eliminar tu cuenta y todos sus recursos"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Advertencia"}),e.jsx("p",{className:"text-sm",children:"Por favor procede con precaución, esta acción no se puede deshacer."})]}),e.jsxs(re,{children:[e.jsx(te,{asChild:!0,children:e.jsx(y,{variant:"destructive","data-test":"delete-user-button",children:"Eliminar cuenta"})}),e.jsxs(ae,{children:[e.jsx(se,{children:"¿Estás seguro de que deseas eliminar tu cuenta?"}),e.jsx(ie,{children:"Una vez que tu cuenta sea eliminada, todos sus recursos y datos también serán eliminados permanentemente. Por favor ingresa tu contraseña para confirmar que deseas eliminar permanentemente tu cuenta."}),e.jsx(J,{...je.destroy.form(),options:{preserveScroll:!0},onError:()=>r.current?.focus(),resetOnSuccess:!0,className:"space-y-6",children:({resetAndClearErrors:s,processing:a,errors:b})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password",className:"sr-only",children:"Contraseña"}),e.jsx(u,{id:"password",type:"password",name:"password",ref:r,placeholder:"Contraseña",autoComplete:"current-password"}),e.jsx(i,{message:b.password})]}),e.jsxs(le,{className:"gap-2",children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{variant:"secondary",onClick:()=>s(),children:"Cancelar"})}),e.jsx(y,{variant:"destructive",disabled:a,asChild:!0,children:e.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Eliminar cuenta"})})]})]})})]})]})]})]})}const fe=[{title:"Configuración de Perfil",href:me().url}];function cr({mustVerifyEmail:r,status:s,user:a}){const{auth:b}=W().props,A=F.useRef(null),[N,S]=F.useState(null),B=b.roles.includes("Administrador"),{data:n,setData:l,post:G,processing:R,errors:o,recentlySuccessful:M}=K({name:a.name||"",last_name:a.last_name||"",email:a.email||"",avatar:null,document_type:a.document_type||"",document_number:a.document_number||"",birth_date:a.birth_date||"",birth_place:a.birth_place||"",gender:a.gender||"",phone:a.phone||"",mobile:a.mobile||"",address:a.address||"",neighborhood:a.neighborhood||"",city:a.city||"",department:a.department||""}),O=t=>{t.preventDefault(),G("/settings/profile",{preserveScroll:!0,forceFormData:!0})},V=t=>{const C=t.target.files?.[0];if(C){l("avatar",C);const _=new FileReader;_.onloadend=()=>{S(_.result)},_.readAsDataURL(C)}},$=()=>{Z.delete("/settings/profile/avatar",{preserveScroll:!0,onSuccess:()=>{S(null)}})},w=N||(a.avatar?`/storage/${a.avatar}`:null);return e.jsxs(de,{breadcrumbs:fe,children:[e.jsx(X,{title:"Configuración de Perfil"}),e.jsxs(ne,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(L,{title:"Información del Perfil",description:"Actualiza tu información personal y foto de perfil"}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-muted flex items-center justify-center border-2 border-border",children:w?e.jsx("img",{src:w,alt:"Avatar",className:"h-full w-full object-cover"}):e.jsx(ce,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("button",{type:"button",onClick:()=>A.current?.click(),className:"absolute bottom-0 right-0 p-1.5 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors",children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx("input",{ref:A,type:"file",accept:"image/*",onChange:V,className:"hidden"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Foto de perfil"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG, GIF o WEBP. Máximo 2MB."}),(a.avatar||N)&&e.jsxs(y,{type:"button",variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive/90 h-auto p-0",onClick:$,children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Eliminar foto"]}),e.jsx(i,{message:o.avatar})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"name",children:"Nombre *"}),e.jsx(u,{id:"name",value:n.name,onChange:t=>l("name",t.target.value),required:!0,autoComplete:"given-name",placeholder:"Tu nombre"}),e.jsx(i,{message:o.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"last_name",children:"Apellido"}),e.jsx(u,{id:"last_name",value:n.last_name,onChange:t=>l("last_name",t.target.value),autoComplete:"family-name",placeholder:"Tu apellido"}),e.jsx(i,{message:o.last_name})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"email",children:"Correo Electrónico *"}),e.jsx(u,{id:"email",type:"email",value:n.email,onChange:t=>l("email",t.target.value),required:!0,autoComplete:"email",placeholder:"tu@email.com"}),e.jsx(i,{message:o.email})]}),r&&a.email_verified_at===null&&e.jsxs("div",{className:"rounded-md bg-yellow-50 dark:bg-yellow-900/20 p-3",children:[e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Tu dirección de correo electrónico no está verificada."," ",e.jsx(Y,{href:h(),as:"button",className:"font-medium underline hover:no-underline",children:"Haz clic aquí para reenviar el correo de verificación."})]}),s==="verification-link-sent"&&e.jsx("p",{className:"mt-2 text-sm font-medium text-green-600 dark:text-green-400",children:"Se ha enviado un nuevo enlace de verificación."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"document_type",children:"Tipo de Documento"}),e.jsxs(Q,{value:n.document_type,onValueChange:t=>l("document_type",t),children:[e.jsx(P,{children:e.jsx(T,{placeholder:"Seleccionar..."})}),e.jsxs(k,{children:[e.jsx(f,{value:"CC",children:"Cédula de Ciudadanía"}),e.jsx(f,{value:"TI",children:"Tarjeta de Identidad"}),e.jsx(f,{value:"CE",children:"Cédula de Extranjería"}),e.jsx(f,{value:"Pasaporte",children:"Pasaporte"})]})]}),e.jsx(i,{message:o.document_type})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"document_number",children:"Número de Documento"}),e.jsx(u,{id:"document_number",value:n.document_number,onChange:t=>l("document_number",t.target.value),placeholder:"1234567890"}),e.jsx(i,{message:o.document_number})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"birth_date",children:"Fecha de Nacimiento"}),e.jsx(u,{id:"birth_date",type:"date",value:n.birth_date,onChange:t=>l("birth_date",t.target.value)}),e.jsx(i,{message:o.birth_date})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"birth_place",children:"Lugar de Nacimiento"}),e.jsx(u,{id:"birth_place",value:n.birth_place,onChange:t=>l("birth_place",t.target.value),placeholder:"Ciudad, País"}),e.jsx(i,{message:o.birth_place})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"gender",children:"Género"}),e.jsxs(Q,{value:n.gender,onValueChange:t=>l("gender",t),children:[e.jsx(P,{children:e.jsx(T,{placeholder:"Seleccionar..."})}),e.jsxs(k,{children:[e.jsx(f,{value:"M",children:"Masculino"}),e.jsx(f,{value:"F",children:"Femenino"})]})]}),e.jsx(i,{message:o.gender})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"phone",children:"Teléfono Fijo"}),e.jsx(u,{id:"phone",type:"tel",value:n.phone,onChange:t=>l("phone",t.target.value),placeholder:"(601) 123 4567"}),e.jsx(i,{message:o.phone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"mobile",children:"Celular"}),e.jsx(u,{id:"mobile",type:"tel",value:n.mobile,onChange:t=>l("mobile",t.target.value),placeholder:"300 123 4567"}),e.jsx(i,{message:o.mobile})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[e.jsx(d,{htmlFor:"address",children:"Dirección"}),e.jsx(u,{id:"address",value:n.address,onChange:t=>l("address",t.target.value),placeholder:"Calle 123 # 45-67"}),e.jsx(i,{message:o.address})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"neighborhood",children:"Barrio"}),e.jsx(u,{id:"neighborhood",value:n.neighborhood,onChange:t=>l("neighborhood",t.target.value),placeholder:"Nombre del barrio"}),e.jsx(i,{message:o.neighborhood})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"city",children:"Ciudad"}),e.jsx(u,{id:"city",value:n.city,onChange:t=>l("city",t.target.value),placeholder:"Bogotá"}),e.jsx(i,{message:o.city})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"department",children:"Departamento"}),e.jsx(u,{id:"department",value:n.department,onChange:t=>l("department",t.target.value),placeholder:"Cundinamarca"}),e.jsx(i,{message:o.department})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{disabled:R,"data-test":"update-profile-button",children:"Guardar cambios"}),e.jsx(pe,{show:M,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600",children:"Guardado"})})]})]})]}),B&&e.jsx(ve,{})]})]})}export{cr as default};
