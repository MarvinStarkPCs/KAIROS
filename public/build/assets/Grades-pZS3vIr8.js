import{j as e,H as T,a as B}from"./app-_rOQn_46.js";import{A as L}from"./app-layout-CLhCFhGY.js";import{C as l,a as m,b as i,c,d as j}from"./card-BBOBQJet.js";import{B as a}from"./badge-CxkKJAJ8.js";import{P as b}from"./progress-CIHoFWpw.js";import{S as P,a as S,b as F,c as H,d as G}from"./select-fBj-5ZE1.js";import{A as R,a as U,b as V,c as I}from"./accordion-CBbVZNy1.js";import{G as v}from"./graduation-cap-h2z_kizA.js";import{C as J}from"./calendar-DwYwQP4N.js";import{C as d}from"./clock-92yNzH6p.js";import{M as O}from"./map-pin-DJgFki66.js";import{U as X}from"./user-C5Kq0LMs.js";import{T as q}from"./trending-up-DHKvHuhP.js";import{A as z,B as w}from"./book-open-d3nfV-Db.js";import{C as g}from"./circle-check-big-DVR_8QDl.js";import{S as K}from"./star-DWHdm_0h.js";import{F as Q}from"./file-text-CqZet-U8.js";import{C as y}from"./clipboard-check-zUHCUVQw.js";import{C as W}from"./circle-x-C2egA9mx.js";import{C as Y}from"./circle-alert-DSwOrkeA.js";/* empty css            */import"./utils-CHYGzkwl.js";import"./index-kZXzX9CC.js";import"./index-C0WYYgI1.js";import"./createLucideIcon-BTUecZaa.js";import"./index-DhMGY2fr.js";import"./index-LDKjRhno.js";import"./index-86eqSqYr.js";import"./app-header-uhUDMoS0.js";import"./chevron-right-KvpbVvzH.js";import"./button-Cwjg0RKq.js";import"./index-HbNiKBAr.js";import"./index-B4ow9L1E.js";import"./index-CLa6oRL-.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D12nj1Ca.js";import"./users-CU2UoBYp.js";import"./credit-card-CtYZ3YyT.js";import"./lock-BoKNE-VZ.js";import"./shield-DI4dg6mj.js";import"./chevron-down-gmsC21Id.js";import"./loader-circle-eUOhA3c_.js";import"./mail-DuzhTNEq.js";import"./toaster-DF114ULM.js";import"./check-DD34Qu--.js";function Je({enrollments:_,schedules:k,selectedProgramId:o,selectedProgram:n,modules:u,programStats:r,attendanceStats:x,recentAttendances:f}){const N=o?k.filter(s=>s.program_id===o):[],C=s=>{B.get(`/estudiante/calificaciones/${s}`)},p=s=>s===null?"text-muted-foreground":s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600",A=s=>s===null?e.jsx(a,{variant:"outline",children:"Pendiente"}):s>=80?e.jsx(a,{className:"bg-green-500",children:"Excelente"}):s>=60?e.jsx(a,{className:"bg-yellow-500",children:"Aprobado"}):e.jsx(a,{variant:"destructive",children:"Necesita mejorar"}),M=s=>{switch(s){case"present":return e.jsx(g,{className:"h-4 w-4 text-green-500"});case"late":return e.jsx(Y,{className:"h-4 w-4 text-yellow-500"});case"absent":return e.jsx(W,{className:"h-4 w-4 text-red-500"});case"excused":return e.jsx(d,{className:"h-4 w-4 text-blue-500"});default:return null}},E=s=>{switch(s){case"present":return e.jsx(a,{className:"bg-green-500 text-[10px] sm:text-xs",children:"Presente"});case"late":return e.jsx(a,{className:"bg-yellow-500 text-[10px] sm:text-xs",children:"Tarde"});case"absent":return e.jsx(a,{variant:"destructive",className:"text-[10px] sm:text-xs",children:"Ausente"});case"excused":return e.jsx(a,{className:"bg-blue-500 text-[10px] sm:text-xs",children:"Excusado"});default:return e.jsx(a,{variant:"outline",className:"text-[10px] sm:text-xs",children:s})}},$={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"};return e.jsxs(L,{children:[e.jsx(T,{title:"Mis Calificaciones"}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Mis Calificaciones"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Revisa tu progreso y calificaciones por programa"})]}),e.jsx("div",{className:"w-full sm:w-64",children:e.jsxs(P,{value:o?.toString()||"",onValueChange:C,children:[e.jsx(S,{className:"text-sm sm:text-base",children:e.jsx(F,{placeholder:"Selecciona un programa"})}),e.jsx(H,{children:_.map(s=>e.jsx(G,{value:s.program_id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:s.program_color}}),e.jsx("span",{className:"truncate",children:s.program_name})]})},s.program_id))})]})})]}),n?e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx(i,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full flex-shrink-0",style:{backgroundColor:n.color}}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(c,{className:"text-base sm:text-lg truncate",children:n.name}),n.description&&e.jsx(j,{className:"mt-1 text-xs sm:text-sm line-clamp-2",children:n.description})]})]})})}),N.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-primary"}),"Mis Horarios"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.map(s=>e.jsx(l,{className:"border-l-4",style:{borderLeftColor:s.program_color},children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:s.name}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(v,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.program_name})]})]}),e.jsx(a,{className:"flex-shrink-0 text-[10px]",style:{backgroundColor:s.program_color},children:s.days_of_week})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"h-3 w-3"}),s.start_time," - ",s.end_time]}),s.classroom&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"h-3 w-3"}),s.classroom]}),s.professor_name&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-3 w-3"}),s.professor_name]})]})]})})},s.id))})]}),r&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 lg:grid-cols-4",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 p-3 sm:p-6 pb-1 sm:pb-2",children:[e.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Progreso"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),e.jsxs(m,{className:"p-3 sm:p-6 pt-0",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold",children:[r.overall_progress,"%"]}),e.jsx(b,{value:r.overall_progress,className:"mt-2 h-2"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 p-3 sm:p-6 pb-1 sm:pb-2",children:[e.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Promedio"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),e.jsxs(m,{className:"p-3 sm:p-6 pt-0",children:[e.jsx("div",{className:`text-xl sm:text-2xl font-bold ${p(r.overall_average)}`,children:r.overall_average!==null?`${r.overall_average}%`:"N/A"}),e.jsx("div",{className:"mt-1",children:A(r.overall_average)})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 p-3 sm:p-6 pb-1 sm:pb-2",children:[e.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Módulos"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),e.jsxs(m,{className:"p-3 sm:p-6 pt-0",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:r.total_modules}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"en el programa"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 p-3 sm:p-6 pb-1 sm:pb-2",children:[e.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Evaluadas"}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]}),e.jsxs(m,{className:"p-3 sm:p-6 pt-0",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold",children:[r.evaluated_activities,e.jsxs("span",{className:"text-xs sm:text-sm font-normal text-muted-foreground",children:["/",r.total_activities]})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"actividades"})]})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"p-4 sm:p-6",children:[e.jsx(c,{className:"text-base sm:text-lg",children:"Módulos y Calificaciones"}),e.jsx(j,{className:"text-xs sm:text-sm",children:"Desglose de tu progreso por módulo y actividad"})]}),e.jsx(m,{className:"p-4 sm:p-6 pt-0",children:u.length===0?e.jsxs("div",{className:"text-center py-6 sm:py-8 text-muted-foreground",children:[e.jsx(w,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base",children:"Este programa aún no tiene módulos configurados"})]}):e.jsx(R,{type:"multiple",className:"w-full",children:u.map(s=>e.jsxs(U,{value:`module-${s.id}`,children:[e.jsx(V,{className:"hover:no-underline py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full pr-2 sm:pr-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-primary/10 text-primary font-semibold text-xs sm:text-sm flex-shrink-0",children:s.level}),e.jsxs("div",{className:"text-left min-w-0 flex-1",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base truncate",children:s.name}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[s.hours,"h • ",s.progress.evaluated,"/",s.progress.total]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[s.progress.average_score!==null&&e.jsx("div",{className:"text-right hidden sm:block",children:e.jsxs("p",{className:`font-bold text-sm ${p(s.progress.average_score)}`,children:[s.progress.average_score,"%"]})}),e.jsx("div",{className:"w-12 sm:w-20",children:e.jsx(b,{value:s.progress.percentage,className:"h-2"})})]})]})}),e.jsx(I,{children:e.jsxs("div",{className:"pl-4 sm:pl-11 space-y-3 pt-2",children:[s.description&&e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4",children:s.description}),s.activities.length===0?e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground py-4 text-center",children:"No hay actividades en este módulo"}):s.activities.map(t=>e.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${t.is_evaluated?"bg-card":"bg-muted"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-start gap-2 min-w-0 flex-1",children:[t.is_evaluated?e.jsx(g,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 mt-0.5 flex-shrink-0"}):e.jsx(d,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base",children:t.name}),t.description&&e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 line-clamp-2",children:t.description})]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:t.is_evaluated?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`text-base sm:text-lg font-bold ${p(t.percentage)}`,children:[t.percentage,"%"]}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[t.points_earned,"/",t.total_max_points," pts"]})]}):e.jsx(a,{variant:"outline",className:"text-[10px] sm:text-xs",children:"Pendiente"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-[10px] sm:text-xs text-muted-foreground mt-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),"Peso: ",t.weight,"%"]}),t.evaluation_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"h-3 w-3"}),new Date(t.evaluation_date).toLocaleDateString("es-ES")]})]}),t.is_evaluated&&t.criteria_evaluations.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-muted-foreground mb-2",children:"Desglose por criterio:"}),e.jsx("div",{className:"space-y-1",children:t.criteria_evaluations.map((h,D)=>e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-muted-foreground truncate flex-1 mr-2",children:h.criteria_name}),e.jsxs("span",{className:"font-medium flex-shrink-0",children:[h.points_earned,"/",h.max_points]})]},D))})]}),t.feedback&&e.jsx("div",{className:"mt-3 p-2 sm:p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Comentario del profesor:"}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200",children:t.feedback})]})]})})]},t.id))]})})]},s.id))})})]})]}):e.jsx(l,{children:e.jsxs(m,{className:"py-8 sm:py-12 text-center",children:[e.jsx(v,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"Selecciona un programa"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto text-sm sm:text-base",children:"Elige uno de tus programas académicos para ver tus calificaciones y progreso detallado."})]})}),e.jsxs(l,{children:[e.jsx(i,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs(c,{className:"text-base sm:text-lg flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Mi Asistencia"]}),e.jsx(j,{className:"text-xs sm:text-sm",children:"Registro de asistencia a clases"})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${x.percentage>=80?"text-green-600":x.percentage>=60?"text-yellow-600":"text-red-600"}`,children:[x.percentage,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Asistencia general"})]})]})}),e.jsxs(m,{className:"p-4 sm:p-6 pt-0",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 dark:bg-green-950/30 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-green-600",children:x.present}),e.jsx("div",{className:"text-[10px] sm:text-xs text-green-700 dark:text-green-300",children:"Presente"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 bg-yellow-50 dark:bg-yellow-950/30 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:x.late}),e.jsx("div",{className:"text-[10px] sm:text-xs text-yellow-700 dark:text-yellow-300",children:"Tarde"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 dark:bg-red-950/30 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:x.absent}),e.jsx("div",{className:"text-[10px] sm:text-xs text-red-700 dark:text-red-300",children:"Ausente"})]}),e.jsxs("div",{className:"text-center p-2 sm:p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-blue-600",children:x.excused}),e.jsx("div",{className:"text-[10px] sm:text-xs text-blue-700 dark:text-blue-300",children:"Excusado"})]})]}),e.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Últimos registros"}),f.length===0?e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(y,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No hay registros de asistencia aún"})]}):e.jsx("div",{className:"space-y-2",children:f.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[M(s.status),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:s.program_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.schedule_day&&$[s.schedule_day],s.schedule_time&&` - ${s.schedule_time}`]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[E(s.status),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(s.class_date).toLocaleDateString("es-ES")})]})]},s.id))})]})]})]})]})}export{Je as default};
