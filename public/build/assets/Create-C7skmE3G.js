import{r as m,j as e,u as te,H as ne}from"./app-BW3HAIL3.js";import{u as G,c as V,B as k}from"./index-B4WjwWAD.js";import{I as d}from"./input-CobfSMRz.js";import{L as n}from"./label-BNq7UXsG.js";import{T as z}from"./textarea-B7sgSz0N.js";import{g as B,e as ie,u as le,c as O,R as oe,I as de,a as D,P as ce,b as me,d as ue,t as pe}from"./index-DQkmOt2f.js";import{P as M}from"./index-DDVwAWNd.js";import{c as he}from"./createLucideIcon-DXDgOfkY.js";import{C as q}from"./checkbox-DsRpiDxL.js";import{C as N,a as C,b as R,c as F,d as S}from"./card-DJHLk77N.js";import{S as E,a as I,b as A,c as P,d as v}from"./select-MfTrULb_.js";import{C as xe}from"./chevron-left-DaA_zUhV.js";import{C as je}from"./circle-check-big-CdXBuRRP.js";import"./app-DcQRxmrv.js";import"./check-DhaNvmhh.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],be=he("Circle",_e);var T="Radio",[ge,H]=O(T),[ve,fe]=ge(T),K=m.forwardRef((i,l)=>{const{__scopeRadio:o,name:c,checked:a=!1,required:t,disabled:u,value:h="on",onCheck:r,form:x,..._}=i,[j,g]=m.useState(null),s=G(l,y=>g(y)),p=m.useRef(!1),f=j?x||!!j.closest("form"):!0;return e.jsxs(ve,{scope:o,checked:a,disabled:u,children:[e.jsx(M.button,{type:"button",role:"radio","aria-checked":a,"data-state":X(a),"data-disabled":u?"":void 0,disabled:u,value:h,..._,ref:s,onClick:D(i.onClick,y=>{a||r?.(),f&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),f&&e.jsx(J,{control:j,bubbles:!p.current,name:c,value:h,checked:a,required:t,disabled:u,form:x,style:{transform:"translateX(-100%)"}})]})});K.displayName=T;var $="RadioIndicator",U=m.forwardRef((i,l)=>{const{__scopeRadio:o,forceMount:c,...a}=i,t=fe($,o);return e.jsx(ce,{present:c||t.checked,children:e.jsx(M.span,{"data-state":X(t.checked),"data-disabled":t.disabled?"":void 0,...a,ref:l})})});U.displayName=$;var ye="RadioBubbleInput",J=m.forwardRef(({__scopeRadio:i,control:l,checked:o,bubbles:c=!0,...a},t)=>{const u=m.useRef(null),h=G(u,t),r=me(o),x=ue(l);return m.useEffect(()=>{const _=u.current;if(!_)return;const j=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(j,"checked").set;if(r!==o&&s){const p=new Event("click",{bubbles:c});s.call(_,o),_.dispatchEvent(p)}},[r,o,c]),e.jsx(M.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...a,tabIndex:-1,ref:h,style:{...a.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J.displayName=ye;function X(i){return i?"checked":"unchecked"}var Ne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[Ce,He]=O(L,[B,H]),Y=B(),W=H(),[Re,Fe]=Ce(L),Z=m.forwardRef((i,l)=>{const{__scopeRadioGroup:o,name:c,defaultValue:a,value:t,required:u=!1,disabled:h=!1,orientation:r,dir:x,loop:_=!0,onValueChange:j,...g}=i,s=Y(o),p=ie(x),[f,y]=le({prop:t,defaultProp:a??null,onChange:j,caller:L});return e.jsx(Re,{scope:o,name:c,required:u,disabled:h,value:f,onValueChange:y,children:e.jsx(oe,{asChild:!0,...s,orientation:r,dir:p,loop:_,children:e.jsx(M.div,{role:"radiogroup","aria-required":u,"aria-orientation":r,"data-disabled":h?"":void 0,dir:p,...g,ref:l})})})});Z.displayName=L;var Q="RadioGroupItem",ee=m.forwardRef((i,l)=>{const{__scopeRadioGroup:o,disabled:c,...a}=i,t=Fe(Q,o),u=t.disabled||c,h=Y(o),r=W(o),x=m.useRef(null),_=G(l,x),j=t.value===a.value,g=m.useRef(!1);return m.useEffect(()=>{const s=f=>{Ne.includes(f.key)&&(g.current=!0)},p=()=>g.current=!1;return document.addEventListener("keydown",s),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",p)}},[]),e.jsx(de,{asChild:!0,...h,focusable:!u,active:j,children:e.jsx(K,{disabled:u,required:t.required,checked:j,...r,...a,name:t.name,ref:_,onCheck:()=>t.onValueChange(a.value),onKeyDown:D(s=>{s.key==="Enter"&&s.preventDefault()}),onFocus:D(a.onFocus,()=>{g.current&&x.current?.click()})})})});ee.displayName=Q;var Se="RadioGroupIndicator",se=m.forwardRef((i,l)=>{const{__scopeRadioGroup:o,...c}=i,a=W(o);return e.jsx(U,{...a,...c,ref:l})});se.displayName=Se;var ae=Z,re=ee,we=se;const w=m.forwardRef(({className:i,...l},o)=>e.jsx(ae,{className:V("grid gap-2",i),...l,ref:o}));w.displayName=ae.displayName;const b=m.forwardRef(({className:i,...l},o)=>e.jsx(re,{ref:o,className:V("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...l,children:e.jsx(we,{className:"flex items-center justify-center",children:e.jsx(be,{className:"h-2.5 w-2.5 fill-current text-current"})})}));b.displayName=re.displayName;function Ke({programs:i}){const[l,o]=m.useState(1),c=6,{data:a,setData:t,post:u,processing:h,errors:r}=te({responsable:{name:"",last_name:"",email:"",password:"",password_confirmation:"",document_type:"CC",document_number:"",birth_place:"",birth_date:"",gender:"M",address:"",neighborhood:"",phone:"",mobile:"",city:"",department:""},is_minor:!1,estudiante:{name:"",last_name:"",email:"",document_type:"TI",document_number:"",birth_place:"",birth_date:"",gender:"M"},datos_musicales:{plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",desired_instrument:"",modality:"",current_level:1},program_id:"",schedule_id:"",parental_authorization:!1,payment_commitment:!1}),x=()=>{l<c&&o(l+1)},_=()=>{l>1&&o(l-1)},j=s=>{s.preventDefault(),console.log("Enviando formulario con datos:",a),u("/matricula",{onError:p=>{console.log("Errores de validación:",p),window.scrollTo({top:0,behavior:"smooth"})},onSuccess:()=>{console.log("Matrícula completada exitosamente")}})},g=()=>{switch(l){case 1:return e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Datos del Responsable"}),e.jsx(F,{children:"Ingrese los datos de la persona responsable de la matrícula"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_name",children:"Nombre *"}),e.jsx(d,{id:"responsable_name",value:a.responsable.name,onChange:s=>t("responsable",{...a.responsable,name:s.target.value}),placeholder:"Nombre"}),r["responsable.name"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.name"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_last_name",children:"Apellidos *"}),e.jsx(d,{id:"responsable_last_name",value:a.responsable.last_name,onChange:s=>t("responsable",{...a.responsable,last_name:s.target.value}),placeholder:"Apellidos"}),r["responsable.last_name"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_document_type",children:"Tipo de Documento *"}),e.jsxs(E,{value:a.responsable.document_type,onValueChange:s=>t("responsable",{...a.responsable,document_type:s}),children:[e.jsx(I,{children:e.jsx(A,{placeholder:"Seleccione"})}),e.jsxs(P,{children:[e.jsx(v,{value:"TI",children:"T.I"}),e.jsx(v,{value:"CC",children:"C.C"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"responsable_document_number",children:"Número de Documento *"}),e.jsx(d,{id:"responsable_document_number",value:a.responsable.document_number,onChange:s=>t("responsable",{...a.responsable,document_number:s.target.value}),placeholder:"Número de documento"}),r["responsable.document_number"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_birth_place",children:"Lugar de Nacimiento"}),e.jsx(d,{id:"responsable_birth_place",value:a.responsable.birth_place,onChange:s=>t("responsable",{...a.responsable,birth_place:s.target.value}),placeholder:"Ciudad o Municipio"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(d,{id:"responsable_birth_date",type:"date",value:a.responsable.birth_date,onChange:s=>t("responsable",{...a.responsable,birth_date:s.target.value})}),r["responsable.birth_date"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Género *"}),e.jsxs(w,{value:a.responsable.gender,onValueChange:s=>t("responsable",{...a.responsable,gender:s}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"M",id:"gender_m"}),e.jsx(n,{htmlFor:"gender_m",children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"F",id:"gender_f"}),e.jsx(n,{htmlFor:"gender_f",children:"Femenino"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_email",children:"Correo Electrónico *"}),e.jsx(d,{id:"responsable_email",type:"email",value:a.responsable.email,onChange:s=>t("responsable",{...a.responsable,email:s.target.value}),placeholder:"correo@ejemplo.com"}),r["responsable.email"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.email"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_mobile",children:"Celular *"}),e.jsx(d,{id:"responsable_mobile",value:a.responsable.mobile,onChange:s=>t("responsable",{...a.responsable,mobile:s.target.value}),placeholder:"300 123 4567"}),r["responsable.mobile"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.mobile"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_password",children:"Contraseña *"}),e.jsx(d,{id:"responsable_password",type:"password",value:a.responsable.password,onChange:s=>t("responsable",{...a.responsable,password:s.target.value}),placeholder:"Mínimo 8 caracteres"}),r["responsable.password"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.password"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_password_confirmation",children:"Confirmar Contraseña *"}),e.jsx(d,{id:"responsable_password_confirmation",type:"password",value:a.responsable.password_confirmation,onChange:s=>t("responsable",{...a.responsable,password_confirmation:s.target.value}),placeholder:"Repita la contraseña"})]})]})]})]});case 2:return e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Datos de Localización"}),e.jsx(F,{children:"Ingrese la dirección de residencia del responsable"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_address",children:"Dirección *"}),e.jsx(d,{id:"responsable_address",value:a.responsable.address,onChange:s=>t("responsable",{...a.responsable,address:s.target.value}),placeholder:"Calle 123 #45-67"}),r["responsable.address"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.address"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_neighborhood",children:"Barrio"}),e.jsx(d,{id:"responsable_neighborhood",value:a.responsable.neighborhood,onChange:s=>t("responsable",{...a.responsable,neighborhood:s.target.value}),placeholder:"Nombre del barrio"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_phone",children:"Teléfono"}),e.jsx(d,{id:"responsable_phone",value:a.responsable.phone,onChange:s=>t("responsable",{...a.responsable,phone:s.target.value}),placeholder:"601 234 5678"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_city",children:"Ciudad *"}),e.jsx(d,{id:"responsable_city",value:a.responsable.city,onChange:s=>t("responsable",{...a.responsable,city:s.target.value}),placeholder:"Ciudad"}),r["responsable.city"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.city"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsable_department",children:"Departamento *"}),e.jsx(d,{id:"responsable_department",value:a.responsable.department,onChange:s=>t("responsable",{...a.responsable,department:s.target.value}),placeholder:"Departamento"}),r["responsable.department"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["responsable.department"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(n,{className:"text-lg font-semibold",children:"¿La matrícula es para un menor de edad?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:"Si la matrícula es para un menor de edad, deberá ingresar los datos del estudiante en el siguiente paso."}),e.jsxs(w,{value:a.is_minor?"yes":"no",onValueChange:s=>t("is_minor",s==="yes"),className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"is_minor_no"}),e.jsx(n,{htmlFor:"is_minor_no",children:"No, soy yo quien estudiará"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"is_minor_yes"}),e.jsx(n,{htmlFor:"is_minor_yes",children:"Sí, es para un menor de edad"})]})]})]})]})]});case 3:return a.is_minor?e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Datos del Estudiante"}),e.jsx(F,{children:"Ingrese los datos del estudiante menor de edad"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_name",children:"Nombre del Estudiante *"}),e.jsx(d,{id:"estudiante_name",value:a.estudiante.name,onChange:s=>t("estudiante",{...a.estudiante,name:s.target.value}),placeholder:"Nombre"}),r["estudiante.name"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["estudiante.name"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_last_name",children:"Apellidos *"}),e.jsx(d,{id:"estudiante_last_name",value:a.estudiante.last_name,onChange:s=>t("estudiante",{...a.estudiante,last_name:s.target.value}),placeholder:"Apellidos"}),r["estudiante.last_name"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["estudiante.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_document_type",children:"Tipo de Documento *"}),e.jsxs(E,{value:a.estudiante.document_type,onValueChange:s=>t("estudiante",{...a.estudiante,document_type:s}),children:[e.jsx(I,{children:e.jsx(A,{placeholder:"Seleccione"})}),e.jsxs(P,{children:[e.jsx(v,{value:"TI",children:"T.I"}),e.jsx(v,{value:"CC",children:"C.C"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"estudiante_document_number",children:"Número de Documento *"}),e.jsx(d,{id:"estudiante_document_number",value:a.estudiante.document_number,onChange:s=>t("estudiante",{...a.estudiante,document_number:s.target.value}),placeholder:"Número de documento"}),r["estudiante.document_number"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["estudiante.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_birth_place",children:"Lugar de Nacimiento"}),e.jsx(d,{id:"estudiante_birth_place",value:a.estudiante.birth_place,onChange:s=>t("estudiante",{...a.estudiante,birth_place:s.target.value}),placeholder:"Ciudad o Municipio"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(d,{id:"estudiante_birth_date",type:"date",value:a.estudiante.birth_date,onChange:s=>t("estudiante",{...a.estudiante,birth_date:s.target.value})}),r["estudiante.birth_date"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["estudiante.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Género *"}),e.jsxs(w,{value:a.estudiante.gender,onValueChange:s=>t("estudiante",{...a.estudiante,gender:s}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"M",id:"estudiante_gender_m"}),e.jsx(n,{htmlFor:"estudiante_gender_m",children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"F",id:"estudiante_gender_f"}),e.jsx(n,{htmlFor:"estudiante_gender_f",children:"Femenino"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"estudiante_email",children:"Correo Electrónico del Estudiante (Opcional)"}),e.jsx(d,{id:"estudiante_email",type:"email",value:a.estudiante.email,onChange:s=>t("estudiante",{...a.estudiante,email:s.target.value}),placeholder:"correo@ejemplo.com"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Si el estudiante tiene correo, podrá acceder para ver su avance. Los pagos y facturas siempre se enviarán al correo del responsable."}),r["estudiante.email"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["estudiante.email"]})]})]})]}):(x(),null);case 4:return e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Datos Musicales"}),e.jsxs(F,{children:["Información sobre experiencia musical ",a.is_minor?"del estudiante":""]})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"¿Ejecuta algún instrumento? (Considere Voz/Canto como instrumento)"}),e.jsxs(w,{value:a.datos_musicales.plays_instrument?"yes":"no",onValueChange:s=>t("datos_musicales",{...a.datos_musicales,plays_instrument:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"plays_yes"}),e.jsx(n,{htmlFor:"plays_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"plays_no"}),e.jsx(n,{htmlFor:"plays_no",children:"No"})]})]})]}),a.datos_musicales.plays_instrument&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"instruments_played",children:"Indique cuál o cuáles instrumentos"}),e.jsx(z,{id:"instruments_played",value:a.datos_musicales.instruments_played,onChange:s=>t("datos_musicales",{...a.datos_musicales,instruments_played:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto",rows:2})]}),e.jsxs("div",{children:[e.jsx(n,{children:"¿Tiene estudios formales de música?"}),e.jsxs(w,{value:a.datos_musicales.has_music_studies?"yes":"no",onValueChange:s=>t("datos_musicales",{...a.datos_musicales,has_music_studies:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"yes",id:"studies_yes"}),e.jsx(n,{htmlFor:"studies_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{value:"no",id:"studies_no"}),e.jsx(n,{htmlFor:"studies_no",children:"No"})]})]})]}),a.datos_musicales.has_music_studies&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"music_schools",children:"Nombre(s) de escuela(s) de estudios musicales"}),e.jsx(z,{id:"music_schools",value:a.datos_musicales.music_schools,onChange:s=>t("datos_musicales",{...a.datos_musicales,music_schools:s.target.value}),placeholder:"Ej: Conservatorio Nacional, Academia XYZ",rows:2})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"desired_instrument",children:"Instrumento que desea estudiar *"}),e.jsx(d,{id:"desired_instrument",value:a.datos_musicales.desired_instrument,onChange:s=>t("datos_musicales",{...a.datos_musicales,desired_instrument:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto, Batería, Bajo"}),r["datos_musicales.desired_instrument"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["datos_musicales.desired_instrument"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"modality",children:"Modalidad según edad *"}),e.jsxs(E,{value:a.datos_musicales.modality,onValueChange:s=>t("datos_musicales",{...a.datos_musicales,modality:s}),children:[e.jsx(I,{children:e.jsx(A,{placeholder:"Seleccione una modalidad"})}),e.jsxs(P,{children:[e.jsx(v,{value:"Linaje Kids",children:"Linaje Kids - Niños (4 - 9 años)"}),e.jsx(v,{value:"Linaje Teens",children:"Linaje Teens - Adolescentes (10 - 17 años)"}),e.jsx(v,{value:"Linaje Big",children:"Linaje Big - Mayores de 18 años"})]})]}),r["datos_musicales.modality"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["datos_musicales.modality"]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"current_level",children:"Nivel a inscribirse *"}),e.jsx(d,{id:"current_level",type:"number",min:"1",value:a.datos_musicales.current_level,onChange:s=>t("datos_musicales",{...a.datos_musicales,current_level:parseInt(s.target.value)||1}),placeholder:"Ej: 1"}),r["datos_musicales.current_level"]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r["datos_musicales.current_level"]})]})]})]});case 5:return e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Selección de Programa"}),e.jsx(F,{children:"Elija el programa académico al que desea inscribirse"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"program",children:"Programa Académico *"}),e.jsxs(E,{value:a.program_id,onValueChange:s=>t("program_id",s),children:[e.jsx(I,{children:e.jsx(A,{placeholder:"Seleccione un programa"})}),e.jsx(P,{children:i.map(s=>e.jsx(v,{value:s.id.toString(),children:s.name},s.id))})]}),r.program_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.program_id})]}),a.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:i.find(s=>s.id.toString()===a.program_id)?.name}),e.jsx("p",{className:"text-sm text-gray-700",children:i.find(s=>s.id.toString()===a.program_id)?.description})]}),i.find(s=>s.id.toString()===a.program_id)?.schedules&&i.find(s=>s.id.toString()===a.program_id).schedules.length>0&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"schedule",children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Selecciona un horario si deseas inscribirte en una clase específica"}),e.jsxs(E,{value:a.schedule_id||void 0,onValueChange:s=>t("schedule_id",s||""),children:[e.jsx(I,{children:e.jsx(A,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(P,{children:i.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>s.has_capacity).map(s=>e.jsxs(v,{value:s.id.toString(),children:[s.days_of_week," | ",s.start_time," - ",s.end_time," |"," ","Prof. ",s.professor.name," | Cupos: ",s.available_slots]},s.id))})]}),a.schedule_id&&e.jsx(k,{type:"button",variant:"ghost",size:"sm",onClick:()=>t("schedule_id",""),className:"text-xs text-gray-600 hover:text-gray-900",children:"Limpiar selección"}),i.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>!s.has_capacity).length>0&&e.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"text-xs text-red-800 font-semibold mb-1",children:"Horarios sin cupos disponibles:"}),i.find(s=>s.id.toString()===a.program_id).schedules.filter(s=>!s.has_capacity).map(s=>e.jsxs("p",{className:"text-xs text-red-700",children:["• ",s.days_of_week," ",s.start_time," - ",s.end_time," (Prof."," ",s.professor.name,")"]},s.id))]})]})]})]})]});case 6:return e.jsxs(N,{children:[e.jsxs(C,{children:[e.jsx(R,{children:"Autorizaciones y Compromiso"}),e.jsx(F,{children:"Lea y acepte los términos antes de completar la matrícula"})]}),e.jsxs(S,{className:"space-y-6",children:[a.is_minor&&e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Autorización para Menores de Edad"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Por medio de la presente doy la autorización a mi hijo(a)"," ",e.jsxs("strong",{children:[a.estudiante.name," ",a.estudiante.last_name]})," ","para que estudie y desarrolle en el programa de"," ",e.jsx("strong",{children:i.find(s=>s.id.toString()===a.program_id)?.name})," bajo la modalidad de ",e.jsx("strong",{children:a.datos_musicales.modality})," en la Academia de formación Musical y Espiritual LINAJE. Estoy de acuerdo en la completa aplicación del reglamento de la academia."]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(q,{id:"parental_authorization",checked:a.parental_authorization,onCheckedChange:s=>t("parental_authorization",s)}),e.jsx(n,{htmlFor:"parental_authorization",className:"text-sm font-medium",children:"Acepto y autorizo como responsable legal"})]}),r.parental_authorization&&e.jsx("p",{className:"text-sm text-red-600",children:r.parental_authorization})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Compromiso de Pago"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["La Academia de formación Musical y Espiritual LINAJE, desea tener constancia del compromiso de pago que hace usted como ",a.is_minor?"padre, madre o encargado del estudiante menor de edad":"estudiante inscrito",". Este compromiso se extiende desde que el estudiante es aceptado hasta que el mismo termina el programa escogido o decide no continuar con sus estudios en la Academia."]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Mediante este documento usted deja constado todo lo que involucra en los Pagos de Inscripciones y Matrículas. Entiéndase que en caso de que una de las partes no cumpla con dicho acuerdo, es usted quien tiene la responsabilidad final de los pagos con la Academia."}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Nombre del Estudiante:"})," ",a.is_minor?`${a.estudiante.name} ${a.estudiante.last_name}`:`${a.responsable.name} ${a.responsable.last_name}`]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Modalidad:"})," ",a.datos_musicales.modality]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Programa:"})," ",i.find(s=>s.id.toString()===a.program_id)?.name]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(q,{id:"payment_commitment",checked:a.payment_commitment,onCheckedChange:s=>t("payment_commitment",s)}),e.jsx(n,{htmlFor:"payment_commitment",className:"text-sm font-medium",children:"Acepto el compromiso de pago"})]}),r.payment_commitment&&e.jsx("p",{className:"text-sm text-red-600",children:r.payment_commitment})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[e.jsx(je,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-semibold text-green-900",children:"¡Todo listo!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:'Haz clic en "Completar Matrícula" para finalizar el proceso'})]})]})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{title:"Matrícula - Academia Linaje"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Formato de Ingreso"}),e.jsx("p",{className:"text-gray-600",children:"Academia de Formación Musical y Espiritual LINAJE"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5,6].map(s=>e.jsx("div",{className:`flex-1 h-2 mx-1 rounded-full ${s<=l?"bg-amber-600":"bg-gray-200"}`},s))}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Paso ",l," de ",c]})]}),e.jsxs("form",{onSubmit:j,children:[Object.keys(r).length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Hay errores en el formulario:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:Object.entries(r).map(([s,p])=>e.jsxs("li",{children:[s,": ",p]},s))})]}),g(),e.jsxs("div",{className:"flex justify-between mt-6",children:[l>1&&e.jsxs(k,{type:"button",onClick:_,variant:"outline",children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Anterior"]}),l<c&&e.jsxs(k,{type:"button",onClick:x,className:"ml-auto",children:["Siguiente",e.jsx(pe,{className:"h-4 w-4 ml-2"})]}),l===c&&e.jsx(k,{type:"submit",disabled:h||!a.payment_commitment||a.is_minor&&!a.parental_authorization,className:"ml-auto bg-green-600 hover:bg-green-700",children:h?"Procesando...":"Completar Matrícula"})]})]})]})})]})}export{Ke as default};
