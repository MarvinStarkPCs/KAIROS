import{r as n,j as e,H as f}from"./app-Bwq8_fRv.js";import{C as m,a as x,b as p,c as u,d as h}from"./card-BstRDk56.js";import{T as N}from"./toaster-WosMWTvW.js";import"./app-B6xMo_Bz.js";import"./index-CRNgrkoA.js";function v({publicKey:a,amountInCents:r,reference:t,currency:o="COP",redirectUrl:i,customerEmail:l,customerName:c,integritySignature:d=null}){const j=n.useRef(null);n.useEffect(()=>{console.log("üöÄ WompiWidget montado"),console.log("üìã Configuraci√≥n:",{publicKey:a,amountInCents:r,reference:t,currency:o,redirectUrl:i,customerEmail:l,customerName:c,hasSignature:!!d}),g()},[]);const g=()=>{if(document.querySelector('script[src="https://checkout.wompi.co/widget.js"]')){console.log("‚úÖ Script de Wompi ya cargado");return}const s=document.createElement("script");s.src="https://checkout.wompi.co/widget.js",s.async=!0,s.onload=()=>{console.log("‚úÖ Script de Wompi cargado correctamente")},s.onerror=()=>{console.error("‚ùå Error al cargar el script de Wompi")},document.head.appendChild(s)},b=(s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?s:(console.warn("‚ö†Ô∏è Email inv√°lido detectado:",s),"noreply@academialinaje.com"))(l);return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-6 p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Pago Seguro con Wompi"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Haz clic en el bot√≥n para proceder con el pago"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["$",(r/100).toLocaleString("es-CO")," COP"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Referencia: ",t]})]})]})}),e.jsx("form",{ref:j,children:e.jsx("script",{src:"https://checkout.wompi.co/widget.js","data-render":"button","data-public-key":a,"data-currency":o,"data-amount-in-cents":r.toString(),"data-reference":t,"data-redirect-url":i,"data-customer-data:email":b,"data-customer-data:full-name":c,...d&&{"data-signature:integrity":d}})}),e.jsx("div",{className:"mt-6",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Instrucciones de pago"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Haz clic en el bot√≥n de Wompi que aparece arriba"}),e.jsx("li",{children:"‚Ä¢ Se abrir√° el formulario de pago de Wompi"}),e.jsx("li",{children:"‚Ä¢ Ingresa los datos de tu tarjeta de forma segura"}),e.jsx("li",{children:"‚Ä¢ Ser√°s redirigido autom√°ticamente al completar"})]})]})]})})})]})}function P({payment:a,wompiPublicKey:r,redirectUrl:t,amountInCents:o,integritySignature:i}){const l=a.student.email||"noreply@academialinaje.com",c=`${a.student.name} ${a.student.last_name}`;return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Pagar Matr√≠cula"}),e.jsx(N,{}),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Completar Matr√≠cula"}),e.jsx("p",{className:"text-gray-600",children:"Solo falta un paso para completar tu matr√≠cula"})]}),e.jsxs(m,{className:"mb-6",children:[e.jsxs(x,{children:[e.jsx(p,{children:"Resumen de Pago"}),e.jsx(u,{children:"Revisa los detalles de tu matr√≠cula"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Estudiante:"}),e.jsx("span",{className:"font-medium",children:c})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Programa:"}),e.jsx("span",{className:"font-medium",children:a.program.name})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Concepto:"}),e.jsx("span",{className:"font-medium",children:a.concept})]}),e.jsxs("div",{className:"flex justify-between py-3 bg-gray-50 px-4 rounded-lg",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total a pagar:"}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",a.amount.toLocaleString("es-CO")," COP"]})]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(p,{children:"Pago con Tarjeta"}),e.jsx(u,{children:"Ingresa los datos de tu tarjeta de cr√©dito o d√©bito"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"üí≥ Pago Autom√°tico con Tarjeta:"})," Al registrar tu tarjeta de cr√©dito o d√©bito, se configurar√°n cobros mensuales autom√°ticos. Tu tarjeta se cargar√° autom√°ticamente cada mes sin necesidad de realizar el pago manualmente."]})}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Correo de notificaciones:"})," ",l]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recibir√°s la confirmaci√≥n de pago y facturas en este correo"})]}),e.jsx(v,{publicKey:r,amountInCents:o,reference:a.wompi_reference,redirectUrl:t,customerEmail:l,customerName:c,integritySignature:i}),e.jsx("div",{className:"mt-8 pt-6 border-t",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Pago seguro procesado por Wompi"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["¬øTienes problemas con el pago?"," ",e.jsx("a",{href:"mailto:soporte@academialinaje.com",className:"text-primary hover:underline",children:"Cont√°ctanos"})]})})]})})]})}export{P as default};
