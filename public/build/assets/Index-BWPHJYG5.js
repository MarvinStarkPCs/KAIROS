import{r as u,j as e,H as A,L as g,a as x}from"./app-CCy7W__U.js";import{A as H}from"./app-layout-Cgwn0YwR.js";import{B as i}from"./button-BPe5EzVr.js";import{I as L}from"./input-fxUu1f-f.js";import{C as t,a as c,b as l,d as n}from"./card-wEqWHHWF.js";import{B as f}from"./badge-DGOkHb-1.js";import{T as U,a as $,b as v,c as d,d as z,e as r}from"./table-Dsb1wX4F.js";import{S as C,a as _,b as k,c as E,d as o}from"./select-VKW6tq9v.js";import{P as D}from"./plus-BYJTXpde.js";import{U as R}from"./users-BMfP3czf.js";import{U as V,S as M}from"./app-header-DKqOVDKz.js";import{C as q}from"./clock-BpOyiAsQ.js";import{c as T}from"./createLucideIcon-CmQENsVl.js";import{E as X}from"./eye-DTEBH_m8.js";import{S as G}from"./square-pen-lq7hdAT4.js";import"./app-C6vnqMAD.js";import"./utils-CBfrqCZ4.js";import"./index-m7oUW3f4.js";import"./index-B9GwPkn3.js";import"./index-Drvm0ZTs.js";import"./toaster-CG-J_icD.js";import"./check-DzagFdTk.js";import"./index-YEfPdCwI.js";import"./wayfinder-FFrBTblC.js";import"./house-DKoGCZg9.js";import"./lock-BzKk68zL.js";import"./shield-BzqX2DKN.js";import"./music-Bsm2Yhl0.js";import"./mail-7oQab10h.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],J=T("Trash",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Q=T("UserX",O);function Ee({enrollments:a,stats:h,programs:I,students:W,filters:m}){const[N,w]=u.useState(m.search||""),[j,y]=u.useState(m.program_id||"all"),[p,b]=u.useState(m.status||"all"),S=()=>{x.get("/inscripciones",{search:N||void 0,program_id:j!=="all"?j:void 0,status:p!=="all"?p:void 0},{preserveState:!0,preserveScroll:!0})},B=()=>{w(""),y("all"),b("all"),x.get("/inscripciones")},F=s=>{confirm("¿Estás seguro de eliminar esta inscripción?")&&x.delete(`/inscripciones/${s}`)},P=s=>({active:e.jsx(f,{className:"bg-green-500",children:"Activo"}),waiting:e.jsx(f,{className:"bg-yellow-500",children:"En espera"}),withdrawn:e.jsx(f,{className:"bg-gray-500",children:"Retirado"})})[s];return e.jsxs(H,{children:[e.jsx(A,{title:"Inscripciones"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Inscripciones a Programas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona las inscripciones de estudiantes a programas académicos"})]}),e.jsx(g,{href:"/inscripciones/create",children:e.jsxs(i,{children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Nueva Inscripción"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(t,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Inscripciones"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.total_enrollments})})]}),e.jsxs(t,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Activos"}),e.jsx(V,{className:"h-4 w-4 text-green-500"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.active_enrollments})})]}),e.jsxs(t,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"En Espera"}),e.jsx(q,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.waiting_list})})]}),e.jsxs(t,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Retirados"}),e.jsx(Q,{className:"h-4 w-4 text-gray-500"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold",children:h.withdrawn})})]})]}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(l,{children:"Filtros"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx(L,{placeholder:"Buscar estudiante...",value:N,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&S()})}),e.jsxs(C,{value:j,onValueChange:y,children:[e.jsx(_,{className:"w-[200px]",children:e.jsx(k,{placeholder:"Programa"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos los programas"}),I.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(C,{value:p,onValueChange:b,children:[e.jsx(_,{className:"w-[180px]",children:e.jsx(k,{placeholder:"Estado"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos los estados"}),e.jsx(o,{value:"active",children:"Activo"}),e.jsx(o,{value:"waiting",children:"En espera"}),e.jsx(o,{value:"withdrawn",children:"Retirado"})]})]}),e.jsxs(i,{onClick:S,children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(i,{variant:"outline",onClick:B,children:"Limpiar"})]})})]}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsxs(l,{children:["Inscripciones (",a.total,")"]})}),e.jsxs(n,{children:[e.jsxs(U,{children:[e.jsx($,{children:e.jsxs(v,{children:[e.jsx(d,{children:"ID"}),e.jsx(d,{children:"Estudiante"}),e.jsx(d,{children:"Programa"}),e.jsx(d,{children:"Fecha Inscripción"}),e.jsx(d,{children:"Estado"}),e.jsx(d,{className:"text-right",children:"Acciones"})]})}),e.jsx(z,{children:a.data.length===0?e.jsx(v,{children:e.jsx(r,{colSpan:6,className:"text-center text-muted-foreground",children:"No se encontraron inscripciones"})}):a.data.map(s=>e.jsxs(v,{children:[e.jsxs(r,{className:"font-medium",children:["#",s.id]}),e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.student.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.student.email})]})}),e.jsx(r,{children:s.program.name}),e.jsx(r,{children:new Date(s.enrollment_date).toLocaleDateString("es-ES")}),e.jsx(r,{children:P(s.status)}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{href:`/inscripciones/${s.id}`,children:e.jsx(i,{variant:"ghost",size:"sm",children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(g,{href:`/inscripciones/${s.id}/edit`,children:e.jsx(i,{variant:"ghost",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(J,{className:"h-4 w-4 text-destructive"})})]})})]},s.id))})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&e.jsx(i,{variant:"outline",onClick:()=>x.get(`/inscripciones?page=${a.current_page-1}`),children:"Anterior"}),a.current_page<a.last_page&&e.jsx(i,{variant:"outline",onClick:()=>x.get(`/inscripciones?page=${a.current_page+1}`),children:"Siguiente"})]})]})]})]})]})]})}export{Ee as default};
