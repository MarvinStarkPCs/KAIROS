import{r as _,j as e,u as be,H as _e,a as ve}from"./app--oLSQgjR.js";import{u as K,B as G}from"./button-BN7WC3q7.js";import{I as h}from"./input-Ceth1V_o.js";import{L as i}from"./label-CI16Evlv.js";import{T as V}from"./textarea-BkXtqKRq.js";import{g as X,e as fe,u as ye,c as Y,R as Ne,I as Ce,a as H,P as we,b as Se,d as Ee,t as Re}from"./index-DspzWAaE.js";import{P as q}from"./index-q7SesbL1.js";import{c as k}from"./utils-CBfrqCZ4.js";import{c as Fe}from"./createLucideIcon-BfRBFJrZ.js";import{C as J}from"./checkbox-BvfARueK.js";import{C as T,a as L,b as D,c as $,d as z}from"./card-v20oQSZV.js";import{S as E,a as R,b as F,c as I,d}from"./select-D4UQb-Nz.js";import{I as m}from"./input-error-CS3te8Ah.js";import{C as O}from"./check-Bzr3pQh7.js";import{C as Ie}from"./chevron-left-Cj1HtuQq.js";import{C as Q}from"./circle-alert-BZgnUqw5.js";import{C as W}from"./circle-check-big-DnJPjtNy.js";import{P as Pe}from"./plus-UnR-pMWe.js";import{U as Ae}from"./user-a4IGQp05.js";import{T as Me}from"./trash-2-ChWuF7fE.js";import"./app-dy3UidUM.js";import"./index-DnquCMmM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Te=Fe("Circle",ke);var U="Radio",[Le,Z]=Y(U),[De,$e]=Le(U),ee=_.forwardRef((c,o)=>{const{__scopeRadio:p,name:b,checked:r=!1,required:j,disabled:a,value:t="on",onCheck:w,form:C,...l}=c,[y,S]=_.useState(null),f=K(o,P=>S(P)),u=_.useRef(!1),N=y?C||!!y.closest("form"):!0;return e.jsxs(De,{scope:p,checked:r,disabled:a,children:[e.jsx(q.button,{type:"button",role:"radio","aria-checked":r,"data-state":ne(r),"data-disabled":a?"":void 0,disabled:a,value:t,...l,ref:f,onClick:H(c.onClick,P=>{r||w?.(),N&&(u.current=P.isPropagationStopped(),u.current||P.stopPropagation())})}),N&&e.jsx(re,{control:y,bubbles:!u.current,name:b,value:t,checked:r,required:j,disabled:a,form:C,style:{transform:"translateX(-100%)"}})]})});ee.displayName=U;var se="RadioIndicator",ae=_.forwardRef((c,o)=>{const{__scopeRadio:p,forceMount:b,...r}=c,j=$e(se,p);return e.jsx(we,{present:b||j.checked,children:e.jsx(q.span,{"data-state":ne(j.checked),"data-disabled":j.disabled?"":void 0,...r,ref:o})})});ae.displayName=se;var ze="RadioBubbleInput",re=_.forwardRef(({__scopeRadio:c,control:o,checked:p,bubbles:b=!0,...r},j)=>{const a=_.useRef(null),t=K(a,j),w=Se(p),C=Ee(o);return _.useEffect(()=>{const l=a.current;if(!l)return;const y=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(y,"checked").set;if(w!==p&&f){const u=new Event("click",{bubbles:b});f.call(l,p),l.dispatchEvent(u)}},[w,p,b]),e.jsx(q.input,{type:"radio","aria-hidden":!0,defaultChecked:p,...r,tabIndex:-1,ref:t,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});re.displayName=ze;function ne(c){return c?"checked":"unchecked"}var Ge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],B="RadioGroup",[Ve,xs]=Y(B,[X,Z]),ie=X(),le=Z(),[qe,Be]=Ve(B),te=_.forwardRef((c,o)=>{const{__scopeRadioGroup:p,name:b,defaultValue:r,value:j,required:a=!1,disabled:t=!1,orientation:w,dir:C,loop:l=!0,onValueChange:y,...S}=c,f=ie(p),u=fe(C),[N,P]=ye({prop:j,defaultProp:r??null,onChange:y,caller:B});return e.jsx(qe,{scope:p,name:b,required:a,disabled:t,value:N,onValueChange:P,children:e.jsx(Ne,{asChild:!0,...f,orientation:w,dir:u,loop:l,children:e.jsx(q.div,{role:"radiogroup","aria-required":a,"aria-orientation":w,"data-disabled":t?"":void 0,dir:u,...S,ref:o})})})});te.displayName=B;var oe="RadioGroupItem",de=_.forwardRef((c,o)=>{const{__scopeRadioGroup:p,disabled:b,...r}=c,j=Be(oe,p),a=j.disabled||b,t=ie(p),w=le(p),C=_.useRef(null),l=K(o,C),y=j.value===r.value,S=_.useRef(!1);return _.useEffect(()=>{const f=N=>{Ge.includes(N.key)&&(S.current=!0)},u=()=>S.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",u)}},[]),e.jsx(Ce,{asChild:!0,...t,focusable:!a,active:y,children:e.jsx(ee,{disabled:a,required:j.required,checked:y,...w,...r,name:j.name,ref:l,onCheck:()=>j.onValueChange(r.value),onKeyDown:H(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:H(r.onFocus,()=>{S.current&&C.current?.click()})})})});de.displayName=oe;var Oe="RadioGroupIndicator",ce=_.forwardRef((c,o)=>{const{__scopeRadioGroup:p,...b}=c,r=le(p);return e.jsx(ae,{...r,...b,ref:o})});ce.displayName=Oe;var me=te,ue=de,He=ce;const M=_.forwardRef(({className:c,...o},p)=>e.jsx(me,{className:k("grid gap-2",c),...o,ref:p}));M.displayName=me.displayName;const v=_.forwardRef(({className:c,...o},p)=>e.jsx(ue,{ref:p,className:k("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",c),...o,children:e.jsx(He,{className:"flex items-center justify-center",children:e.jsx(Te,{className:"h-2.5 w-2.5 fill-current text-current"})})}));v.displayName=ue.displayName;function hs({programs:c}){const[o,p]=_.useState(1),b=4,[r,j]=_.useState(0),{data:a,setData:t,post:w,processing:C,errors:l}=be({responsable:{name:"",last_name:"",email:"",password:"",password_confirmation:"",document_type:"CC",document_number:"",birth_place:"",birth_date:"",gender:"M",address:"",neighborhood:"",phone:"",mobile:"",city:"",department:"",plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",desired_instrument:"",modality:"",current_level:1,program_id:"",schedule_id:""},is_minor:!1,estudiantes:[],parental_authorization:!1,payment_commitment:!1}),y=()=>({name:"",last_name:"",email:"",document_type:"TI",document_number:"",birth_place:"",birth_date:"",gender:"M",datos_musicales:{plays_instrument:!1,instruments_played:"",has_music_studies:!1,music_schools:"",desired_instrument:"",modality:"",current_level:1},program_id:"",schedule_id:""}),S=()=>{t("estudiantes",[...a.estudiantes,y()]),j(a.estudiantes.length)},f=n=>{const s=a.estudiantes.filter((x,g)=>g!==n);t("estudiantes",s),r>=s.length&&j(Math.max(0,s.length-1))},u=(n,s,x)=>{const g=[...a.estudiantes],A=s.split(".");A.length===2&&A[0]==="datos_musicales"?g[n]={...g[n],datos_musicales:{...g[n].datos_musicales,[A[1]]:x}}:g[n]={...g[n],[s]:x},t("estudiantes",g)},N=n=>{switch(n){case 1:return!!(a.responsable.name&&a.responsable.last_name&&a.responsable.email&&a.responsable.password&&a.responsable.password_confirmation&&a.responsable.document_number&&a.responsable.birth_date&&a.responsable.mobile);case 2:return!!(a.responsable.address&&a.responsable.city&&a.responsable.department);case 3:return a.is_minor?a.estudiantes.length===0?!1:a.estudiantes.every(s=>s.name&&s.last_name&&s.document_number&&s.birth_date&&s.datos_musicales.desired_instrument&&s.datos_musicales.modality&&s.program_id):!!(a.responsable.desired_instrument&&a.responsable.modality&&a.responsable.program_id);case 4:return a.is_minor?a.parental_authorization&&a.payment_commitment:a.payment_commitment;default:return!1}},P=()=>{o<b&&(window.scrollTo({top:0,behavior:"smooth"}),p(o+1))},pe=()=>{o>1&&(window.scrollTo({top:0,behavior:"smooth"}),p(o-1))},xe=n=>{n>=1&&n<=b&&(window.scrollTo({top:0,behavior:"smooth"}),p(n))},he=n=>{n.preventDefault();const s={responsable:a.responsable,is_minor:a.is_minor,payment_commitment:a.payment_commitment};a.is_minor&&(s.estudiantes=a.estudiantes,s.parental_authorization=a.parental_authorization),console.log("Enviando formulario con datos:",s),ve.post("/matricula",s,{onError:x=>{console.log("Errores de validación:",x),window.scrollTo({top:0,behavior:"smooth"})},onSuccess:()=>{console.log("Matrícula completada exitosamente")}})},je=()=>{switch(o){case 1:return e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsx(D,{children:"Datos del Responsable"}),e.jsx($,{children:"Ingrese los datos de la persona responsable de la matrícula"})]}),e.jsxs(z,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_name",children:"Nombre *"}),e.jsx(h,{id:"responsable_name",value:a.responsable.name,onChange:s=>t("responsable",{...a.responsable,name:s.target.value}),placeholder:"Nombre"}),e.jsx(m,{message:l["responsable.name"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_last_name",children:"Apellidos *"}),e.jsx(h,{id:"responsable_last_name",value:a.responsable.last_name,onChange:s=>t("responsable",{...a.responsable,last_name:s.target.value}),placeholder:"Apellidos"}),e.jsx(m,{message:l["responsable.last_name"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_document_type",children:"Tipo de Documento *"}),e.jsxs(E,{value:a.responsable.document_type,onValueChange:s=>t("responsable",{...a.responsable,document_type:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione"})}),e.jsxs(I,{children:[e.jsx(d,{value:"CC",children:"C.C"}),e.jsx(d,{value:"TI",children:"T.I"}),e.jsx(d,{value:"CE",children:"C.E"}),e.jsx(d,{value:"Pasaporte",children:"Pasaporte"})]})]}),e.jsx(m,{message:l["responsable.document_type"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"responsable_document_number",children:"Número de Documento *"}),e.jsx(h,{id:"responsable_document_number",value:a.responsable.document_number,onChange:s=>t("responsable",{...a.responsable,document_number:s.target.value}),placeholder:"Número de documento"}),e.jsx(m,{message:l["responsable.document_number"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_birth_place",children:"Lugar de Nacimiento"}),e.jsx(h,{id:"responsable_birth_place",value:a.responsable.birth_place,onChange:s=>t("responsable",{...a.responsable,birth_place:s.target.value}),placeholder:"Ciudad de nacimiento"}),e.jsx(m,{message:l["responsable.birth_place"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_birth_date",children:"Fecha de Nacimiento *"}),e.jsx(h,{id:"responsable_birth_date",type:"date",value:a.responsable.birth_date,onChange:s=>t("responsable",{...a.responsable,birth_date:s.target.value}),max:new Date().toISOString().split("T")[0]}),e.jsx(m,{message:l["responsable.birth_date"]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Género *"}),e.jsxs(M,{value:a.responsable.gender,onValueChange:s=>t("responsable",{...a.responsable,gender:s}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"M",id:"gender_m"}),e.jsx(i,{htmlFor:"gender_m",children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"F",id:"gender_f"}),e.jsx(i,{htmlFor:"gender_f",children:"Femenino"})]})]}),e.jsx(m,{message:l["responsable.gender"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_email",children:"Correo Electrónico *"}),e.jsx(h,{id:"responsable_email",type:"email",value:a.responsable.email,onChange:s=>t("responsable",{...a.responsable,email:s.target.value}),placeholder:"correo@ejemplo.com"}),e.jsx(m,{message:l["responsable.email"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_phone",children:"Teléfono Fijo"}),e.jsx(h,{id:"responsable_phone",value:a.responsable.phone,onChange:s=>t("responsable",{...a.responsable,phone:s.target.value}),placeholder:"607 123 4567"}),e.jsx(m,{message:l["responsable.phone"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_mobile",children:"Celular *"}),e.jsx(h,{id:"responsable_mobile",value:a.responsable.mobile,onChange:s=>t("responsable",{...a.responsable,mobile:s.target.value}),placeholder:"300 123 4567"}),e.jsx(m,{message:l["responsable.mobile"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_password",children:"Contraseña *"}),e.jsx(h,{id:"responsable_password",type:"password",value:a.responsable.password,onChange:s=>t("responsable",{...a.responsable,password:s.target.value}),placeholder:"Mínimo 8 caracteres"}),e.jsx(m,{message:l["responsable.password"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_password_confirmation",children:"Confirmar Contraseña *"}),e.jsx(h,{id:"responsable_password_confirmation",type:"password",value:a.responsable.password_confirmation,onChange:s=>t("responsable",{...a.responsable,password_confirmation:s.target.value}),placeholder:"Repita la contraseña"}),e.jsx(m,{message:l["responsable.password_confirmation"]})]})]})]})]});case 2:return e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsx(D,{children:"Datos de Localización"}),e.jsx($,{children:"Ingrese la dirección de residencia del responsable"})]}),e.jsxs(z,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_address",children:"Dirección *"}),e.jsx(h,{id:"responsable_address",value:a.responsable.address,onChange:s=>t("responsable",{...a.responsable,address:s.target.value}),placeholder:"Calle 123 #45-67"}),e.jsx(m,{message:l["responsable.address"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_neighborhood",children:"Barrio"}),e.jsx(h,{id:"responsable_neighborhood",value:a.responsable.neighborhood,onChange:s=>t("responsable",{...a.responsable,neighborhood:s.target.value}),placeholder:"Nombre del barrio"}),e.jsx(m,{message:l["responsable.neighborhood"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_city",children:"Ciudad *"}),e.jsx(h,{id:"responsable_city",value:a.responsable.city,onChange:s=>t("responsable",{...a.responsable,city:s.target.value}),placeholder:"Ej: Ocaña, Cúcuta, Bogotá"}),e.jsx(m,{message:l["responsable.city"]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"responsable_department",children:"Departamento *"}),e.jsxs(E,{value:a.responsable.department,onValueChange:s=>t("responsable",{...a.responsable,department:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione departamento"})}),e.jsxs(I,{children:[e.jsx(d,{value:"Norte de Santander",children:"Norte de Santander"}),e.jsx(d,{value:"Santander",children:"Santander"}),e.jsx(d,{value:"Cundinamarca",children:"Cundinamarca"}),e.jsx(d,{value:"Antioquia",children:"Antioquia"}),e.jsx(d,{value:"Valle del Cauca",children:"Valle del Cauca"}),e.jsx(d,{value:"Atlántico",children:"Atlántico"}),e.jsx(d,{value:"Bolívar",children:"Bolívar"}),e.jsx(d,{value:"Boyacá",children:"Boyacá"}),e.jsx(d,{value:"Caldas",children:"Caldas"}),e.jsx(d,{value:"Cesar",children:"Cesar"}),e.jsx(d,{value:"Córdoba",children:"Córdoba"}),e.jsx(d,{value:"Huila",children:"Huila"}),e.jsx(d,{value:"Magdalena",children:"Magdalena"}),e.jsx(d,{value:"Meta",children:"Meta"}),e.jsx(d,{value:"Nariño",children:"Nariño"}),e.jsx(d,{value:"Quindío",children:"Quindío"}),e.jsx(d,{value:"Risaralda",children:"Risaralda"}),e.jsx(d,{value:"Tolima",children:"Tolima"}),e.jsx(d,{value:"Otro",children:"Otro"})]})]}),e.jsx(m,{message:l["responsable.department"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(i,{className:"text-lg font-semibold",children:"¿La matrícula es para un menor de edad?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:"Si la matrícula es para uno o más menores de edad, deberá ingresar los datos de cada estudiante en el siguiente paso."}),e.jsxs(M,{value:a.is_minor?"yes":"no",onValueChange:s=>{const x=s==="yes";x&&a.estudiantes.length===0?(t({...a,is_minor:!0,estudiantes:[y()]}),j(0)):t("is_minor",x)},className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"no",id:"is_minor_no"}),e.jsx(i,{htmlFor:"is_minor_no",children:"No, soy yo quien estudiará"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"yes",id:"is_minor_yes"}),e.jsx(i,{htmlFor:"is_minor_yes",children:"Sí, es para uno o más menores"})]})]}),e.jsx(m,{message:l.is_minor})]})]})]});case 3:if(!a.is_minor)return e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsx(D,{children:"Datos Musicales y Programa"}),e.jsx($,{children:"Completa tu información musical y selecciona el programa al que deseas inscribirte"})]}),e.jsxs(z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Experiencia Musical"}),e.jsxs("div",{children:[e.jsx(i,{children:"¿Ejecutas algún instrumento?"}),e.jsxs(M,{value:a.responsable.plays_instrument?"yes":"no",onValueChange:s=>t("responsable",{...a.responsable,plays_instrument:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"yes",id:"adult_plays_yes"}),e.jsx(i,{htmlFor:"adult_plays_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"no",id:"adult_plays_no"}),e.jsx(i,{htmlFor:"adult_plays_no",children:"No"})]})]})]}),a.responsable.plays_instrument&&e.jsxs("div",{children:[e.jsx(i,{children:"Indique cuál o cuáles instrumentos"}),e.jsx(V,{value:a.responsable.instruments_played||"",onChange:s=>t("responsable",{...a.responsable,instruments_played:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto",rows:2})]}),e.jsxs("div",{children:[e.jsx(i,{children:"¿Tienes estudios formales de música?"}),e.jsxs(M,{value:a.responsable.has_music_studies?"yes":"no",onValueChange:s=>t("responsable",{...a.responsable,has_music_studies:s==="yes"}),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"yes",id:"adult_studies_yes"}),e.jsx(i,{htmlFor:"adult_studies_yes",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"no",id:"adult_studies_no"}),e.jsx(i,{htmlFor:"adult_studies_no",children:"No"})]})]})]}),a.responsable.has_music_studies&&e.jsxs("div",{children:[e.jsx(i,{children:"Nombre(s) de escuela(s)"}),e.jsx(V,{value:a.responsable.music_schools||"",onChange:s=>t("responsable",{...a.responsable,music_schools:s.target.value}),placeholder:"Ej: Conservatorio Nacional",rows:2})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Instrumento que deseas estudiar *"}),e.jsx(h,{value:a.responsable.desired_instrument||"",onChange:s=>t("responsable",{...a.responsable,desired_instrument:s.target.value}),placeholder:"Ej: Piano, Guitarra, Canto"}),e.jsx(m,{message:l["responsable.desired_instrument"]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Modalidad *"}),e.jsxs(E,{value:a.responsable.modality,onValueChange:s=>t("responsable",{...a.responsable,modality:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione una modalidad"})}),e.jsxs(I,{children:[e.jsx(d,{value:"Linaje Big",children:"Linaje Big (18+ años)"}),e.jsx(d,{value:"Linaje Teens",children:"Linaje Teens (10-17 años)"}),e.jsx(d,{value:"Linaje Kids",children:"Linaje Kids (4-9 años)"})]})]}),e.jsx(m,{message:l["responsable.modality"]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Nivel a inscribirse *"}),e.jsx(h,{type:"number",min:"1",max:"10",value:a.responsable.current_level||1,onChange:s=>t("responsable",{...a.responsable,current_level:parseInt(s.target.value)||1})}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Si eres principiante, deja el nivel en 1"}),e.jsx(m,{message:l["responsable.current_level"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Programa Académico"}),e.jsxs("div",{children:[e.jsx(i,{children:"Programa Académico *"}),e.jsxs(E,{value:a.responsable.program_id,onValueChange:s=>t("responsable",{...a.responsable,program_id:s}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione un programa"})}),e.jsx(I,{children:c.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(m,{message:l["responsable.program_id"]})]}),a.responsable.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:c.find(s=>s.id.toString()===a.responsable.program_id)?.name}),e.jsx("p",{className:"text-sm text-gray-700",children:c.find(s=>s.id.toString()===a.responsable.program_id)?.description})]}),c.find(s=>s.id.toString()===a.responsable.program_id)?.schedules&&c.find(s=>s.id.toString()===a.responsable.program_id).schedules.length>0&&e.jsxs("div",{children:[e.jsx(i,{children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Selecciona un horario si deseas inscribirte en una clase específica"}),e.jsxs(E,{value:a.responsable.schedule_id||void 0,onValueChange:s=>t("responsable",{...a.responsable,schedule_id:s||""}),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(I,{children:c.find(s=>s.id.toString()===a.responsable.program_id).schedules.filter(s=>s.has_capacity).map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.days_of_week," | ",s.start_time," - ",s.end_time," | Prof. ",s.professor.name," | Cupos: ",s.available_slots]},s.id))})]})]})]})]})]})]});const n=a.estudiantes[r];return e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsx(D,{children:"Datos de los Estudiantes"}),e.jsx($,{children:"Ingrese los datos de cada estudiante menor de edad que desea matricular"})]}),e.jsxs(z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:a.estudiantes.length===1?"1 Estudiante":`${a.estudiantes.length} Estudiantes`}),e.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-2 text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Agregar Hijo/a"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.estudiantes.map((s,x)=>{const g=s.name&&s.last_name&&s.document_number&&s.program_id,A=r===x;return e.jsxs("div",{className:k("relative flex items-center gap-2 rounded-lg border-2 transition-all",A?"border-amber-500 bg-amber-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"),children:[e.jsxs("button",{type:"button",onClick:()=>j(x),className:"flex items-center gap-2 px-4 py-2 flex-1",children:[e.jsx("div",{className:k("w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold",A?"bg-amber-600 text-white":g?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:g&&!A?e.jsx(O,{className:"h-4 w-4"}):e.jsx(Ae,{className:"h-4 w-4"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:k("text-sm font-medium",A?"text-amber-900":"text-gray-700"),children:s.name||`Estudiante ${x+1}`}),s.program_id&&e.jsx("p",{className:"text-xs text-gray-500",children:c.find(ge=>ge.id.toString()===s.program_id)?.name})]})]}),a.estudiantes.length>1&&e.jsx("button",{type:"button",onClick:()=>f(x),className:"h-full px-3 border-l-2 border-gray-200 text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors",title:"Eliminar estudiante",children:e.jsx(Me,{className:"h-4 w-4"})})]},x)})})]}),n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Datos Personales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Nombre *"}),e.jsx(h,{value:n.name,onChange:s=>u(r,"name",s.target.value),placeholder:"Nombre"}),e.jsx(m,{message:l[`estudiantes.${r}.name`]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Apellidos *"}),e.jsx(h,{value:n.last_name,onChange:s=>u(r,"last_name",s.target.value),placeholder:"Apellidos"}),e.jsx(m,{message:l[`estudiantes.${r}.last_name`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Tipo de Documento *"}),e.jsxs(E,{value:n.document_type,onValueChange:s=>u(r,"document_type",s),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione"})}),e.jsxs(I,{children:[e.jsx(d,{value:"CC",children:"C.C"}),e.jsx(d,{value:"TI",children:"T.I"}),e.jsx(d,{value:"CE",children:"C.E"}),e.jsx(d,{value:"Pasaporte",children:"Pasaporte"})]})]}),e.jsx(m,{message:l[`estudiantes.${r}.document_type`]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{children:"Número de Documento *"}),e.jsx(h,{value:n.document_number,onChange:s=>u(r,"document_number",s.target.value),placeholder:"Número de documento"}),e.jsx(m,{message:l[`estudiantes.${r}.document_number`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Lugar de Nacimiento"}),e.jsx(h,{value:n.birth_place,onChange:s=>u(r,"birth_place",s.target.value),placeholder:"Ciudad de nacimiento"}),e.jsx(m,{message:l[`estudiantes.${r}.birth_place`]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Fecha de Nacimiento *"}),e.jsx(h,{type:"date",value:n.birth_date,onChange:s=>u(r,"birth_date",s.target.value),max:new Date().toISOString().split("T")[0]}),e.jsx(m,{message:l[`estudiantes.${r}.birth_date`]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Género *"}),e.jsxs(M,{value:n.gender,onValueChange:s=>u(r,"gender",s),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"M",id:`gender_m_${r}`}),e.jsx(i,{htmlFor:`gender_m_${r}`,children:"Masculino"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"F",id:`gender_f_${r}`}),e.jsx(i,{htmlFor:`gender_f_${r}`,children:"Femenino"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Correo Electrónico del Estudiante (Opcional)"}),e.jsx(h,{type:"email",value:n.email,onChange:s=>u(r,"email",s.target.value),placeholder:"correo@ejemplo.com"}),e.jsx(m,{message:l[`estudiantes.${r}.email`]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Si el estudiante tiene correo, podrá acceder para ver su avance"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Datos Musicales"}),e.jsxs("div",{children:[e.jsx(i,{children:"¿Ejecuta algún instrumento?"}),e.jsxs(M,{value:n.datos_musicales.plays_instrument?"yes":"no",onValueChange:s=>u(r,"datos_musicales.plays_instrument",s==="yes"),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"yes",id:`plays_yes_${r}`}),e.jsx(i,{htmlFor:`plays_yes_${r}`,children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"no",id:`plays_no_${r}`}),e.jsx(i,{htmlFor:`plays_no_${r}`,children:"No"})]})]})]}),n.datos_musicales.plays_instrument&&e.jsxs("div",{children:[e.jsx(i,{children:"Indique cuál o cuáles instrumentos"}),e.jsx(V,{value:n.datos_musicales.instruments_played,onChange:s=>u(r,"datos_musicales.instruments_played",s.target.value),placeholder:"Ej: Piano, Guitarra, Canto",rows:2})]}),e.jsxs("div",{children:[e.jsx(i,{children:"¿Tiene estudios formales de música?"}),e.jsxs(M,{value:n.datos_musicales.has_music_studies?"yes":"no",onValueChange:s=>u(r,"datos_musicales.has_music_studies",s==="yes"),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"yes",id:`studies_yes_${r}`}),e.jsx(i,{htmlFor:`studies_yes_${r}`,children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{value:"no",id:`studies_no_${r}`}),e.jsx(i,{htmlFor:`studies_no_${r}`,children:"No"})]})]})]}),n.datos_musicales.has_music_studies&&e.jsxs("div",{children:[e.jsx(i,{children:"Nombre(s) de escuela(s)"}),e.jsx(V,{value:n.datos_musicales.music_schools,onChange:s=>u(r,"datos_musicales.music_schools",s.target.value),placeholder:"Ej: Conservatorio Nacional",rows:2})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Instrumento que desea estudiar *"}),e.jsx(h,{value:n.datos_musicales.desired_instrument,onChange:s=>u(r,"datos_musicales.desired_instrument",s.target.value),placeholder:"Ej: Piano, Guitarra, Canto"}),e.jsx(m,{message:l[`estudiantes.${r}.datos_musicales.desired_instrument`]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Modalidad según edad *"}),e.jsxs(E,{value:n.datos_musicales.modality,onValueChange:s=>u(r,"datos_musicales.modality",s),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione una modalidad"})}),e.jsxs(I,{children:[e.jsx(d,{value:"Linaje Kids",children:"Linaje Kids (4-9 años)"}),e.jsx(d,{value:"Linaje Teens",children:"Linaje Teens (10-17 años)"}),e.jsx(d,{value:"Linaje Big",children:"Linaje Big (18+ años)"})]})]}),e.jsx(m,{message:l[`estudiantes.${r}.datos_musicales.modality`]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Nivel a inscribirse *"}),e.jsx(h,{type:"number",min:"1",max:"10",value:n.datos_musicales.current_level,onChange:s=>u(r,"datos_musicales.current_level",parseInt(s.target.value)||1)}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Si es principiante, deja el nivel en 1"}),e.jsx(m,{message:l[`estudiantes.${r}.datos_musicales.current_level`]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Programa Académico"}),e.jsxs("div",{children:[e.jsx(i,{children:"Programa Académico *"}),e.jsxs(E,{value:n.program_id,onValueChange:s=>u(r,"program_id",s),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione un programa"})}),e.jsx(I,{children:c.map(s=>e.jsx(d,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(m,{message:l[`estudiantes.${r}.program_id`]})]}),n.program_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:c.find(s=>s.id.toString()===n.program_id)?.name}),e.jsx("p",{className:"text-sm text-gray-700",children:c.find(s=>s.id.toString()===n.program_id)?.description})]}),c.find(s=>s.id.toString()===n.program_id)?.schedules&&c.find(s=>s.id.toString()===n.program_id).schedules.length>0&&e.jsxs("div",{children:[e.jsx(i,{children:"Horario (Opcional)"}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Selecciona un horario si deseas inscribirte en una clase específica"}),e.jsxs(E,{value:n.schedule_id||void 0,onValueChange:s=>u(r,"schedule_id",s||""),children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Seleccione un horario (opcional)"})}),e.jsx(I,{children:c.find(s=>s.id.toString()===n.program_id).schedules.filter(s=>s.has_capacity).map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.days_of_week," | ",s.start_time," -"," ",s.end_time," | Prof. ",s.professor.name," | Cupos:"," ",s.available_slots]},s.id))})]})]})]})]})]})]})]});case 4:return e.jsxs(T,{children:[e.jsxs(L,{children:[e.jsx(D,{children:"Autorizaciones y Compromiso"}),e.jsx($,{children:"Lea y acepte los términos antes de completar la matrícula"})]}),e.jsxs(z,{className:"space-y-6",children:[a.is_minor&&e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Autorización para Menores de Edad"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Por medio de la presente doy la autorización a ",a.estudiantes.length>1?"mis hijos":"mi hijo(a)"," ","para que ",a.estudiantes.length>1?"estudien y desarrollen":"estudie y desarrolle"," en la Academia de formación Musical y Espiritual LINAJE. Estoy de acuerdo en la completa aplicación del reglamento de la academia."]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Estudiantes a matricular:"}),a.estudiantes.map((s,x)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded text-sm",children:[e.jsx("p",{children:e.jsxs("strong",{children:[s.name," ",s.last_name]})}),e.jsxs("p",{className:"text-gray-600",children:["Programa: ",c.find(g=>g.id.toString()===s.program_id)?.name||"No seleccionado"]}),e.jsxs("p",{className:"text-gray-600",children:["Modalidad: ",s.datos_musicales.modality]})]},x))]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(J,{id:"parental_authorization",checked:a.parental_authorization,onCheckedChange:s=>t("parental_authorization",s)}),e.jsx(i,{htmlFor:"parental_authorization",className:"text-sm font-medium",children:"Acepto y autorizo como responsable legal"})]}),l.parental_authorization&&e.jsx("p",{className:"text-sm text-red-600",children:l.parental_authorization})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Compromiso de Pago"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["La Academia de formación Musical y Espiritual LINAJE, desea tener constancia del compromiso de pago que hace usted como ",a.is_minor?"padre, madre o encargado de los estudiantes menores de edad":"estudiante inscrito",". Este compromiso se extiende desde que el estudiante es aceptado hasta que el mismo termina el programa escogido o decide no continuar con sus estudios en la Academia."]}),e.jsx("p",{className:"text-sm text-gray-700",children:"Mediante este documento usted deja constado todo lo que involucra en los Pagos de Inscripciones y Matrículas. Entiéndase que en caso de que una de las partes no cumpla con dicho acuerdo, es usted quien tiene la responsabilidad final de los pagos con la Academia."}),a.is_minor&&a.estudiantes.length>0&&e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Resumen de matrículas:"}),a.estudiantes.map((s,x)=>e.jsx("div",{className:"text-sm p-2 bg-gray-50 rounded",children:e.jsxs("p",{children:[e.jsxs("strong",{children:[s.name," ",s.last_name]})," - ",s.datos_musicales.modality," -"," ",c.find(g=>g.id.toString()===s.program_id)?.name]})},x))]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(J,{id:"payment_commitment",checked:a.payment_commitment,onCheckedChange:s=>t("payment_commitment",s)}),e.jsxs(i,{htmlFor:"payment_commitment",className:"text-sm font-medium",children:["Acepto el compromiso de pago para ",a.is_minor?"todos los estudiantes":"la matrícula"]})]}),l.payment_commitment&&e.jsx("p",{className:"text-sm text-red-600",children:l.payment_commitment})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[e.jsx(W,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-semibold text-green-900",children:"¡Todo listo!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:'Haz clic en "Completar Matrícula" para finalizar el proceso'})]})]})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(_e,{title:"Matrícula - Academia Linaje"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Formato de Ingreso"}),e.jsx("p",{className:"text-gray-600",children:"Academia de Formación Musical y Espiritual LINAJE"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-4",children:[1,2,3,4].map(n=>{const s=n<o||n===o&&N(n),x=n===o,g=n<o;return e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"relative flex flex-col items-center flex-1",children:[e.jsx("button",{type:"button",onClick:()=>xe(n),disabled:n>o,className:k("w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-300 relative z-10",x&&"ring-4 ring-amber-200 scale-110",g&&"bg-green-600 text-white hover:bg-green-700",x&&s&&"bg-amber-600 text-white",x&&!s&&"bg-amber-400 text-white",!x&&!g&&"bg-gray-200 text-gray-500",n<=o&&"cursor-pointer",n>o&&"cursor-not-allowed"),children:g?e.jsx(O,{className:"h-5 w-5"}):e.jsx("span",{children:n})}),e.jsxs("span",{className:k("text-xs mt-2 text-center font-medium transition-colors",x?"text-amber-600":"text-gray-500"),children:[n===1&&"Responsable",n===2&&"Ubicación",n===3&&"Estudiantes",n===4&&"Finalizar"]})]}),n<4&&e.jsx("div",{className:k("flex-1 h-1 mx-2 rounded transition-all duration-300",n<o?"bg-green-600":"bg-gray-200")})]},n)})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Paso ",o," de ",b,N(o)&&e.jsxs("span",{className:"ml-2 text-green-600 inline-flex items-center gap-1",children:[e.jsx(O,{className:"h-4 w-4"}),"Completado"]})]})})]}),e.jsxs("form",{onSubmit:he,children:[Object.keys(l).length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Hay errores en el formulario:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:Object.entries(l).map(([n,s])=>e.jsxs("li",{children:[n,": ",s]},n))})]}),je(),e.jsxs("div",{className:"flex justify-between items-center mt-6 gap-4",children:[o>1&&e.jsxs(G,{type:"button",onClick:pe,variant:"outline",size:"lg",className:"gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Anterior"]}),o===1&&e.jsx("div",{}),o<b&&e.jsxs("div",{className:"ml-auto flex flex-col items-end gap-2",children:[!N(o)&&e.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4"}),"Completa los campos requeridos"]}),e.jsxs(G,{type:"button",onClick:P,disabled:!N(o),size:"lg",className:"gap-2",children:["Siguiente",e.jsx(Re,{className:"h-4 w-4"})]})]}),o===b&&e.jsxs("div",{className:"ml-auto flex flex-col items-end gap-2",children:[!N(o)&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4"}),"Debes aceptar los compromisos"]}),e.jsx(G,{type:"submit",disabled:C||!N(o),size:"lg",className:"bg-green-600 hover:bg-green-700 gap-2 min-w-[200px]",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-5 w-5"}),"Completar Matrícula"]})})]})]})]})]})})]})}export{hs as default};
