import{u as b,r as N,j as e,H as F,L as I}from"./app-DCOsoYi3.js";import{B as x}from"./button-B9hI3r_Q.js";import{A as z}from"./app-layout-B0UTyL2P.js";import{D as y,b as w,g as _,c as C,d as A,e as D}from"./dialog-BnCsaNJN.js";import{I as j}from"./input-Cm1M162v.js";import{L as p}from"./label-Zv0CAZXQ.js";import{T as E}from"./textarea-EZ2FdAxj.js";import{A as M}from"./arrow-left-D3BClK2O.js";import{P as f}from"./plus-BUUCJvMq.js";import{c as k}from"./createLucideIcon-Cn05_LTS.js";import{A as L}from"./award-Bo6aOZao.js";import"./app-QBErJ8Tp.js";import"./app-header-Cev7muzl.js";import"./index-D-wjWrtp.js";import"./index-DxJPmfU5.js";import"./index-CMWG4mbA.js";import"./music-lZeNWmjS.js";import"./mail-CpTWLzOe.js";import"./lock-DaHcpFYr.js";import"./shield-B8Ff63Zy.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],S=k("Book",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],$=k("ListChecks",B);function G({open:o,onOpenChange:m,programId:v,studyPlan:s}){const c=!!s,{data:n,setData:t,post:l,put:i,processing:u,errors:a,reset:r}=b({module_name:s?.module_name||"",description:s?.description||"",hours:s?.hours||1,level:s?.level||1});N.useEffect(()=>{s?t({module_name:s.module_name,description:s.description||"",hours:s.hours,level:s.level}):r()},[s,o]);const g=h=>{h.preventDefault(),c?i(route("study_plans.update",s.id),{preserveScroll:!0,onSuccess:()=>{m(!1),r()}}):l(route("study_plans.store",v),{preserveScroll:!0,onSuccess:()=>{m(!1),r()}})};return e.jsx(y,{open:o,onOpenChange:m,children:e.jsx(w,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs(_,{children:[e.jsx(C,{children:c?"Editar Módulo":"Agregar Módulo"}),e.jsx(A,{children:c?"Actualiza la información del módulo del plan de estudios.":"Agrega un nuevo módulo al plan de estudios del programa."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"module_name",children:"Nombre del Módulo *"}),e.jsx(j,{id:"module_name",value:n.module_name,onChange:h=>t("module_name",h.target.value),placeholder:"Ej: Introducción a la Programación",className:a.module_name?"border-red-500":""}),a.module_name&&e.jsx("p",{className:"text-sm text-red-600",children:a.module_name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"description",children:"Descripción"}),e.jsx(E,{id:"description",value:n.description,onChange:h=>t("description",h.target.value),placeholder:"Describe el contenido y objetivos del módulo",rows:3,className:a.description?"border-red-500":""}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"hours",children:"Horas *"}),e.jsx(j,{id:"hours",type:"number",min:"1",value:n.hours,onChange:h=>t("hours",parseInt(h.target.value)||1),className:a.hours?"border-red-500":""}),a.hours&&e.jsx("p",{className:"text-sm text-red-600",children:a.hours})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"level",children:"Nivel *"}),e.jsx(j,{id:"level",type:"number",min:"1",value:n.level,onChange:h=>t("level",parseInt(h.target.value)||1),className:a.level?"border-red-500":""}),a.level&&e.jsx("p",{className:"text-sm text-red-600",children:a.level})]})]})]}),e.jsxs(D,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:u,children:"Cancelar"}),e.jsx(x,{type:"submit",disabled:u,children:u?"Guardando...":c?"Actualizar":"Crear"})]})]})})})}function T({open:o,onOpenChange:m,studyPlanId:v,activity:s,nextOrder:c=0}){const n=!!s,{data:t,setData:l,post:i,put:u,processing:a,errors:r,reset:g}=b({name:s?.name||"",description:s?.description||"",order:s?.order??c,weight:s?.weight||0,status:s?.status||"active"});N.useEffect(()=>{s?l({name:s.name,description:s.description||"",order:s.order,weight:s.weight,status:s.status}):(g(),l("order",c))},[s,o,c]);const h=d=>{d.preventDefault(),n?u(route("activities.update",s.id),{preserveScroll:!0,onSuccess:()=>{m(!1),g()}}):i(route("activities.store",v),{preserveScroll:!0,onSuccess:()=>{m(!1),g()}})};return e.jsx(y,{open:o,onOpenChange:m,children:e.jsx(w,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs(_,{children:[e.jsx(C,{children:n?"Editar Actividad":"Agregar Actividad"}),e.jsx(A,{children:n?"Actualiza la información de la actividad.":"Agrega una nueva actividad al módulo del plan de estudios."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"name",children:"Nombre de la Actividad *"}),e.jsx(j,{id:"name",value:t.name,onChange:d=>l("name",d.target.value),placeholder:"Ej: Proyecto Final",className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"description",children:"Descripción"}),e.jsx(E,{id:"description",value:t.description,onChange:d=>l("description",d.target.value),placeholder:"Describe la actividad y sus objetivos",rows:3,className:r.description?"border-red-500":""}),r.description&&e.jsx("p",{className:"text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"order",children:"Orden *"}),e.jsx(j,{id:"order",type:"number",min:"0",value:t.order,onChange:d=>l("order",parseInt(d.target.value)||0),className:r.order?"border-red-500":""}),r.order&&e.jsx("p",{className:"text-sm text-red-600",children:r.order})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"weight",children:"Peso (%) *"}),e.jsx(j,{id:"weight",type:"number",min:"0",max:"100",step:"0.01",value:t.weight,onChange:d=>l("weight",parseFloat(d.target.value)||0),className:r.weight?"border-red-500":""}),r.weight&&e.jsx("p",{className:"text-sm text-red-600",children:r.weight})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"status",children:"Estado *"}),e.jsxs("select",{id:"status",value:t.status,onChange:d=>l("status",d.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"active",children:"Activa"}),e.jsx("option",{value:"inactive",children:"Inactiva"})]}),r.status&&e.jsx("p",{className:"text-sm text-red-600",children:r.status})]})]}),e.jsxs(D,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:a,children:"Cancelar"}),e.jsx(x,{type:"submit",disabled:a,children:a?"Guardando...":n?"Actualizar":"Crear"})]})]})})})}function q({open:o,onOpenChange:m,activityId:v,criteria:s,nextOrder:c=0}){const n=!!s,{data:t,setData:l,post:i,put:u,processing:a,errors:r,reset:g}=b({name:s?.name||"",description:s?.description||"",max_points:s?.max_points||10,order:s?.order??c});N.useEffect(()=>{s?l({name:s.name,description:s.description||"",max_points:s.max_points,order:s.order}):(g(),l("order",c))},[s,o,c]);const h=d=>{d.preventDefault(),n?u(route("criteria.update",s.id),{preserveScroll:!0,onSuccess:()=>{m(!1),g()}}):i(route("criteria.store",v),{preserveScroll:!0,onSuccess:()=>{m(!1),g()}})};return e.jsx(y,{open:o,onOpenChange:m,children:e.jsx(w,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs(_,{children:[e.jsx(C,{children:n?"Editar Criterio de Evaluación":"Agregar Criterio de Evaluación"}),e.jsx(A,{children:n?"Actualiza la información del criterio de evaluación.":"Agrega un nuevo criterio de evaluación a la actividad."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"name",children:"Nombre del Criterio *"}),e.jsx(j,{id:"name",value:t.name,onChange:d=>l("name",d.target.value),placeholder:"Ej: Calidad del código",className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"description",children:"Descripción"}),e.jsx(E,{id:"description",value:t.description,onChange:d=>l("description",d.target.value),placeholder:"Describe qué se evaluará en este criterio",rows:3,className:r.description?"border-red-500":""}),r.description&&e.jsx("p",{className:"text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"max_points",children:"Puntuación Máxima *"}),e.jsx(j,{id:"max_points",type:"number",min:"0",step:"0.01",value:t.max_points,onChange:d=>l("max_points",parseFloat(d.target.value)||0),className:r.max_points?"border-red-500":""}),r.max_points&&e.jsx("p",{className:"text-sm text-red-600",children:r.max_points})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"order",children:"Orden *"}),e.jsx(j,{id:"order",type:"number",min:"0",value:t.order,onChange:d=>l("order",parseInt(d.target.value)||0),className:r.order?"border-red-500":""}),r.order&&e.jsx("p",{className:"text-sm text-red-600",children:r.order})]})]})]}),e.jsxs(D,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:a,children:"Cancelar"}),e.jsx(x,{type:"submit",disabled:a,children:a?"Guardando...":n?"Actualizar":"Crear"})]})]})})})}function ne({program:o,studyPlans:m}){const[v,s]=N.useState({open:!1}),[c,n]=N.useState({open:!1}),[t,l]=N.useState({open:!1});return e.jsxs(z,{children:[e.jsx(F,{title:`${o.name} - Plan de Estudios`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(I,{href:route("programas_academicos.index"),className:"mb-3 inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(M,{className:"mr-1 h-4 w-4"}),"Volver a programas"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.name}),o.description&&e.jsx("p",{className:"mt-2 text-gray-600",children:o.description}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[o.duration_months," meses"]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${o.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.status==="active"?"Activo":"Inactivo"})]})]}),e.jsx(I,{href:route("programas_academicos.edit",o.id),children:e.jsx(x,{variant:"outline",children:"Editar Programa"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plan de Estudios"}),e.jsxs(x,{onClick:()=>s({open:!0}),children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Agregar Módulo"]})]}),m.length>0?e.jsx("div",{className:"space-y-4",children:m.map((i,u)=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(S,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Módulo ",u+1,": ",i.module_name]}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:i.description}),e.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[i.hours," horas"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Nivel ",i.level]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>s({open:!0,studyPlan:i}),children:"Editar"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>n({open:!0,studyPlanId:i.id,nextOrder:i.activities.length}),children:e.jsx(f,{className:"h-4 w-4"})})]})]}),i.activities.length>0?e.jsxs("div",{className:"ml-14 space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Actividades:"}),i.activities.map(a=>e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-purple-100",children:e.jsx($,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:a.name}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:a.description}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500",children:[e.jsxs("span",{children:["Peso: ",a.weight,"%"]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`rounded-full px-2 py-0.5 ${a.status==="active"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:a.status==="active"?"Activa":"Inactiva"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>n({open:!0,studyPlanId:i.id,activity:a}),children:"Editar"}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>l({open:!0,activityId:a.id,nextOrder:a.evaluation_criteria.length}),children:e.jsx(f,{className:"h-4 w-4"})})]})]}),a.evaluation_criteria.length>0&&e.jsxs("div",{className:"ml-11 space-y-2",children:[e.jsx("h6",{className:"text-xs font-semibold text-gray-600",children:"Criterios de Evaluación:"}),a.evaluation_criteria.map(r=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-gray-200 bg-white p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.name}),r.description&&e.jsx("p",{className:"text-xs text-gray-600",children:r.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.max_points," pts"]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>l({open:!0,activityId:a.id,criteria:r}),children:"Editar"})]})]},r.id))]})]},a.id))]}):e.jsxs("div",{className:"ml-14 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"No hay actividades en este módulo"}),e.jsxs(x,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>n({open:!0,studyPlanId:i.id,nextOrder:0}),children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Agregar Primera Actividad"]})]})]},i.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 bg-white p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx(S,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No hay módulos en este programa"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Comienza agregando el primer módulo al plan de estudios"}),e.jsxs(x,{onClick:()=>s({open:!0}),children:[e.jsx(f,{className:"mr-2 h-5 w-5"}),"Agregar Primer Módulo"]})]})]})]}),e.jsx(G,{open:v.open,onOpenChange:i=>s({open:i,studyPlan:void 0}),programId:o.id,studyPlan:v.studyPlan}),c.studyPlanId&&e.jsx(T,{open:c.open,onOpenChange:i=>n({open:i,studyPlanId:void 0,activity:void 0}),studyPlanId:c.studyPlanId,activity:c.activity,nextOrder:c.nextOrder}),t.activityId&&e.jsx(q,{open:t.open,onOpenChange:i=>l({open:i,activityId:void 0,criteria:void 0}),activityId:t.activityId,criteria:t.criteria,nextOrder:t.nextOrder})]})}export{ne as default};
