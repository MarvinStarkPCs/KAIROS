import{r as p,j as e,H as A,L as g,a as x}from"./app-B-gf--_t.js";import{A as H}from"./app-layout-DCfsguUo.js";import{B as t}from"./button-DTUf-G6D.js";import{I}from"./input-CTu6QkH6.js";import{C as i,b as l,c,a as d}from"./card-CtCBZFLS.js";import{B as f}from"./badge-DHGaHh_K.js";import{T as L,a as U,b as v,c as n,d as $,e as r}from"./table-DsRTdx_o.js";import{S as C,a as _,b as k,c as E,d as o}from"./select-D72WIHSZ.js";import{P as z}from"./plus-C6WUc54B.js";import{U as D}from"./users-zOAYG_oC.js";import{U as R,S as V}from"./app-header-C7WnRrDD.js";import{C as q}from"./clock-DyAFpXUC.js";import{c as T}from"./createLucideIcon-BKgpMFfl.js";import{E as X}from"./eye-nvQyoivy.js";import{S as G}from"./square-pen-DbJhJyBe.js";import"./app-ByrExa3J.js";import"./utils-CBfrqCZ4.js";import"./index-86_gkdgf.js";import"./index-Bw9BVP0i.js";import"./index-BE6TIB6q.js";import"./index-DPi3QwXA.js";import"./index-ZKCUC6w_.js";import"./index-gJzyg25X.js";import"./toaster-B6w1HnuI.js";import"./index-CdJFUDDL.js";import"./check-D-BBakgQ.js";import"./graduation-cap-B9BAa-o7.js";import"./index-IvkJj8jp.js";import"./index-CbRbsemT.js";import"./wayfinder-Bf9OnZdi.js";import"./index-D0SF2iEG.js";import"./user-9gpTgHHE.js";import"./credit-card-CtoVMbCz.js";import"./calendar-DTT_Gcgg.js";import"./file-text-Ms1_89oi.js";import"./lock-CmYtdoIE.js";import"./shield-BDPpEQT_.js";import"./mail-Cj9TAJd0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],J=T("Trash",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Q=T("UserX",O);function Le({enrollments:a,stats:m,programs:M,students:W,filters:h}){const[N,w]=p.useState(h.search||""),[j,y]=p.useState(h.program_id||"all"),[u,b]=p.useState(h.status||"all"),S=()=>{x.get("/matriculas",{search:N||void 0,program_id:j!=="all"?j:void 0,status:u!=="all"?u:void 0},{preserveState:!0,preserveScroll:!0})},B=()=>{w(""),y("all"),b("all"),x.get("/matriculas")},F=s=>{confirm("¿Estás seguro de eliminar esta matrícula?")&&x.delete(`/matrículas/${s}`)},P=s=>({active:e.jsx(f,{className:"bg-green-500",children:"Activo"}),waiting:e.jsx(f,{className:"bg-yellow-500",children:"En espera"}),withdrawn:e.jsx(f,{className:"bg-gray-500",children:"Retirado"})})[s];return e.jsxs(H,{children:[e.jsx(A,{title:"Matrículas"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Matrículas a Programas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona las matrículas de estudiantes a programas académicos"})]}),e.jsx(g,{href:"/matrículas/create",children:e.jsxs(t,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Nueva Matrícula"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(i,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Matrículas"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:m.total_enrollments})})]}),e.jsxs(i,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Activos"}),e.jsx(R,{className:"h-4 w-4 text-green-500"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:m.active_enrollments})})]}),e.jsxs(i,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"En Espera"}),e.jsx(q,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:m.waiting_list})})]}),e.jsxs(i,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Retirados"}),e.jsx(Q,{className:"h-4 w-4 text-gray-500"})]}),e.jsx(d,{children:e.jsx("div",{className:"text-2xl font-bold",children:m.withdrawn})})]})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(c,{children:"Filtros"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx(I,{placeholder:"Buscar estudiante...",value:N,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&S()})}),e.jsxs(C,{value:j,onValueChange:y,children:[e.jsx(_,{className:"w-[200px]",children:e.jsx(k,{placeholder:"Programa"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos los programas"}),M.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(C,{value:u,onValueChange:b,children:[e.jsx(_,{className:"w-[180px]",children:e.jsx(k,{placeholder:"Estado"})}),e.jsxs(E,{children:[e.jsx(o,{value:"all",children:"Todos los estados"}),e.jsx(o,{value:"active",children:"Activo"}),e.jsx(o,{value:"waiting",children:"En espera"}),e.jsx(o,{value:"withdrawn",children:"Retirado"})]})]}),e.jsxs(t,{onClick:S,children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsx(t,{variant:"outline",onClick:B,children:"Limpiar"})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{children:["Matrículas (",a.total,")"]})}),e.jsxs(d,{children:[e.jsxs(L,{children:[e.jsx(U,{children:e.jsxs(v,{children:[e.jsx(n,{children:"ID"}),e.jsx(n,{children:"Estudiante"}),e.jsx(n,{children:"Programa"}),e.jsx(n,{children:"Fecha Matrícula"}),e.jsx(n,{children:"Estado"}),e.jsx(n,{className:"text-right",children:"Acciones"})]})}),e.jsx($,{children:a.data.length===0?e.jsx(v,{children:e.jsx(r,{colSpan:6,className:"text-center text-muted-foreground",children:"No se encontraron matrículas"})}):a.data.map(s=>e.jsxs(v,{children:[e.jsxs(r,{className:"font-medium",children:["#",s.id]}),e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.student.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.student.email})]})}),e.jsx(r,{children:s.program.name}),e.jsx(r,{children:new Date(s.enrollment_date).toLocaleDateString("es-ES")}),e.jsx(r,{children:P(s.status)}),e.jsx(r,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(g,{href:`/matrículas/${s.id}`,children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(g,{href:`/matrículas/${s.id}/edit`,children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(J,{className:"h-4 w-4 text-destructive"})})]})})]},s.id))})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[a.current_page>1&&e.jsx(t,{variant:"outline",onClick:()=>x.get(`/matrículas?page=${a.current_page-1}`),children:"Anterior"}),a.current_page<a.last_page&&e.jsx(t,{variant:"outline",onClick:()=>x.get(`/matrículas?page=${a.current_page+1}`),children:"Siguiente"})]})]})]})]})]})]})}export{Le as default};
